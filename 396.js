"use strict";(self.webpackChunkaisa=self.webpackChunkaisa||[]).push([[396],{396:(t,e,h)=>{h.r(e),h.d(e,{Scene20:()=>l});var r=h(1829),i=h(9823),s=h(9293),a=h(9999),o=h(82),n=h(6852);class d{framebuffer;width;height;file;fontTexture;charToIndex;constructor(t,e,h,r,i){this.framebuffer=t,this.width=e,this.height=h,this.file=i,this.charToIndex=new Map;for(let t=0;t<r.length;t++)this.addCharInex(r.charCodeAt(t),t)}init(){return Promise.all([o.O.load(this.file,!0).then((t=>this.fontTexture=t))])}draw(){this.framebuffer.drawTextureRectFastAlpha(0,0,0,0,50,50,this.fontTexture)}drawText2(t,e,h){let r=t;const i=this.fontTexture.width/this.width;for(let t=0;t<h.length;t++){const s=h.charCodeAt(t),a=this.charToIndex.has(s)?this.charToIndex.get(s):0,o=Math.floor(a%i)*this.width,n=Math.floor(a/i)*this.height;this.framebuffer.drawTextureRectFastAlpha(r,e,o,n,this.width,this.height,this.fontTexture),r+=this.width}}drawText(t,e,h,r,i,s=!0){let a=e;const o=this.fontTexture.width/this.width,n=Math.floor(.07*i)%this.width,d=Math.floor(.07*i/this.width)%r.length;a-=n;for(let e=0;e<Math.floor(this.framebuffer.width/this.width+1);e++){const n=r.charCodeAt((e+d)%r.length),f=this.charToIndex.has(n)?this.charToIndex.get(n):0,l=Math.floor(f%o)*this.width,w=Math.floor(f/o)*this.height;this.drawTextureRectFastAlpha(t,a,h,l,w,this.width,this.height,this.fontTexture,i,s),a+=this.width}}drawText3(t,e,h,r,i,s=!0,a){let o=e;const n=this.fontTexture.width/this.width,d=Math.floor(.07*i)%this.width,f=Math.floor(.07*i/this.width)%r.length;o-=d;for(let e=0;e<Math.floor(this.framebuffer.width/this.width+1);e++){const d=r.charCodeAt((e+f)%r.length),l=this.charToIndex.has(d)?this.charToIndex.get(d):0,w=Math.floor(l%n)*this.width,c=Math.floor(l/n)*this.height;this.drawTextureRectFastAlpha3(t,o,h,w,c,this.width,this.height,this.fontTexture,i,s,a),o+=this.width}}drawTextureRectFastAlpha3(t,e,h,r,i,s,a,o,d,f=!0,l){const w=Math.max(0,0-e),c=Math.min(e+s,t.width)-e,x=.07*d%1;for(let t=w;t<c;t++){let h=r+t+i*o.width;for(let r=0;r<a;r++){if((255&o.texture[h])>>0>100){const h=0-1.2*r+4,i=1.2*(e+t)-160-1.2*x;l.push(new n.r(i,Math.sin(.06*i)*h+1*Math.sin(.2*i),Math.cos(.06*i)*h+1*Math.cos(.2*i)))}h+=o.width}}}drawTextureRectFastAlpha(t,e,h,r,i,s,a,o,n,d=!0){const f=Math.max(0,0-e),l=Math.min(e+s,t.width)-e;for(let s=f;s<l;s++){const f=d?Math.round(30*Math.sin(.004*n+.013*(e+s))):0;let l=r+s+i*o.width,w=e+s+(h+f)*t.width;for(let e=0;e<a;e++){const e=o.texture[l];4278190080&e&&(t.framebuffer[w]=e),l+=o.width,w+=this.framebuffer.width}}}addCharInex(t,e){this.charToIndex.set(t,e)}}class f extends a.p{texture2;startTime;fontRenderer;fontRenderer2;init(t){return this.startTime=Date.now(),this.fontRenderer=new d(t,32,34,"ABCDEFGHIJKLMNOPQRSTUVWXYZ@+# 0123456789!'()?-/.,",h(7976)),this.fontRenderer2=new d(t,16,18,"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789*:?!-(),'.+~<>>#// ",h(8929)),Promise.all([o.O.load(h(2485),!0).then((t=>this.texture2=t)),this.fontRenderer.init(),this.fontRenderer2.init()])}render(t,e){this.drawStarField(t,e),t.drawTexture(t.width/2-this.texture2.width/2,0,this.texture2,1),this.fontRenderer.drawText(t,0,102," # TEAM GENESIS # IS BACK IN 2018 WITH A NEW PC FIRST! 'STAR WARS - EMPIRE AT WAR' DO YOU LIKE THIS?    ",e),this.fontRenderer2.drawText(t,0,t.height-20,"   * WE REALLY LOVE SCROLLERS * HOW ABOUT YOU? THIS PRODUCTION IS FROM HOODLUM~< LETS GO ON WITH THE GENERAL BLAH BLAH      ",1.6*e,!1);const h=t.width/16;for(let r=0;r<h;r++){const i=.003*e,s=r/h*.6,a=.5*(Math.cos(Math.PI*s/.5+i)+1)*255,o=.5*(Math.sin(Math.PI*s/.5+i)+1)*255,n=255<<24|.5*(Math.sin(i)+1)*255<<16|o<<8|a;t.drawRect(16*r,68,16,n),t.drawRect(16*(h-1-r),168,16,n)}}drawStarField(t,e){const h=new s.Z;h.setSeed(666);const a=new Array,o=new Array;for(let e=0;e<100;e++)a.push(new i.S(h.getFloat()*t.width,Math.round(100*h.getFloat()+68)));for(let e=0;e<60;e++)o.push(new i.S(h.getFloat()*t.width,Math.round(100*h.getFloat()+68)));t.clearColorBuffer(-16777216),t.drawRect2(0,68,t.width,100,r.I.DARK_BLUE.toPackedFormat());for(let h=0;h<100;h++)t.drawPixel((a[h].x+.02*e|0)%t.width,a[h].y,-8355712);for(let h=0;h<60;h++)t.drawPixel((o[h].x+.04*e|0)%t.width,o[h].y,-1)}}class l{SineScrollerScene;init(t){return this.SineScrollerScene=new f,Promise.all([this.SineScrollerScene.init(t)])}render(t,e){this.SineScrollerScene.render(t,e)}}},8929:(t,e,h)=>{t.exports=h.p+"660539e872dc7488532f.png"},7976:(t,e,h)=>{t.exports=h.p+"1c9a3c7bf86ce3ec74b5.png"},2485:(t,e,h)=>{t.exports=h.p+"5211260c15f95de001ff.png"}}]);
//# sourceMappingURL=396.js.map