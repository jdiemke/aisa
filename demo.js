/*! For license information please see demo.js.LICENSE.txt */
(()=>{var e={97402:(e,t,r)=>{"use strict";var i=r(14167);function o(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)s(t[r])(e);return e}if(t)return s(t)(e),e;for(t in i)s(t)(e);return e}function s(e){var t=i[e];if(!t)throw new Error("Unknown keyword "+e);return t}e.exports=o,o.get=s},98898:(e,t,r)=>{"use strict";var i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,o=/t|\s/i,s={date:n,time:u,"date-time":function(e,t){if(e&&t){e=e.split(o),t=t.split(o);var r=n(e[0],t[0]);if(void 0!==r)return r||u(e[1],t[1])}}},a={type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};function n(e,t){if(e&&t)return e>t?1:e<t?-1:e===t?0:void 0}function u(e,t){if(e&&t&&(e=e.match(i),t=t.match(i),e&&t))return(e=e[1]+e[2]+e[3]+(e[4]||""))>(t=t[1]+t[2]+t[3]+(t[4]||""))?1:e<t?-1:e===t?0:void 0}e.exports=function(e){var t="format"+e;return function i(o){return i.definition={type:"string",inline:r(85121),statements:!0,errors:"full",dependencies:["format"],metaSchema:{anyOf:[{type:"string"},a]}},o.addKeyword(t,i.definition),o.addKeyword("formatExclusive"+e,{dependencies:["format"+e],metaSchema:{anyOf:[{type:"boolean"},a]}}),function(e){var t=e._formats;for(var r in s){var i=t[r];("object"!=typeof i||i instanceof RegExp||!i.validate)&&(i=t[r]={validate:i}),i.compare||(i.compare=s[r])}}(o),o}}},91295:e=>{"use strict";e.exports={metaSchemaRef:function(e){var r=e._opts.defaultMeta;return"string"==typeof r?{$ref:r}:e.getSchema(t)?{$ref:t}:(console.warn("meta schema not defined"),{})}};var t="http://json-schema.org/draft-07/schema"},14338:e=>{"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e,t){if(!e)return!0;var r=Object.keys(t.properties);return 0==r.length||{required:r}},metaSchema:{type:"boolean"},dependencies:["properties"]},t.addKeyword("allRequired",e.definition),t}},34199:e=>{"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{required:e}:{anyOf:e.map((function(e){return{required:[e]}}))})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("anyRequired",e.definition),t}},79275:(e,t,r)=>{"use strict";var i=r(91295);function o(e,t){for(var r=e.split("/"),i={},o=i,s=1;s<r.length;s++){var a=r[s],n=s==r.length-1;a=a.replace(/~1/g,"/").replace(/~0/g,"~");var u=o.properties={},c=void 0;if(/[0-9]+/.test(a)){var h=+a;for(c=o.items=[];h--;)c.push({})}o=n?t:{},u[a]=o,c&&c.push(o)}return i}e.exports=function e(t){return e.definition={type:"object",macro:function(e){var t=[];for(var r in e)t.push(o(r,e[r]));return{allOf:t}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:i.metaSchemaRef(t)}},t.addKeyword("deepProperties",e.definition),t}},79026:e=>{"use strict";function t(e,t){var s="data"+(t||"");if(!e)return s;for(var a,n=s,u=e.split("/"),c=1;c<u.length;c++){n+=" && "+(s+=(a=u[c].replace(/~1/g,"/").replace(/~0/g,"~"),i.test(a)?"["+a+"]":r.test(a)?"."+a:"['"+a.replace(o,"\\$&")+"']"))}return n}e.exports=function e(r){return e.definition={type:"object",inline:function(e,r,i){for(var o="",s=0;s<i.length;s++)s&&(o+=" && "),o+="("+t(i[s],e.dataLevel)+" !== undefined)";return o},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}},r.addKeyword("deepRequired",e.definition),r};var r=/^[a-z$_][a-z$_0-9]*$/i,i=/^[0-9]+$/,o=/'|\\/g},85121:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o;if(i+="var "+l+" = undefined;",!1===e.opts.format)return i+" "+l+" = true; ";var f=e.schema.format,d=e.opts.$data&&f.$data,p="";if(d)i+=" var "+(m="format"+o)+" = formats["+e.util.getData(f.$data,s,e.dataPathArr)+"] , "+(g="compare"+o)+" = "+m+" && "+m+".compare;";else{var m;if(!(m=e.formats[f])||!m.compare)return i+"  "+l+" = true; ";var g="formats"+e.util.getProperty(f)+".compare"}var v,y,x="formatMaximum"==t,w="formatExclusive"+(x?"Maximum":"Minimum"),D=e.schema[w],b=e.opts.$data&&D&&D.$data,A=x?"<":">",E="result"+o,P=e.opts.$data&&a&&a.$data;if(P?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",v="schema"+o):v=a,b){var C=e.util.getData(D.$data,s,e.dataPathArr),M="exclusive"+o,F="' + "+(_="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+C+"; ",i+=" if (typeof "+(C="schemaExcl"+o)+" != 'boolean' && "+C+" !== undefined) { "+l+" = false; ";var S=w;(y=y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(S||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+w+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var B=i;i=y.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+B+"]); ":i+=" validate.errors = ["+B+"]; return false; ":i+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }  ",c&&(p+="}",i+=" else { "),P&&(i+=" if ("+v+" === undefined) "+l+" = true; else if (typeof "+v+" != 'string') "+l+" = false; else { ",p+="}"),d&&(i+=" if (!"+g+") "+l+" = true; else { ",p+="}"),i+=" var "+E+" = "+g+"("+h+",  ",i+=P?""+v:""+e.util.toQuotedString(a),i+=" ); if ("+E+" === undefined) "+l+" = false; var "+M+" = "+C+" === true; if ("+l+" === undefined) { "+l+" = "+M+" ? "+E+" "+A+" 0 : "+E+" "+A+"= 0; } if (!"+l+") var op"+o+" = "+M+" ? '"+A+"' : '"+A+"=';"}else{F=A,(M=!0===D)||(F+="=");var _="'"+F+"'";P&&(i+=" if ("+v+" === undefined) "+l+" = true; else if (typeof "+v+" != 'string') "+l+" = false; else { ",p+="}"),d&&(i+=" if (!"+g+") "+l+" = true; else { ",p+="}"),i+=" var "+E+" = "+g+"("+h+",  ",i+=P?""+v:""+e.util.toQuotedString(a),i+=" ); if ("+E+" === undefined) "+l+" = false; if ("+l+" === undefined) "+l+" = "+E+" "+A,M||(i+="="),i+=" 0;"}return i+=p+"if (!"+l+") { ",S=t,(y=y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(S||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+_+", limit:  ",i+=P?""+v:""+e.util.toQuotedString(a),i+=" , exclusive: "+M+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+F+' "',i+=P?"' + "+v+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=P?"validate.schema"+n:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",B=i,i=y.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+B+"]); ":i+=" validate.errors = ["+B+"]; return false; ":i+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+"}"}},67635:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="key"+o,d="idx"+o,p="patternMatched"+o,m="dataProperties"+o,g="",v=e.opts.ownProperties;i+="var "+l+" = true;",v&&(i+=" var "+m+" = undefined;");var y=a;if(y)for(var x,w=-1,D=y.length-1;w<D;){x=y[w+=1],i+=" var "+p+" = false;  ",i+=v?" "+m+" = "+m+" || Object.keys("+h+"); for (var "+d+"=0; "+d+"<"+m+".length; "+d+"++) { var "+f+" = "+m+"["+d+"]; ":" for (var "+f+" in "+h+") { ",i+=" "+p+" = "+e.usePattern(x)+".test("+f+"); if ("+p+") break; } ";var b=e.util.escapeQuotes(x);i+=" if (!"+p+") { "+l+" = false;  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingPattern: '"+b+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have property matching pattern \\'"+b+"\\'' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",c&&(g+="}",i+=" else { ")}return i+""+g}},3807:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e),p="";d.level++;var m,g="valid"+d.level,v="ifPassed"+e.level,y=d.baseId;i+="var "+v+";";var x=a;if(x)for(var w,D=-1,b=x.length-1;D<b;){if(w=x[D+=1],D&&!m&&(i+=" if (!"+v+") { ",p+="}"),w.if&&(e.opts.strictKeywords?"object"==typeof w.if&&Object.keys(w.if).length>0:e.util.schemaHasRules(w.if,e.RULES.all))){i+=" var "+f+" = errors;   ";var A=e.compositeRule;if(e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.schema=w.if,d.schemaPath=n+"["+D+"].if",d.errSchemaPath=u+"/"+D+"/if",i+="  "+e.validate(d)+" ",d.baseId=y,d.createErrors=!0,e.compositeRule=d.compositeRule=A,i+=" "+v+" = "+g+"; if ("+v+") {  ","boolean"==typeof w.then){if(!1===w.then){(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { caseIndex: "+D+" } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var E=i;i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}i+=" var "+g+" = "+w.then+"; "}else d.schema=w.then,d.schemaPath=n+"["+D+"].then",d.errSchemaPath=u+"/"+D+"/then",i+="  "+e.validate(d)+" ",d.baseId=y;i+="  } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } } "}else if(i+=" "+v+" = true;  ","boolean"==typeof w.then){var P;if(!1===w.then)(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { caseIndex: "+D+" } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",E=i,i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" var "+g+" = "+w.then+"; "}else d.schema=w.then,d.schemaPath=n+"["+D+"].then",d.errSchemaPath=u+"/"+D+"/then",i+="  "+e.validate(d)+" ",d.baseId=y;m=w.continue}return i+(p+"var ")+l+" = "+g+";"}},25891:e=>{"use strict";var t={},r={timestamp:function(){return Date.now()},datetime:function(){return(new Date).toISOString()},date:function(){return(new Date).toISOString().slice(0,10)},time:function(){return(new Date).toISOString().slice(11)},random:function(){return Math.random()},randomint:function(e){var t=e&&e.max||2;return function(){return Math.floor(Math.random()*t)}},seq:function(e){var r=e&&e.name||"";return t[r]=t[r]||0,function(){return t[r]++}}};e.exports=function e(t){return e.definition={compile:function(e,t,r){var o={};for(var s in e){var a=e[s],n=i("string"==typeof a?a:a.func);o[s]=n.length?n(a.args):n}return r.opts.useDefaults&&!r.compositeRule?function(t){for(var i in e)void 0!==t[i]&&("empty"!=r.opts.useDefaults||null!==t[i]&&""!==t[i])||(t[i]=o[i]());return!0}:function(){return!0}},DEFAULTS:r,metaSchema:{type:"object",additionalProperties:{type:["string","object"],additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}}},t.addKeyword("dynamicDefaults",e.definition),t;function i(e){var t=r[e];if(t)return t;throw new Error('invalid "dynamicDefaults" keyword property value: '+e)}}},91627:(e,t,r)=>{"use strict";e.exports=r(98898)("Maximum")},5622:(e,t,r)=>{"use strict";e.exports=r(98898)("Minimum")},14167:(e,t,r)=>{"use strict";e.exports={instanceof:r(58570),range:r(929),regexp:r(29217),typeof:r(30061),dynamicDefaults:r(25891),allRequired:r(14338),anyRequired:r(34199),oneRequired:r(85074),prohibited:r(56227),uniqueItemProperties:r(75947),deepProperties:r(79275),deepRequired:r(79026),formatMinimum:r(5622),formatMaximum:r(91627),patternRequired:r(32091),switch:r(8079),select:r(52718),transform:r(11290)}},58570:e=>{"use strict";var t={Object,Array,Function,Number,String,Date,RegExp};e.exports=function e(r){return"undefined"!=typeof Buffer&&(t.Buffer=Buffer),"undefined"!=typeof Promise&&(t.Promise=Promise),e.definition={compile:function(e){if("string"==typeof e){var t=i(e);return function(e){return e instanceof t}}var r=e.map(i);return function(e){for(var t=0;t<r.length;t++)if(e instanceof r[t])return!0;return!1}},CONSTRUCTORS:t,metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}},r.addKeyword("instanceof",e.definition),r;function i(e){var r=t[e];if(r)return r;throw new Error('invalid "instanceof" keyword value '+e)}}},85074:e=>{"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{required:e}:{oneOf:e.map((function(e){return{required:[e]}}))})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("oneRequired",e.definition),t}},32091:(e,t,r)=>{"use strict";e.exports=function e(t){return e.definition={type:"object",inline:r(67635),statements:!0,errors:"full",metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}},t.addKeyword("patternRequired",e.definition),t}},56227:e=>{"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{not:{required:e}}:{not:{anyOf:e.map((function(e){return{required:[e]}}))}})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("prohibited",e.definition),t}},929:e=>{"use strict";e.exports=function e(t){return e.definition={type:"number",macro:function(e,t){var r=e[0],i=e[1],o=t.exclusiveRange;return function(e,t,r){if(void 0!==r&&"boolean"!=typeof r)throw new Error("Invalid schema for exclusiveRange keyword, should be boolean");if(e>t||r&&e==t)throw new Error("There are no numbers in range")}(r,i,o),!0===o?{exclusiveMinimum:r,exclusiveMaximum:i}:{minimum:r,maximum:i}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}},t.addKeyword("range",e.definition),t.addKeyword("exclusiveRange"),t}},29217:e=>{"use strict";e.exports=function e(t){return e.definition={type:"string",inline:function(e,t,r){return function(){try{if("object"==typeof r)return new RegExp(r.pattern,r.flags);var e=r.match(/^\/(.*)\/([gimuy]*)$/);if(e)return new RegExp(e[1],e[2]);throw new Error("cannot parse string into RegExp")}catch(e){throw console.error("regular expression",r,"is invalid"),e}}()+".test(data"+(e.dataLevel||"")+")"},metaSchema:{type:["string","object"],properties:{pattern:{type:"string"},flags:{type:"string"}},required:["pattern"],additionalProperties:!1}},t.addKeyword("regexp",e.definition),t}},52718:(e,t,r)=>{"use strict";var i=r(91295);e.exports=function e(t){if(!t._opts.$data)return console.warn("keyword select requires $data option"),t;var r=i.metaSchemaRef(t),o=[];return e.definition={validate:function e(t,r,i){if(void 0===i.selectCases)throw new Error('keyword "selectCases" is absent');var o=s(i,!1),a=o.cases[t];if(void 0===a&&(a=o.default),"boolean"==typeof a)return a;var n=a(r);return n||(e.errors=a.errors),n},$data:!0,metaSchema:{type:["string","number","boolean","null"]}},t.addKeyword("select",e.definition),t.addKeyword("selectCases",{compile:function(e,t){var r=s(t);for(var i in e)r.cases[i]=a(e[i]);return function(){return!0}},valid:!0,metaSchema:{type:"object",additionalProperties:r}}),t.addKeyword("selectDefault",{compile:function(e,t){return s(t).default=a(e),function(){return!0}},valid:!0,metaSchema:r}),t;function s(e,t){var r;return o.some((function(t){if(t.parentSchema===e)return r=t,!0})),r||!1===t||(r={parentSchema:e,cases:{},default:!0},o.push(r)),r}function a(e){return"boolean"==typeof e?e:t.compile(e)}}},8079:(e,t,r)=>{"use strict";var i=r(91295);e.exports=function e(t){if(!t.RULES.keywords.switch||!t.RULES.keywords.if){var o=i.metaSchemaRef(t);return e.definition={inline:r(3807),statements:!0,errors:"full",metaSchema:{type:"array",items:{required:["then"],properties:{if:o,then:{anyOf:[{type:"boolean"},o]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},t.addKeyword("switch",e.definition),t}}},11290:e=>{"use strict";e.exports=function e(t){var r={trimLeft:function(e){return e.replace(/^[\s]+/,"")},trimRight:function(e){return e.replace(/[\s]+$/,"")},trim:function(e){return e.trim()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()},toEnumCase:function(e,t){return t.hash[i(e)]||e}};return e.definition={type:"string",errors:!1,modifying:!0,valid:!0,compile:function(e,t){var o;if(-1!==e.indexOf("toEnumCase")){if(o={hash:{}},!t.enum)throw new Error('Missing enum. To use `transform:["toEnumCase"]`, `enum:[...]` is required.');for(var s=t.enum.length;s--;s){var a=t.enum[s];if("string"==typeof a){var n=i(a);if(o.hash[n])throw new Error('Invalid enum uniqueness. To use `transform:["toEnumCase"]`, all values must be unique when case insensitive.');o.hash[n]=a}}}return function(t,i,s,a){if(s){for(var n=0,u=e.length;n<u;n++)t=r[e[n]](t,o);s[a]=t}}},metaSchema:{type:"array",items:{type:"string",enum:["trimLeft","trimRight","trim","toLowerCase","toUpperCase","toEnumCase"]}}},t.addKeyword("transform",e.definition),t;function i(e){return e.toLowerCase()}}},30061:e=>{"use strict";var t=["undefined","string","number","object","function","boolean","symbol"];e.exports=function e(r){return e.definition={inline:function(e,t,r){var i="data"+(e.dataLevel||"");return"string"==typeof r?"typeof "+i+' == "'+r+'"':(r="validate.schema"+e.schemaPath+"."+t)+".indexOf(typeof "+i+") >= 0"},metaSchema:{anyOf:[{type:"string",enum:t},{type:"array",items:{type:"string",enum:t}}]}},r.addKeyword("typeof",e.definition),r}},75947:e=>{"use strict";var t=["number","integer","string","boolean","null"];e.exports=function e(r){return e.definition={type:"array",compile:function(e,r,i){var o=i.util.equal,s=function(e,r){return e.map((function(e){var i=r.items&&r.items.properties,o=i&&i[e]&&i[e].type;return Array.isArray(o)?o.indexOf("object")<0&&o.indexOf("array")<0:t.indexOf(o)>=0}))}(e,r);return function(t){if(t.length>1)for(var r=0;r<e.length;r++){var i,a=e[r];if(s[r]){var n={};for(i=t.length;i--;)if(t[i]&&"object"==typeof t[i]){var u=t[i][a];if(!u||"object"!=typeof u){if("string"==typeof u&&(u='"'+u),n[u])return!1;n[u]=!0}}}else for(i=t.length;i--;)if(t[i]&&"object"==typeof t[i])for(var c=i;c--;)if(t[c]&&"object"==typeof t[c]&&o(t[i][a],t[c][a]))return!1}return!0}},metaSchema:{type:"array",items:{type:"string"}}},r.addKeyword("uniqueItemProperties",e.definition),r}},65096:(e,t,r)=>{"use strict";var i=r(47153),o=r(83610),s=r(47531),a=r(74022),n=r(35035),u=r(1516),c=r(47753),h=r(3978),l=r(42889);e.exports=v,v.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);r=i.validate||this._compile(i)}var o=r(t);return!0!==r.$async&&(this.errors=r.errors),o},v.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},v.prototype.addSchema=function(e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)this.addSchema(e[s],void 0,r,i);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return A(this,t=o.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,i,!0),this},v.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},v.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(r,e);if(!i&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return i},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=o.schema.call(e,{schema:{}},t);if(r){var s=r.schema,n=r.root,u=r.baseId,c=i.call(e,s,n,void 0,u);return e._fragments[t]=new a({ref:t,fragment:!0,schema:s,root:n,baseId:u,validate:c}),c}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return x(this,this._schemas,e),x(this,this._refs,e),this;switch(typeof e){case"undefined":return x(this,this._schemas),x(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,i=r?r(e):e;this._cache.del(i);var s=this._getId(e);s&&(s=o.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,o="",s=0;s<e.length;s++){var a=e[s];a&&(o+=i+a.dataPath+" "+a.message+r)}return o.slice(0,-r.length)},v.prototype._addSchema=function(e,t,r,i){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var s=this._opts.serialize,n=s?s(e):e,u=this._cache.get(n);if(u)return u;i=i||!1!==this._opts.addUsedSchema;var c=o.normalizeId(this._getId(e));c&&i&&A(this,c);var h,l=!1!==this._opts.validateSchema&&!t;l&&!(h=c&&c==o.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=o.ids.call(this,e),d=new a({id:c,schema:e,localRefs:f,cacheKey:n,meta:r});return"#"!=c[0]&&i&&(this._refs[c]=d),this._cache.put(n,d),l&&h&&this.validateSchema(e,!0),d},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=s,s.schema=e.schema,s.errors=null,s.root=t||s,!0===e.schema.$async&&(s.$async=!0),s;var r,o;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{o=i.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o;function s(){var t=e.validate,r=t.apply(this,arguments);return s.errors=t.errors,r}},v.prototype.compileAsync=r(42931);var f=r(14895);v.prototype.addKeyword=f.add,v.prototype.getKeyword=f.get,v.prototype.removeKeyword=f.remove,v.prototype.validateKeyword=f.validate;var d=r(87802);v.ValidationError=d.Validation,v.MissingRefError=d.MissingRef,v.$dataMetaSchema=h;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=l.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:E,warn:E,error:E};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return b;case"id":return w;default:return D}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=n),this._metaOpts=function(e){for(var t=l.copy(e._opts),r=0;r<m.length;r++)delete t[m[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;if(e._opts.$data&&(t=r(894),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var i=r(6680);e._opts.$data&&(i=h(i,g)),e.addMetaSchema(i,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function y(e,t){return t=o.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function x(e,t,r){for(var i in t){var o=t[i];o.meta||r&&!r.test(i)||(e._cache.del(o.cacheKey),delete t[i])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function D(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function b(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function A(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(){}},47531:e=>{"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},42931:(e,t,r)=>{"use strict";var i=r(87802).MissingRef;e.exports=function e(t,r,o){var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(o=r,r=void 0);var a=n(t).then((function(){var e=s._addSchema(t,void 0,r);return e.validate||u(e)}));return o&&a.then((function(e){o(null,e)}),o),a;function n(t){var r=t.$schema;return r&&!s.getSchema(r)?e.call(s,{$ref:r},!0):Promise.resolve()}function u(e){try{return s._compile(e)}catch(t){if(t instanceof i)return function(t){var i=t.missingSchema;if(c(i))throw new Error("Schema "+i+" is loaded but "+t.missingRef+" cannot be resolved");var o=s._loadingSchemas[i];return o||(o=s._loadingSchemas[i]=s._opts.loadSchema(i)).then(a,a),o.then((function(e){if(!c(i))return n(e).then((function(){c(i)||s.addSchema(e,i,void 0,r)}))})).then((function(){return u(e)}));function a(){delete s._loadingSchemas[i]}function c(e){return s._refs[e]||s._schemas[e]}}(t);throw t}}}},87802:(e,t,r)=>{"use strict";var i=r(83610);function o(e,t,r){this.message=r||o.message(e,t),this.missingRef=i.url(e,t),this.missingSchema=i.normalizeId(i.fullPath(this.missingRef))}function s(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:s((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:s(o)},o.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},1516:(e,t,r)=>{"use strict";var i=r(42889),o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,h=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,l=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,d=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",i.copy(m[e])}function g(e){var t=e.match(o);if(!t)return!1;var r=+t[1],i=+t[2],a=+t[3];return i>=1&&i<=12&&a>=1&&a<=(2==i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:s[i])}function v(e,t){var r=e.match(a);if(!r)return!1;var i=r[1],o=r[2],s=r[3],n=r[5];return(i<=23&&o<=59&&s<=59||23==i&&59==o&&60==s)&&(!t||n)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:D,uuid:l,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return x.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:D,uuid:l,"json-pointer":f,"json-pointer-uri-fragment":d,"relative-json-pointer":p};var y=/t|\s/i,x=/\/|:/,w=/[^\\]\\Z/;function D(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},47153:(e,t,r)=>{"use strict";var i=r(83610),o=r(42889),s=r(87802),a=r(35035),n=r(19508),u=o.ucs2length,c=r(64063),h=s.Validation;function l(e,t,r){var i=d.call(this,e,t,r);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:t,baseId:r},{index:i,compiling:!1})}function f(e,t,r){var i=d.call(this,e,t,r);i>=0&&this._compilations.splice(i,1)}function d(e,t,r){for(var i=0;i<this._compilations.length;i++){var o=this._compilations[i];if(o.schema==e&&o.root==t&&o.baseId==r)return i}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+o.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var r="",i=0;i<e.length;i++)r+=t(i,e);return r}e.exports=function e(t,r,d,x){var w=this,D=this._opts,b=[void 0],A={},E=[],P={},C=[],M={},F=[];r=r||{schema:t,refVal:b,refs:A};var S=l.call(this,t,r,x),B=this._compilations[S.index];if(S.compiling)return B.callValidate=function e(){var t=B.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var _=this._formats,I=this.RULES;try{var j=T(t,r,d,x);B.validate=j;var R=B.callValidate;return R&&(R.schema=j.schema,R.errors=null,R.refs=j.refs,R.refVal=j.refVal,R.root=j.root,R.$async=j.$async,D.sourceCode&&(R.source=j.source)),j}finally{f.call(this,t,r,x)}function T(t,a,l,f){var d=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(w,t,a,l,f);var x,P=!0===t.$async,M=n({isTop:!0,schema:t,isRoot:d,baseId:f,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:I,validate:n,util:o,resolve:i,resolveRef:z,usePattern:$,useDefault:V,useCustomRule:N,opts:D,formats:_,logger:w.logger,self:w});M=y(b,g)+y(E,p)+y(C,m)+y(F,v)+M,D.processCode&&(M=D.processCode(M,t));try{x=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",M)(w,I,_,r,b,C,F,c,u,h),b[0]=x}catch(e){throw w.logger.error("Error compiling schema, function code:",M),e}return x.schema=t,x.errors=null,x.refs=A,x.refVal=b,x.root=d?x:a,P&&(x.$async=!0),!0===D.sourceCode&&(x.source={code:M,patterns:E,defaults:C}),x}function z(t,o,s){o=i.url(t,o);var a,n,u=A[o];if(void 0!==u)return k(a=b[u],n="refVal["+u+"]");if(!s&&r.refs){var c=r.refs[o];if(void 0!==c)return k(a=r.refVal[c],n=O(o,a))}n=O(o);var h=i.call(w,T,r,o);if(void 0===h){var l=d&&d[o];l&&(h=i.inlineRef(l,D.inlineRefs)?l:e.call(w,l,r,d,t))}if(void 0!==h)return function(e,t){var r=A[e];b[r]=t}(o,h),k(h,n);!function(e){delete A[e]}(o)}function O(e,t){var r=b.length;return b[r]=t,A[e]=r,"refVal"+r}function k(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function $(e){var t=P[e];return void 0===t&&(t=P[e]=E.length,E[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return o.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),r=M[t];return void 0===r&&(r=M[t]=C.length,C[r]=e),"default"+r}}function N(e,t,r,i){if(!1!==w._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+o.join(","));var s=e.definition.validateSchema;if(s&&!s(t)){var a="keyword schema is invalid: "+w.errorsText(s.errors);if("log"!=w._opts.validateSchema)throw new Error(a);w.logger.error(a)}}var n,u=e.definition.compile,c=e.definition.inline,h=e.definition.macro;if(u)n=u.call(w,t,r,i);else if(h)n=h.call(w,t,r,i),!1!==D.validateSchema&&w.validateSchema(n,!0);else if(c)n=c.call(w,i,e.keyword,t,r);else if(!(n=e.definition.validate))return;if(void 0===n)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var l=F.length;return F[l]=n,{code:"customRule"+l,validate:n}}}},83610:(e,t,r)=>{"use strict";var i=r(60540),o=r(64063),s=r(42889),a=r(74022),n=r(49461);function u(e,t,r){var i=this._refs[r];if("string"==typeof i){if(!this._refs[i])return u.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[r])instanceof a)return p(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var o,s,n,h=c.call(this,t,r);return h&&(o=h.schema,t=h.root,n=h.baseId),o instanceof a?s=o.validate||e.call(this,o.schema,t,void 0,n):void 0!==o&&(s=p(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,n)),s}function c(e,t){var r=i.parse(t),o=y(r),s=v(this._getId(e.schema));if(0===Object.keys(e.schema).length||o!==s){var n=w(o),u=this._refs[n];if("string"==typeof u)return h.call(this,e,u,r);if(u instanceof a)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[n])instanceof a))return;if(u.validate||this._compile(u),n==w(t))return{schema:u,root:e,baseId:s};e=u}if(!e.schema)return;s=v(this._getId(e.schema))}return f.call(this,r,s,e.schema,e)}function h(e,t,r){var i=c.call(this,e,t);if(i){var o=i.schema,s=i.baseId;e=i.root;var a=this._getId(o);return a&&(s=D(s,a)),f.call(this,r,s,o,e)}}e.exports=u,u.normalizeId=w,u.fullPath=v,u.url=D,u.ids=function(e){var t=w(this._getId(e)),r={"":t},a={"":v(t,!1)},u={},c=this;return n(e,{allKeys:!0},(function(e,t,n,h,l,f,d){if(""!==t){var p=c._getId(e),m=r[h],g=a[h]+"/"+l;if(void 0!==d&&(g+="/"+("number"==typeof d?d:s.escapeFragment(d))),"string"==typeof p){p=m=w(m?i.resolve(m,p):p);var v=c._refs[p];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!o(e,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=w(g))if("#"==p[0]){if(u[p]&&!o(e,u[p]))throw new Error('id "'+p+'" resolves to more than one schema');u[p]=e}else c._refs[p]=g}r[t]=m,a[t]=g}})),u},u.inlineRef=p,u.schema=c;var l=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(e,t,r,i){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var o=e.fragment.split("/"),a=1;a<o.length;a++){var n=o[a];if(n){if(void 0===(r=r[n=s.unescapeFragment(n)]))break;var u;if(!l[n]&&((u=this._getId(r))&&(t=D(t,u)),r.$ref)){var h=D(t,r.$ref),f=c.call(this,i,h);f&&(r=f.schema,i=f.root,t=f.baseId)}}}return void 0!==r&&r!==i.schema?{schema:r,root:i,baseId:t}:void 0}}var d=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?g(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!m(t))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(t=e[i])&&!m(t))return!1}return!0}function g(e){var t,r=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(t=e[i])&&(r+=g(t)),r==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(d[o])r++;else if("object"==typeof(t=e[o])&&(r+=g(t)+1),r==1/0)return 1/0}return r}function v(e,t){return!1!==t&&(e=w(e)),y(i.parse(e))}function y(e){return i.serialize(e).split("#")[0]+"#"}var x=/#\/?$/;function w(e){return e?e.replace(x,""):""}function D(e,t){return t=w(t),i.resolve(e,t)}},47753:(e,t,r)=>{"use strict";var i=r(66674),o=r(42889).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=o(t),e.types=o(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var o;if("object"==typeof r){var s=Object.keys(r)[0];o=r[s],r=s,o.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:i[r],implements:o}})),e.all.$comment={keyword:"$comment",code:i.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=o(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},74022:(e,t,r)=>{"use strict";var i=r(42889);e.exports=function(e){i.copy(e,this)}},4442:e=>{"use strict";e.exports=function(e){for(var t,r=0,i=e.length,o=0;o<i;)r++,(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i&&56320==(64512&(t=e.charCodeAt(o)))&&o++;return r}},42889:(e,t,r)=>{"use strict";function i(e,t,r,i){var o=i?" !== ":" === ",s=i?" || ":" && ",a=i?"!":"",n=i?"":"!";switch(e){case"null":return t+o+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+s+"typeof "+t+o+'"object"'+s+n+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+o+'"number"'+s+n+"("+t+" % 1)"+s+t+o+t+(r?s+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+o+'"'+e+'"'+(r?s+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+o+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:i,checkDataTypes:function(e,t,r){if(1===e.length)return i(e[0],t,r,!0);var o="",a=s(e);for(var n in a.array&&a.object&&(o=a.null?"(":"(!"+t+" || ",o+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)o+=(o?" && ":"")+i(n,t,r,!0);return o},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++){var s=t[i];(o[s]||"array"===e&&"array"===s)&&(r[r.length]=s)}if(r.length)return r}else{if(o[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:s,getProperty:u,escapeQuotes:c,equal:r(64063),ucs2length:r(4442),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var i in e)if(i!=r&&t[i])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:h,getPathExpr:function(e,t,r,i){return d(e,r?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return d(e,h(r?"/"+p(t):u(t)))},getData:function(e,t,r){var i,o,s,a;if(""===e)return"rootData";if("/"==e[0]){if(!l.test(e))throw new Error("Invalid JSON-pointer: "+e);o=e,s="rootData"}else{if(!(a=e.match(f)))throw new Error("Invalid JSON-pointer: "+e);if(i=+a[1],"#"==(o=a[2])){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return r[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(s="data"+(t-i||""),!o)return s}for(var n=s,c=o.split("/"),h=0;h<c.length;h++){var d=c[h];d&&(n+=" && "+(s+=u(m(d))))}return n},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(p(e))},escapeJsonPointer:p};var o=s(["string","number","integer","boolean","null"]);function s(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(n,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(e){return"'"+c(e)+"'"}var l=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function p(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},3978:e=>{"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,r){for(var i=0;i<r.length;i++){e=JSON.parse(JSON.stringify(e));var o,s=r[i].split("/"),a=e;for(o=1;o<s.length;o++)a=a[s[o]];for(o=0;o<t.length;o++){var n=t[o],u=a[n];u&&(a[n]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},61128:(e,t,r)=>{"use strict";var i=r(6680);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:i.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:i.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},18210:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n;var d="maximum"==t,p=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],g=e.opts.$data&&m&&m.$data,v=d?"<":">",y=d?">":"<",x=void 0;if(!f&&"number"!=typeof n&&void 0!==n)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(p+" must be number or boolean");if(g){var w,D=e.util.getData(m.$data,a,e.dataPathArr),b="exclusive"+s,A="exclType"+s,E="exclIsNumber"+s,P="' + "+(M="op"+s)+" + '";o+=" var schemaExcl"+s+" = "+D+"; ",o+=" var "+b+"; var "+A+" = typeof "+(D="schemaExcl"+s)+"; if ("+A+" != 'boolean' && "+A+" != 'undefined' && "+A+" != 'number') { ",x=p,(w=w||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(x||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var C=o;o=w.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+C+"]); ":o+=" validate.errors = ["+C+"]; return false; ":o+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+A+" == 'number' ? ( ("+b+" = "+i+" === undefined || "+D+" "+v+"= "+i+") ? "+l+" "+y+"= "+D+" : "+l+" "+y+" "+i+" ) : ( ("+b+" = "+D+" === true) ? "+l+" "+y+"= "+i+" : "+l+" "+y+" "+i+" ) || "+l+" !== "+l+") { var op"+s+" = "+b+" ? '"+v+"' : '"+v+"='; ",void 0===n&&(x=p,c=e.errSchemaPath+"/"+p,i=D,f=g)}else if(P=v,(E="number"==typeof m)&&f){var M="'"+P+"'";o+=" if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" ( "+i+" === undefined || "+m+" "+v+"= "+i+" ? "+l+" "+y+"= "+m+" : "+l+" "+y+" "+i+" ) || "+l+" !== "+l+") { "}else E&&void 0===n?(b=!0,x=p,c=e.errSchemaPath+"/"+p,i=m,y+="="):(E&&(i=Math[d?"min":"max"](m,n)),m===(!E||i)?(b=!0,x=p,c=e.errSchemaPath+"/"+p,y+="="):(b=!1,P+="=")),M="'"+P+"'",o+=" if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+l+" "+y+" "+i+" || "+l+" !== "+l+") { ";return x=x||t,(w=w||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(x||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+M+", limit: "+i+", exclusive: "+b+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be "+P+" ",o+=f?"' + "+i:i+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ",C=o,o=w.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+C+"]); ":o+=" validate.errors = ["+C+"]; return false; ":o+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",h&&(o+=" else { "),o}},33038:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;if(f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,!f&&"number"!=typeof n)throw new Error(t+" must be number");o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" "+l+".length "+("maxItems"==t?">":"<")+" "+i+") { ";var d=t,p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxItems"==t?"more":"fewer",o+=" than ",o+=f?"' + "+i+" + '":""+n,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var m=o;return o=p.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},80425:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;if(f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,!f&&"number"!=typeof n)throw new Error(t+" must be number");var d="maxLength"==t?">":"<";o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===e.opts.unicode?o+=" "+l+".length ":o+=" ucs2length("+l+") ",o+=" "+d+" "+i+") { ";var p=t,m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be ",o+="maxLength"==t?"longer":"shorter",o+=" than ",o+=f?"' + "+i+" + '":""+n,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var g=o;return o=m.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},78204:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;if(f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,!f&&"number"!=typeof n)throw new Error(t+" must be number");o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),o+=" Object.keys("+l+").length "+("maxProperties"==t?">":"<")+" "+i+") { ";var d=t,p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxProperties"==t?"more":"fewer",o+=" than ",o+=f?"' + "+i+" + '":""+n,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var m=o;return o=p.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},42988:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,n=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var h="valid"+u.level,l=u.baseId,f=!0,d=o;if(d)for(var p,m=-1,g=d.length-1;m<g;)p=d[m+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:e.util.schemaHasRules(p,e.RULES.all))&&(f=!1,u.schema=p,u.schemaPath=s+"["+m+"]",u.errSchemaPath=a+"/"+m,i+="  "+e.validate(u)+" ",u.baseId=l,n&&(i+=" if ("+h+") { ",c+="}"));return n&&(i+=f?" if (true) { ":" "+c.slice(0,-1)+" "),i}},39996:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g=a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(g){var v=d.baseId;i+=" var "+f+" = errors; var "+l+" = false;  ";var y=e.compositeRule;e.compositeRule=d.compositeRule=!0;var x=a;if(x)for(var w,D=-1,b=x.length-1;D<b;)w=x[D+=1],d.schema=w,d.schemaPath=n+"["+D+"]",d.errSchemaPath=u+"/"+D,i+="  "+e.validate(d)+" ",d.baseId=v,i+=" "+l+" = "+l+" || "+m+"; if (!"+l+") { ",p+="}";e.compositeRule=d.compositeRule=y,i+=" "+p+" if (!"+l+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else c&&(i+=" if (true) { ");return i}},57812:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.schema[t],s=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(o));return!0===e.opts.$comment?i+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(i+=" self._opts.$comment("+a+", "+e.util.toQuotedString(s)+", validate.root.schema);"),i}},25306:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f=e.opts.$data&&a&&a.$data;f&&(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; "),f||(i+=" var schema"+o+" = validate.schema"+n+";"),i+="var "+l+" = equal("+h+", schema"+o+"); if (!"+l+") {   ";var d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+o+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},2840:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e);d.level++;var p="valid"+d.level,m="i"+o,g=d.dataLevel=e.dataLevel+1,v="data"+g,y=e.baseId,x=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all);if(i+="var "+f+" = errors;var "+l+";",x){var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=n,d.errSchemaPath=u,i+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+h+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var D=h+"["+m+"]";d.dataPathArr[g]=m;var b=e.validate(d);d.baseId=y,e.util.varOccurences(b,v)<2?i+=" "+e.util.varReplace(b,v,D)+" ":i+=" var "+v+" = "+D+"; "+b+" ",i+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=w,i+="  if (!"+p+") {"}else i+=" if ("+h+".length == 0) {";var A=A||[];A.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var E=i;return i=A.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",x&&(i+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i}},14165:e=>{"use strict";e.exports=function(e,t,r){var i,o,s=" ",a=e.level,n=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),h=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(n||""),d="valid"+a,p="errs__"+a,m=e.opts.$data&&u&&u.$data;m?(s+=" var schema"+a+" = "+e.util.getData(u.$data,n,e.dataPathArr)+"; ",o="schema"+a):o=u;var g,v,y,x,w,D=this,b="definition"+a,A=D.definition,E="";if(m&&A.$data){w="keywordValidate"+a;var P=A.validateSchema;s+=" var "+b+" = RULES.custom['"+t+"'].definition; var "+w+" = "+b+".validate;"}else{if(!(x=e.useCustomRule(D,u,e.schema,e)))return;o="validate.schema"+c,w=x.code,g=A.compile,v=A.inline,y=A.macro}var C=w+".errors",M="i"+a,F="ruleErr"+a,S=A.async;if(S&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(s+=C+" = null;"),s+="var "+p+" = errors;var "+d+";",m&&A.$data&&(E+="}",s+=" if ("+o+" === undefined) { "+d+" = true; } else { ",P&&(E+="}",s+=" "+d+" = "+b+".validateSchema("+o+"); if ("+d+") { ")),v)A.statements?s+=" "+x.validate+" ":s+=" "+d+" = "+x.validate+"; ";else if(y){var B=e.util.copy(e);E="",B.level++;var _="valid"+B.level;B.schema=x.validate,B.schemaPath="";var I=e.compositeRule;e.compositeRule=B.compositeRule=!0;var j=e.validate(B).replace(/validate\.schema/g,w);e.compositeRule=B.compositeRule=I,s+=" "+j}else{(O=O||[]).push(s),s="",s+="  "+w+".call( ",e.opts.passContext?s+="this":s+="self",g||!1===A.schema?s+=" , "+f+" ":s+=" , "+o+" , "+f+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var R=n?"data"+(n-1||""):"parentData",T=n?e.dataPathArr[n]:"parentDataProperty",z=s+=" , "+R+" , "+T+" , rootData )  ";s=O.pop(),!1===A.errors?(s+=" "+d+" = ",S&&(s+="await "),s+=z+"; "):s+=S?" var "+(C="customErrors"+a)+" = null; try { "+d+" = await "+z+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } ":" "+C+" = null; "+d+" = "+z+"; "}if(A.modifying&&(s+=" if ("+R+") "+f+" = "+R+"["+T+"];"),s+=""+E,A.valid)l&&(s+=" if (true) { ");else{var O;s+=" if ( ",void 0===A.valid?(s+=" !",s+=y?""+_:""+d):s+=" "+!A.valid+" ",s+=") { ",i=D.keyword,(O=O||[]).push(s),s="",(O=O||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { keyword: '"+D.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+D.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var k=s;s=O.pop(),!e.compositeRule&&l?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var $=s;s=O.pop(),v?A.errors?"full"!=A.errors&&(s+="  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+F+" = vErrors["+M+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+h+'"; } ',e.opts.verbose&&(s+=" "+F+".schema = "+o+"; "+F+".data = "+f+"; "),s+=" } "):!1===A.errors?s+=" "+$+" ":(s+=" if ("+p+" == errors) { "+$+" } else {  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+F+" = vErrors["+M+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+h+'"; } ',e.opts.verbose&&(s+=" "+F+".schema = "+o+"; "+F+".data = "+f+"; "),s+=" } } "):y?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { keyword: '"+D.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+D.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===A.errors?s+=" "+$+" ":(s+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+M+"="+p+"; "+M+"<errors; "+M+"++) { var "+F+" = vErrors["+M+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+";  "+F+'.schemaPath = "'+h+'";  ',e.opts.verbose&&(s+=" "+F+".schema = "+o+"; "+F+".data = "+f+"; "),s+=" } } else { "+$+" } "),s+=" } ",l&&(s+=" else { ")}return s}},66659:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="errs__"+o,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m={},g={},v=e.opts.ownProperties;for(D in a)if("__proto__"!=D){var y=a[D],x=Array.isArray(y)?g:m;x[D]=y}i+="var "+l+" = errors;";var w=e.errorPath;for(var D in i+="var missing"+o+";",g)if((x=g[D]).length){if(i+=" if ( "+h+e.util.getProperty(D)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),c){i+=" && ( ";var b=x;if(b)for(var A=-1,E=b.length-1;A<E;)B=b[A+=1],A&&(i+=" || "),i+=" ( ( "+(R=h+(j=e.util.getProperty(B)))+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(B)+"') "),i+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?B:j)+") ) ";i+=")) {  ";var P="missing"+o,C="' + "+P+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,P,!0):w+" + "+P);var M=M||[];M.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(D)+"', missingProperty: '"+C+"', depsCount: "+x.length+", deps: '"+e.util.escapeQuotes(1==x.length?x[0]:x.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==x.length?i+="property "+e.util.escapeQuotes(x[0]):i+="properties "+e.util.escapeQuotes(x.join(", ")),i+=" when property "+e.util.escapeQuotes(D)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var F=i;i=M.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+F+"]); ":i+=" validate.errors = ["+F+"]; return false; ":i+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var S=x;if(S)for(var B,_=-1,I=S.length-1;_<I;){B=S[_+=1];var j=e.util.getProperty(B),R=(C=e.util.escapeQuotes(B),h+j);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,B,e.opts.jsonPointers)),i+=" if ( "+R+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(B)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(D)+"', missingProperty: '"+C+"', depsCount: "+x.length+", deps: '"+e.util.escapeQuotes(1==x.length?x[0]:x.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==x.length?i+="property "+e.util.escapeQuotes(x[0]):i+="properties "+e.util.escapeQuotes(x.join(", ")),i+=" when property "+e.util.escapeQuotes(D)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",c&&(d+="}",i+=" else { ")}e.errorPath=w;var T=f.baseId;for(var D in m)y=m[D],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(i+=" "+p+" = true; if ( "+h+e.util.getProperty(D)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),i+=") { ",f.schema=y,f.schemaPath=n+e.util.getProperty(D),f.errSchemaPath=u+"/"+e.util.escapeFragment(D),i+="  "+e.validate(f)+" ",f.baseId=T,i+=" }  ",c&&(i+=" if ("+p+") { ",d+="}"));return c&&(i+="   "+d+" if ("+l+" == errors) {"),i}},31740:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f=e.opts.$data&&a&&a.$data;f&&(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ");var d="i"+o,p="schema"+o;f||(i+=" var "+p+" = validate.schema"+n+";"),i+="var "+l+";",f&&(i+=" if (schema"+o+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+o+")) "+l+" = false; else {"),i+=l+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+h+", "+p+"["+d+"])) { "+l+" = true; break; }",f&&(i+="  }  "),i+=" if (!"+l+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+o+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},39014:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||"");if(!1===e.opts.format)return c&&(i+=" if (true) { "),i;var l,f=e.opts.$data&&a&&a.$data;f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",l="schema"+o):l=a;var d=e.opts.unknownFormats,p=Array.isArray(d);if(f)i+=" var "+(m="format"+o)+" = formats["+l+"]; var "+(g="isObject"+o)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+o)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(i+=" var async"+o+" = "+m+".async; "),i+=" "+m+" = "+m+".validate; } if (  ",f&&(i+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),i+=" (","ignore"!=d&&(i+=" ("+l+" && !"+m+" ",p&&(i+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),i+=") || "),i+=" ("+m+" && "+v+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?i+=" (async"+o+" ? await "+m+"("+h+") : "+m+"("+h+")) ":i+=" "+m+"("+h+") ",i+=" : "+m+".test("+h+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==d)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(i+=" if (true) { "),i;if(p&&d.indexOf(a)>=0)return c&&(i+=" if (true) { "),i;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=r)return c&&(i+=" if (true) { "),i;if(y){if(!e.async)throw new Error("async format in sync schema");i+=" if (!(await "+(x="formats"+e.util.getProperty(a)+".validate")+"("+h+"))) { "}else{i+=" if (! ";var x="formats"+e.util.getProperty(a);g&&(x+=".validate"),i+="function"==typeof m?" "+x+"("+h+") ":" "+x+".test("+h+") ",i+=") { "}}var w=w||[];w.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",i+=f?""+l:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=f?"' + "+l+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+n:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var D=i;return i=w.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+D+"]); ":i+=" validate.errors = ["+D+"]; return false; ":i+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},17231:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e);d.level++;var p="valid"+d.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),x=d.baseId;if(v||y){var w;d.createErrors=!1,d.schema=a,d.schemaPath=n,d.errSchemaPath=u,i+=" var "+f+" = errors; var "+l+" = true;  ";var D=e.compositeRule;e.compositeRule=d.compositeRule=!0,i+="  "+e.validate(d)+" ",d.baseId=x,d.createErrors=!0,i+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=D,v?(i+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",i+="  "+e.validate(d)+" ",d.baseId=x,i+=" "+l+" = "+p+"; ",v&&y?i+=" var "+(w="ifClause"+o)+" = 'then'; ":w="'then'",i+=" } ",y&&(i+=" else { ")):i+=" if (!"+p+") { ",y&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",i+="  "+e.validate(d)+" ",d.baseId=x,i+=" "+l+" = "+p+"; ",v&&y?i+=" var "+(w="ifClause"+o)+" = 'else'; ":w="'else'",i+=" } "),i+=" if (!"+l+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" }   ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},66674:(e,t,r)=>{"use strict";e.exports={$ref:r(62392),allOf:r(42988),anyOf:r(39996),$comment:r(57812),const:r(25306),contains:r(2840),dependencies:r(66659),enum:r(31740),format:r(39014),if:r(17231),items:r(37482),maximum:r(18210),minimum:r(18210),maxItems:r(33038),minItems:r(33038),maxLength:r(80425),minLength:r(80425),maxProperties:r(78204),minProperties:r(78204),multipleOf:r(43673),not:r(28528),oneOf:r(59709),pattern:r(49614),properties:r(81175),propertyNames:r(58441),required:r(71287),uniqueItems:r(3603),validate:r(19508)}},37482:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g="i"+o,v=d.dataLevel=e.dataLevel+1,y="data"+v,x=e.baseId;if(i+="var "+f+" = errors;var "+l+";",Array.isArray(a)){var w=e.schema.additionalItems;if(!1===w){i+=" "+l+" = "+h+".length <= "+a.length+"; ";var D=u;u=e.errSchemaPath+"/additionalItems",i+="  if (!"+l+") {   ";var b=b||[];b.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u=D,c&&(p+="}",i+=" else { ")}var E=a;if(E)for(var P,C=-1,M=E.length-1;C<M;)if(P=E[C+=1],e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all)){i+=" "+m+" = true; if ("+h+".length > "+C+") { ";var F=h+"["+C+"]";d.schema=P,d.schemaPath=n+"["+C+"]",d.errSchemaPath=u+"/"+C,d.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),d.dataPathArr[v]=C;var S=e.validate(d);d.baseId=x,e.util.varOccurences(S,y)<2?i+=" "+e.util.varReplace(S,y,F)+" ":i+=" var "+y+" = "+F+"; "+S+" ",i+=" }  ",c&&(i+=" if ("+m+") { ",p+="}")}"object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))&&(d.schema=w,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+m+" = true; if ("+h+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+h+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),F=h+"["+g+"]",d.dataPathArr[v]=g,S=e.validate(d),d.baseId=x,e.util.varOccurences(S,y)<2?i+=" "+e.util.varReplace(S,y,F)+" ":i+=" var "+y+" = "+F+"; "+S+" ",c&&(i+=" if (!"+m+") break; "),i+=" } }  ",c&&(i+=" if ("+m+") { ",p+="}"))}else(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all))&&(d.schema=a,d.schemaPath=n,d.errSchemaPath=u,i+="  for (var "+g+" = 0; "+g+" < "+h+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),F=h+"["+g+"]",d.dataPathArr[v]=g,S=e.validate(d),d.baseId=x,e.util.varOccurences(S,y)<2?i+=" "+e.util.varReplace(S,y,F)+" ":i+=" var "+y+" = "+F+"; "+S+" ",c&&(i+=" if (!"+m+") break; "),i+=" }");return c&&(i+=" "+p+" if ("+f+" == errors) {"),i}},43673:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;if(f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,!f&&"number"!=typeof n)throw new Error(t+" must be number");o+="var division"+s+";if (",f&&(o+=" "+i+" !== undefined && ( typeof "+i+" != 'number' || "),o+=" (division"+s+" = "+l+" / "+i+", ",e.opts.multipleOfPrecision?o+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":o+=" division"+s+" !== parseInt(division"+s+") ",o+=" ) ",f&&(o+="  )  "),o+=" ) {   ";var d=d||[];d.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+i+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be multiple of ",o+=f?"' + "+i:i+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var p=o;return o=d.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+p+"]); ":o+=" validate.errors = ["+p+"]; return false; ":o+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},28528:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="errs__"+o,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=n,f.errSchemaPath=u,i+=" var "+l+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(p=f.opts.allErrors,f.opts.allErrors=!1),i+=" "+e.validate(f)+" ",f.createErrors=!0,p&&(f.opts.allErrors=p),e.compositeRule=f.compositeRule=m,i+=" if ("+d+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(i+=" if (false) { ");return i}},59709:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f="errs__"+o,d=e.util.copy(e),p="";d.level++;var m="valid"+d.level,g=d.baseId,v="prevValid"+o,y="passingSchemas"+o;i+="var "+f+" = errors , "+v+" = false , "+l+" = false , "+y+" = null; ";var x=e.compositeRule;e.compositeRule=d.compositeRule=!0;var w=a;if(w)for(var D,b=-1,A=w.length-1;b<A;)D=w[b+=1],(e.opts.strictKeywords?"object"==typeof D&&Object.keys(D).length>0||!1===D:e.util.schemaHasRules(D,e.RULES.all))?(d.schema=D,d.schemaPath=n+"["+b+"]",d.errSchemaPath=u+"/"+b,i+="  "+e.validate(d)+" ",d.baseId=g):i+=" var "+m+" = true; ",b&&(i+=" if ("+m+" && "+v+") { "+l+" = false; "+y+" = ["+y+", "+b+"]; } else { ",p+="}"),i+=" if ("+m+") { "+l+" = "+v+" = true; "+y+" = "+b+"; }";return e.compositeRule=d.compositeRule=x,i+=p+"if (!"+l+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i}},49614:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f=e.opts.$data&&n&&n.$data;f?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,o+="if ( ",f&&(o+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),o+=" !"+(f?"(new RegExp("+i+"))":e.usePattern(n))+".test("+l+") ) {   ";var d=d||[];d.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",o+=f?""+i:""+e.util.toQuotedString(n),o+="  } ",!1!==e.opts.messages&&(o+=" , message: 'should match pattern \"",o+=f?"' + "+i+" + '":""+e.util.escapeQuotes(n),o+="\"' "),e.opts.verbose&&(o+=" , schema:  ",o+=f?"validate.schema"+u:""+e.util.toQuotedString(n),o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var p=o;return o=d.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+p+"]); ":o+=" validate.errors = ["+p+"]; return false; ":o+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",h&&(o+=" else { "),o}},81175:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="errs__"+o,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,m="key"+o,g="idx"+o,v=f.dataLevel=e.dataLevel+1,y="data"+v,x="dataProperties"+o,w=Object.keys(a||{}).filter(j),D=e.schema.patternProperties||{},b=Object.keys(D).filter(j),A=e.schema.additionalProperties,E=w.length||b.length,P=!1===A,C="object"==typeof A&&Object.keys(A).length,M=e.opts.removeAdditional,F=P||C||M,S=e.opts.ownProperties,B=e.baseId,_=e.schema.required;if(_&&(!e.opts.$data||!_.$data)&&_.length<e.opts.loopRequired)var I=e.util.toHash(_);function j(e){return"__proto__"!==e}if(i+="var "+l+" = errors;var "+p+" = true;",S&&(i+=" var "+x+" = undefined;"),F){if(i+=S?" "+x+" = "+x+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+m+" = "+x+"["+g+"]; ":" for (var "+m+" in "+h+") { ",E){if(i+=" var isAdditional"+o+" = !(false ",w.length)if(w.length>8)i+=" || validate.schema"+n+".hasOwnProperty("+m+") ";else{var R=w;if(R)for(var T=-1,z=R.length-1;T<z;)K=R[T+=1],i+=" || "+m+" == "+e.util.toQuotedString(K)+" "}if(b.length){var O=b;if(O)for(var k=-1,$=O.length-1;k<$;)se=O[k+=1],i+=" || "+e.usePattern(se)+".test("+m+") "}i+=" ); if (isAdditional"+o+") { "}if("all"==M)i+=" delete "+h+"["+m+"]; ";else{var V=e.errorPath,N="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),P)if(M)i+=" delete "+h+"["+m+"]; ";else{i+=" "+p+" = false; ";var L=u;u=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+N+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is an invalid additional property":i+="should NOT have additional properties",i+="' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var U=i;i=re.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+U+"]); ":i+=" validate.errors = ["+U+"]; return false; ":i+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=L,c&&(i+=" break; ")}else if(C)if("failing"==M){i+=" var "+l+" = errors;  ";var q=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=A,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var Q=h+"["+m+"]";f.dataPathArr[v]=m;var W=e.validate(f);f.baseId=B,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,Q)+" ":i+=" var "+y+" = "+Q+"; "+W+" ",i+=" if (!"+p+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+m+"]; }  ",e.compositeRule=f.compositeRule=q}else f.schema=A,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=h+"["+m+"]",f.dataPathArr[v]=m,W=e.validate(f),f.baseId=B,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,Q)+" ":i+=" var "+y+" = "+Q+"; "+W+" ",c&&(i+=" if (!"+p+") break; ");e.errorPath=V}E&&(i+=" } "),i+=" }  ",c&&(i+=" if ("+p+") { ",d+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(w.length){var H=w;if(H)for(var K,J=-1,X=H.length-1;J<X;){var Z=a[K=H[J+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var Y=e.util.getProperty(K),ee=(Q=h+Y,G&&void 0!==Z.default);if(f.schema=Z,f.schemaPath=n+Y,f.errSchemaPath=u+"/"+e.util.escapeFragment(K),f.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),f.dataPathArr[v]=e.util.toQuotedString(K),W=e.validate(f),f.baseId=B,e.util.varOccurences(W,y)<2){W=e.util.varReplace(W,y,Q);var te=Q}else te=y,i+=" var "+y+" = "+Q+"; ";if(ee)i+=" "+W+" ";else{if(I&&I[K]){i+=" if ( "+te+" === undefined ",S&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(K)+"') "),i+=") { "+p+" = false; ",V=e.errorPath,L=u;var re,ie=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(V,K,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(re=re||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+ie+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+ie+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",U=i,i=re.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+U+"]); ":i+=" validate.errors = ["+U+"]; return false; ":i+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=L,e.errorPath=V,i+=" } else { "}else c?(i+=" if ( "+te+" === undefined ",S&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(K)+"') "),i+=") { "+p+" = true; } else { "):(i+=" if ("+te+" !== undefined ",S&&(i+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(K)+"') "),i+=" ) { ");i+=" "+W+" } "}}c&&(i+=" if ("+p+") { ",d+="}")}}if(b.length){var oe=b;if(oe)for(var se,ae=-1,ne=oe.length-1;ae<ne;)Z=D[se=oe[ae+=1]],(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(f.schema=Z,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),i+=S?" "+x+" = "+x+" || Object.keys("+h+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+m+" = "+x+"["+g+"]; ":" for (var "+m+" in "+h+") { ",i+=" if ("+e.usePattern(se)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=h+"["+m+"]",f.dataPathArr[v]=m,W=e.validate(f),f.baseId=B,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,Q)+" ":i+=" var "+y+" = "+Q+"; "+W+" ",c&&(i+=" if (!"+p+") break; "),i+=" } ",c&&(i+=" else "+p+" = true; "),i+=" }  ",c&&(i+=" if ("+p+") { ",d+="}"))}return c&&(i+=" "+d+" if ("+l+" == errors) {"),i}},58441:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="errs__"+o,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(i+="var "+l+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=n,f.errSchemaPath=u;var p="key"+o,m="idx"+o,g="i"+o,v="' + "+p+" + '",y="data"+(f.dataLevel=e.dataLevel+1),x="dataProperties"+o,w=e.opts.ownProperties,D=e.baseId;w&&(i+=" var "+x+" = undefined; "),i+=w?" "+x+" = "+x+" || Object.keys("+h+"); for (var "+m+"=0; "+m+"<"+x+".length; "+m+"++) { var "+p+" = "+x+"["+m+"]; ":" for (var "+p+" in "+h+") { ",i+=" var startErrs"+o+" = errors; ";var b=p,A=e.compositeRule;e.compositeRule=f.compositeRule=!0;var E=e.validate(f);f.baseId=D,e.util.varOccurences(E,y)<2?i+=" "+e.util.varReplace(E,y,b)+" ":i+=" var "+y+" = "+b+"; "+E+" ",e.compositeRule=f.compositeRule=A,i+=" if (!"+d+") { for (var "+g+"=startErrs"+o+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(i+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),c&&(i+=" break; "),i+=" } }"}return c&&(i+="  if ("+l+" == errors) {"),i}},62392:e=>{"use strict";e.exports=function(e,t,r){var i,o,s=" ",a=e.level,n=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(n||""),f="valid"+a;if("#"==u||"#/"==u)e.isRoot?(i=e.async,o="validate"):(i=!0===e.root.schema.$async,o="root.refVal[0]");else{var d=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===d){var p=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),s+=" } "):s+=" {} ";var m=s;s=y.pop(),!e.compositeRule&&h?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,p);e.logger.warn(p),h&&(s+=" if (true) { ")}}else if(d.inline){var g=e.util.copy(e);g.level++;var v="valid"+g.level;g.schema=d.schema,g.schemaPath="",g.errSchemaPath=u,s+=" "+e.validate(g).replace(/validate\.schema/g,d.code)+" ",h&&(s+=" if ("+v+") { ")}else i=!0===d.$async||e.async&&!1!==d.$async,o=d.code}if(o){var y;(y=y||[]).push(s),s="",e.opts.passContext?s+=" "+o+".call(this, ":s+=" "+o+"( ",s+=" "+l+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var x=s+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(s=y.pop(),i){if(!e.async)throw new Error("async schema referenced by sync schema");h&&(s+=" var "+f+"; "),s+=" try { await "+x+"; ",h&&(s+=" "+f+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",h&&(s+=" "+f+" = false; "),s+=" } ",h&&(s+=" if ("+f+") { ")}else s+=" if (!"+x+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",h&&(s+=" else { ")}return s}},71287:e=>{"use strict";e.exports=function(e,t,r){var i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],n=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),l="valid"+o,f=e.opts.$data&&a&&a.$data;f&&(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ");var d="schema"+o;if(!f)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var g,v=-1,y=m.length-1;v<y;){g=m[v+=1];var x=e.schema.properties[g];x&&(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))||(p[p.length]=g)}}else p=a;if(f||p.length){var w=e.errorPath,D=f||p.length>=e.opts.loopRequired,b=e.opts.ownProperties;if(c)if(i+=" var missing"+o+"; ",D){f||(i+=" var "+d+" = validate.schema"+n+"; ");var A="' + "+(S="schema"+o+"["+(M="i"+o)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,S,e.opts.jsonPointers)),i+=" var "+l+" = true; ",f&&(i+=" if (schema"+o+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+o+")) "+l+" = false; else {"),i+=" for (var "+M+" = 0; "+M+" < "+d+".length; "+M+"++) { "+l+" = "+h+"["+d+"["+M+"]] !== undefined ",b&&(i+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+d+"["+M+"]) "),i+="; if (!"+l+") break; } ",f&&(i+="  }  "),i+="  if (!"+l+") {   ",(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var E=i;i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var P,C=p;if(C)for(var M=-1,F=C.length-1;M<F;)_=C[M+=1],M&&(i+=" || "),i+=" ( ( "+(T=h+(R=e.util.getProperty(_)))+" === undefined ",b&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(_)+"') "),i+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?_:R)+") ) ";i+=") {  ",A="' + "+(S="missing"+o)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,S,!0):w+" + "+S),(P=P||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",E=i,i=P.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(D){var S;f||(i+=" var "+d+" = validate.schema"+n+"; "),A="' + "+(S="schema"+o+"["+(M="i"+o)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,S,e.opts.jsonPointers)),f&&(i+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),i+=" for (var "+M+" = 0; "+M+" < "+d+".length; "+M+"++) { if ("+h+"["+d+"["+M+"]] === undefined ",b&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+d+"["+M+"]) "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(i+="  }  ")}else{var B=p;if(B)for(var _,I=-1,j=B.length-1;I<j;){_=B[I+=1];var R=e.util.getProperty(_),T=(A=e.util.escapeQuotes(_),h+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,_,e.opts.jsonPointers)),i+=" if ( "+T+" === undefined ",b&&(i+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(_)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+A+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+A+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else c&&(i+=" if (true) {");return i}},3603:e=>{"use strict";e.exports=function(e,t,r){var i,o=" ",s=e.level,a=e.dataLevel,n=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,l="data"+(a||""),f="valid"+s,d=e.opts.$data&&n&&n.$data;if(d?(o+=" var schema"+s+" = "+e.util.getData(n.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=n,(n||d)&&!1!==e.opts.uniqueItems){d&&(o+=" var "+f+"; if ("+i+" === false || "+i+" === undefined) "+f+" = true; else if (typeof "+i+" != 'boolean') "+f+" = false; else { "),o+=" var i = "+l+".length , "+f+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))o+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+f+" = false; break outer; } } } ";else{o+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ";var g="checkDataType"+(m?"s":"");o+=" if ("+e.util[g](p,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(o+=" if (typeof item == 'string') item = '\"' + item; "),o+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}o+=" } ",d&&(o+="  }  "),o+=" if (!"+f+") {   ";var v=v||[];v.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(o+=" , schema:  ",o+=d?"validate.schema"+u:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var y=o;o=v.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",h&&(o+=" else { ")}else h&&(o+=" if (true) { ");return o}},19508:e=>{"use strict";e.exports=function(e,t,r){var i="",o=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var n=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(n){var u="unknown keyword: "+n;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(i+=" var validate = ",o&&(e.async=!0,i+="async "),i+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(i+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!s&&!e.schema.$ref){t="false schema";var c=e.level,h=e.dataLevel,l=e.schema[t],f=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,m="data"+(h||""),g="valid"+c;if(!1===e.schema){e.isTop?p=!0:i+=" var "+g+" = false; ",(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'boolean schema is false' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ";var v=i;i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i+=o?" return data; ":" validate.errors = null; return true; ":i+=" var "+g+" = true; ";return e.isTop&&(i+=" }; return validate; "),i}if(e.isTop){var y=e.isTop;if(c=e.level=0,h=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var x="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(x);e.logger.warn(x)}i+=" var vErrors = null; ",i+=" var errors = 0;     ",i+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,m="data"+((h=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),o&&!e.async)throw new Error("async schema in sync schema");i+=" var errs_"+c+" = errors;"}g="valid"+c,p=!e.opts.allErrors;var w="",D="",b=e.schema.type,A=Array.isArray(b);if(b&&e.opts.nullable&&!0===e.schema.nullable&&(A?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],A=!0)),A&&1==b.length&&(b=b[0],A=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(i+=" "+e.RULES.all.$comment.code(e,"$comment")),b){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,b);var P=e.RULES.types[b];if(E||A||!0===P||P&&!X(P)){f=e.schemaPath+".type",d=e.errSchemaPath+"/type",f=e.schemaPath+".type",d=e.errSchemaPath+"/type";var C=A?"checkDataTypes":"checkDataType";if(i+=" if ("+e.util[C](b,m,e.opts.strictNumbers,!0)+") { ",E){var M="dataType"+c,F="coerced"+c;i+=" var "+M+" = typeof "+m+"; var "+F+" = undefined; ","array"==e.opts.coerceTypes&&(i+=" if ("+M+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+M+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+F+" = "+m+"; } "),i+=" if ("+F+" !== undefined) ; ";var S=E;if(S)for(var B,_=-1,I=S.length-1;_<I;)"string"==(B=S[_+=1])?i+=" else if ("+M+" == 'number' || "+M+" == 'boolean') "+F+" = '' + "+m+"; else if ("+m+" === null) "+F+" = ''; ":"number"==B||"integer"==B?(i+=" else if ("+M+" == 'boolean' || "+m+" === null || ("+M+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==B&&(i+=" && !("+m+" % 1)"),i+=")) "+F+" = +"+m+"; "):"boolean"==B?i+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+F+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+F+" = true; ":"null"==B?i+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+F+" = null; ":"array"==e.opts.coerceTypes&&"array"==B&&(i+=" else if ("+M+" == 'string' || "+M+" == 'number' || "+M+" == 'boolean' || "+m+" == null) "+F+" = ["+m+"]; ");i+=" else {   ",(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",i+=A?""+b.join(","):""+b,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=A?""+b.join(","):""+b,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ",v=i,i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } if ("+F+" !== undefined) {  ";var j=h?"data"+(h-1||""):"parentData";i+=" "+m+" = "+F+"; ",h||(i+="if ("+j+" !== undefined)"),i+=" "+j+"["+(h?e.dataPathArr[h]:"parentDataProperty")+"] = "+F+"; } "}else(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",i+=A?""+b.join(","):""+b,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=A?""+b.join(","):""+b,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ",v=i,i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i+=" } "}}if(e.schema.$ref&&!s)i+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(i+=" } if (errors === ",i+=y?"0":"errs_"+c,i+=") { ",D+="}");else{var R=e.RULES;if(R)for(var T=-1,z=R.length-1;T<z;)if(X(P=R[T+=1])){if(P.type&&(i+=" if ("+e.util.checkDataType(P.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==P.type&&e.schema.properties){l=e.schema.properties;var O=Object.keys(l);if(O)for(var k,$=-1,V=O.length-1;$<V;)if(void 0!==(U=l[k=O[$+=1]]).default){var N=m+e.util.getProperty(k);if(e.compositeRule){if(e.opts.strictDefaults){if(x="default is ignored for: "+N,"log"!==e.opts.strictDefaults)throw new Error(x);e.logger.warn(x)}}else i+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+N+" === null || "+N+" === '' "),i+=" ) "+N+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(U.default)+" ":i+=" "+JSON.stringify(U.default)+" ",i+="; "}}else if("array"==P.type&&Array.isArray(e.schema.items)){var L=e.schema.items;if(L){_=-1;for(var U,q=L.length-1;_<q;)if(void 0!==(U=L[_+=1]).default)if(N=m+"["+_+"]",e.compositeRule){if(e.opts.strictDefaults){if(x="default is ignored for: "+N,"log"!==e.opts.strictDefaults)throw new Error(x);e.logger.warn(x)}}else i+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+N+" === null || "+N+" === '' "),i+=" ) "+N+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(U.default)+" ":i+=" "+JSON.stringify(U.default)+" ",i+="; "}}var Q,W=P.rules;if(W)for(var G,H=-1,K=W.length-1;H<K;)if(Z(G=W[H+=1])){var J=G.code(e,G.keyword,P.type);J&&(i+=" "+J+" ",p&&(w+="}"))}if(p&&(i+=" "+w+" ",w=""),P.type&&(i+=" } ",b&&b===P.type&&!E))i+=" else { ",f=e.schemaPath+".type",d=e.errSchemaPath+"/type",(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",i+=A?""+b.join(","):""+b,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=A?""+b.join(","):""+b,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ",v=i,i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ";p&&(i+=" if (errors === ",i+=y?"0":"errs_"+c,i+=") { ",D+="}")}}function X(e){for(var t=e.rules,r=0;r<t.length;r++)if(Z(t[r]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,i=0;i<r.length;i++)if(void 0!==e.schema[r[i]])return!0}(t)}return p&&(i+=" "+D+" "),y?(o?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }; return validate;"):i+=" var "+g+" = errors === errs_"+c+";",i}},14895:(e,t,r)=>{"use strict";var i=/^[a-z_$][a-z0-9_$-]*$/i,o=r(14165),s=r(61128);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!i.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var s=t.type;if(Array.isArray(s))for(var a=0;a<s.length;a++)u(e,s[a],t);else u(e,s,t);var n=t.metaSchema;n&&(t.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(n,!0))}function u(e,t,i){for(var s,a=0;a<r.length;a++){var n=r[a];if(n.type==t){s=n;break}}s||(s={type:t,rules:[]},r.push(s));var u={keyword:e,definition:i,custom:!0,code:o,implements:i.implements};s.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var i=t[r].rules,o=0;o<i.length;o++)if(i[o].keyword==e){i.splice(o,1);break}return this},validate:function e(t,r){e.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(i(t))return!0;if(e.errors=i.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return!1}}},93302:function(e,t,r){var i;!function(o){"use strict";var s,a=1e6,n="[big.js] ",u=n+"Invalid ",c=u+"decimal places",h=u+"rounding mode",l=n+"Division by zero",f={},d=void 0,p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,r,i){var o=e.c,s=e.e+t+1;if(s<o.length){if(1===r)i=o[s]>=5;else if(2===r)i=o[s]>5||5==o[s]&&(i||s<0||o[s+1]!==d||1&o[s-1]);else if(3===r)i=i||!!o[0];else if(i=!1,0!==r)throw Error(h);if(s<1)o.length=1,i?(e.e=-t,o[0]=1):o[0]=e.e=0;else{if(o.length=s--,i)for(;++o[s]>9;)o[s]=0,s--||(++e.e,o.unshift(1));for(s=o.length;!o[--s];)o.pop()}}else if(r<0||r>3||r!==~~r)throw Error(h);return e}function g(e,t,r,i){var o,s,n=e.constructor,h=!e.c[0];if(r!==d){if(r!==~~r||r<(3==t)||r>a)throw Error(3==t?u+"precision":c);for(r=i-(e=new n(e)).e,e.c.length>++i&&m(e,r,n.RM),2==t&&(i=e.e+r+1);e.c.length<i;)e.c.push(0)}if(o=e.e,r=(s=e.c.join("")).length,2!=t&&(1==t||3==t&&i<=o||o<=n.NE||o>=n.PE))s=s.charAt(0)+(r>1?"."+s.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)s="0"+s;s="0."+s}else if(o>0)if(++o>r)for(o-=r;o--;)s+="0";else o<r&&(s=s.slice(0,o)+"."+s.slice(o));else r>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&(!h||4==t)?"-"+s:s}f.abs=function(){var e=new this.constructor(this);return e.s=1,e},f.cmp=function(e){var t,r=this,i=r.c,o=(e=new r.constructor(e)).c,s=r.s,a=e.s,n=r.e,u=e.e;if(!i[0]||!o[0])return i[0]?s:o[0]?-a:0;if(s!=a)return s;if(t=s<0,n!=u)return n>u^t?1:-1;for(a=(n=i.length)<(u=o.length)?n:u,s=-1;++s<a;)if(i[s]!=o[s])return i[s]>o[s]^t?1:-1;return n==u?0:n>u^t?1:-1},f.div=function(e){var t=this,r=t.constructor,i=t.c,o=(e=new r(e)).c,s=t.s==e.s?1:-1,n=r.DP;if(n!==~~n||n<0||n>a)throw Error(c);if(!o[0])throw Error(l);if(!i[0])return new r(0*s);var u,h,f,p,g,v=o.slice(),y=u=o.length,x=i.length,w=i.slice(0,u),D=w.length,b=e,A=b.c=[],E=0,P=n+(b.e=t.e-e.e)+1;for(b.s=s,s=P<0?0:P,v.unshift(0);D++<u;)w.push(0);do{for(f=0;f<10;f++){if(u!=(D=w.length))p=u>D?1:-1;else for(g=-1,p=0;++g<u;)if(o[g]!=w[g]){p=o[g]>w[g]?1:-1;break}if(!(p<0))break;for(h=D==u?o:v;D;){if(w[--D]<h[D]){for(g=D;g&&!w[--g];)w[g]=9;--w[g],w[D]+=10}w[D]-=h[D]}for(;!w[0];)w.shift()}A[E++]=p?f:++f,w[0]&&p?w[D]=i[y]||0:w=[i[y]]}while((y++<x||w[0]!==d)&&s--);return A[0]||1==E||(A.shift(),b.e--),E>P&&m(b,n,r.RM,w[0]!==d),b},f.eq=function(e){return!this.cmp(e)},f.gt=function(e){return this.cmp(e)>0},f.gte=function(e){return this.cmp(e)>-1},f.lt=function(e){return this.cmp(e)<0},f.lte=function(e){return this.cmp(e)<1},f.minus=f.sub=function(e){var t,r,i,o,s=this,a=s.constructor,n=s.s,u=(e=new a(e)).s;if(n!=u)return e.s=-u,s.plus(e);var c=s.c.slice(),h=s.e,l=e.c,f=e.e;if(!c[0]||!l[0])return l[0]?(e.s=-u,e):new a(c[0]?s:0);if(n=h-f){for((o=n<0)?(n=-n,i=c):(f=h,i=l),i.reverse(),u=n;u--;)i.push(0);i.reverse()}else for(r=((o=c.length<l.length)?c:l).length,n=u=0;u<r;u++)if(c[u]!=l[u]){o=c[u]<l[u];break}if(o&&(i=c,c=l,l=i,e.s=-e.s),(u=(r=l.length)-(t=c.length))>0)for(;u--;)c[t++]=0;for(u=t;r>n;){if(c[--r]<l[r]){for(t=r;t&&!c[--t];)c[t]=9;--c[t],c[r]+=10}c[r]-=l[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--f;return c[0]||(e.s=1,c=[f=0]),e.c=c,e.e=f,e},f.mod=function(e){var t,r=this,i=r.constructor,o=r.s,s=(e=new i(e)).s;if(!e.c[0])throw Error(l);return r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=s,t?new i(r):(o=i.DP,s=i.RM,i.DP=i.RM=0,r=r.div(e),i.DP=o,i.RM=s,this.minus(r.times(e)))},f.plus=f.add=function(e){var t,r=this,i=r.constructor,o=r.s,s=(e=new i(e)).s;if(o!=s)return e.s=-s,r.minus(e);var a=r.e,n=r.c,u=e.e,c=e.c;if(!n[0]||!c[0])return c[0]?e:new i(n[0]?r:0*o);if(n=n.slice(),o=a-u){for(o>0?(u=a,t=c):(o=-o,t=n),t.reverse();o--;)t.push(0);t.reverse()}for(n.length-c.length<0&&(t=c,c=n,n=t),o=c.length,s=0;o;n[o]%=10)s=(n[--o]=n[o]+c[o]+s)/10|0;for(s&&(n.unshift(s),++u),o=n.length;0===n[--o];)n.pop();return e.c=n,e.e=u,e},f.pow=function(e){var t=this,r=new t.constructor(1),i=r,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(u+"exponent");for(o&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return o?r.div(i):i},f.round=function(e,t){var r=this.constructor;if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(c);return m(new r(this),e,t===d?r.RM:t)},f.sqrt=function(){var e,t,r,i=this,o=i.constructor,s=i.s,a=i.e,u=new o(.5);if(!i.c[0])return new o(i);if(s<0)throw Error(n+"No square root");0===(s=Math.sqrt(i+""))||s===1/0?((t=i.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new o(((s=Math.sqrt(t))==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+a)):e=new o(s),a=e.e+(o.DP+=4);do{r=e,e=u.times(r.plus(i.div(r)))}while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return m(e,o.DP-=4,o.RM)},f.times=f.mul=function(e){var t,r=this,i=r.constructor,o=r.c,s=(e=new i(e)).c,a=o.length,n=s.length,u=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!s[0])return new i(0*e.s);for(e.e=u+c,a<n&&(t=o,o=s,s=t,c=a,a=n,n=c),t=new Array(c=a+n);c--;)t[c]=0;for(u=n;u--;){for(n=0,c=a+u;c>u;)n=t[c]+s[u]*o[c-u-1]+n,t[c--]=n%10,n=n/10|0;t[c]=(t[c]+n)%10}for(n?++e.e:t.shift(),u=t.length;!t[--u];)t.pop();return e.c=t,e},f.toExponential=function(e){return g(this,1,e,e)},f.toFixed=function(e){return g(this,2,e,this.e+e)},f.toPrecision=function(e){return g(this,3,e,e-1)},f.toString=function(){return g(this)},f.valueOf=f.toJSON=function(){return g(this,4)},(s=function e(){function t(r){var i=this;if(!(i instanceof t))return r===d?e():new t(r);r instanceof t?(i.s=r.s,i.e=r.e,i.c=r.c.slice()):function(e,t){var r,i,o;if(0===t&&1/t<0)t="-0";else if(!p.test(t+=""))throw Error(u+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),o=t.length,i=0;i<o&&"0"==t.charAt(i);)++i;if(i==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-i-1,e.c=[],r=0;i<=o;)e.c[r++]=+t.charAt(i++)}}(i,r),i.constructor=t}return t.prototype=f,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=s.Big=s,void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()},19206:e=>{e.exports=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","*","","","","","","","","0","","","1","2","","","3","4","5","6","7","8","9","","",""]},64063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,o,s;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(o=i;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=i;0!=o--;){var a=s[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},35035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,i="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(r=t.cmp,function(e){return function(t,i){var o={key:t,value:e[t]},s={key:i,value:e[i]};return r(o,s)}}),s=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,a;if(Array.isArray(t)){for(a="[",r=0;r<t.length;r++)r&&(a+=","),a+=e(t[r])||"null";return a+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var n=s.push(t)-1,u=Object.keys(t).sort(o&&o(t));for(a="",r=0;r<u.length;r++){var c=u[r],h=e(t[c]);h&&(a&&(a+=","),a+=JSON.stringify(c)+":"+h)}return s.splice(n,1),"{"+a+"}"}}(e)}},10787:(e,t,r)=>{"use strict";const i=r(79024);e.exports=i.default,e.exports.raw=i.raw},77518:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"627a342d6eba738cf103d753bf442a3d.png"},66017:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"1940711ae250abc4871bf563f44ab585.png"},9424:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"7ac69aefeb77efddca4311160ba48eb9.png"},98889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"8a09527b06eeee9b52984520552f3610.png"},49874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"63bc9d90c462bcc100459f7d44dab7e2.jsx"},38882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"7fe555ee73184c72e031821a22f0d544.png"},4934:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"59b860b8c26e2787d9a2d2c486ccb637.png"},60038:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"dbfe6f136c603b175357f30c0300be38.png"},97694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"aa2528d7a8a813247c2d2b90b028e437.png"},63963:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"2b2983e86d6555fefb86e2beabb55feb.png"},64046:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"b067dd009dbd8781f1973feed20bb7eb.png"},33520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"5211260c15f95de001ff416d5a098ceb.png"},66261:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"c0190c8ec953bd7420ee373319a3f0c1.jsx"},5549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"d3a35822a59e861527f48d3949879d6c.jsx"},3754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"362cf30681aa40b46d218290191cab6d.jsx"},1763:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"8eb469a522c3ae4c7819174e340086dd.jsx"},49523:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"190c8de6aade7baacc90bbf521cdd4ba.jsx"},15264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"cdc0b80877df29ca96d4a05162fc8a1a.jsx"},3363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"be59e5e60b44dcb4bb1ccf2535c21d20.png"},35918:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"35e5d4cac5e7ac4f18616422a728392d.png"},77101:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"83fbf02619944d02f165a5fa0c7b9203.png"},92392:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"bd6865288f34d1fe7642a2a79e8dfe4f.png"},75264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"60e84283a6f99ff48f75e6d20f78499b.png"},56810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"02bd09e668c6b0faadc05741a7ce7cc6.png"},28426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"24e597b42b219bba49bfa1240bde3e6b.png"},90567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"ffa603ccaaac187fdef83a20a4289042.png"},23809:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"7906ce3f617bf8f9dbf83a0fb08e09ff.png"},7402:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"dd142c00e8f6db275d9ecc2bda063c04.png"},67337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"9f414e332643b34517d7742639d22b0a.obj"},78618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"76ae06b027ad8d3a84d87f9801f62db9.png"},30716:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"29fc676286325d45f7deef5e593b6da6.png"},16132:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"fe1ca8bac15e02a2d14cf9d558c69def.png"},33031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"780c7edd8a9410b8261fdb12d9d6191d.png"},24849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"c83bb5502d841707edd4423f41ebcca0.png"},22965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"8f18731da1a9e273cf0432f3b1c862f1.png"},87267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"5cf778e15448cf90b764416629d74108.png"},15995:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=r.p+"02e8634d514a9e8cef63312387a84a4d.ogg"},28648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=r.p+"4b10fb63199c172c56769a18e8c03ebb.rocket"},87737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"8cac1eea6b337bec7dab2e78b989f1d7.png"},23257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"dde80f7d8d6c1038a9b029af6509cf8f.png"},15796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"83e88ad71c6521471af806c96fa0ded5.png"},57825:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"8a09527b06eeee9b52984520552f3610.png"},65858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"59b860b8c26e2787d9a2d2c486ccb637.png"},52509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"76ae06b027ad8d3a84d87f9801f62db9.png"},83514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"64c8d0e56a947ade8a449a3ecda79d4b.png"},65755:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"660539e872dc7488532f602c4b1b9c9b.png"},82492:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"1c9a3c7bf86ce3ec74b515b10b9f5f17.png"},46957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const i=r.p+"d3132c4de2ae05ba66ad9637600796c5.png"},79024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,o.getOptions)(this);(0,s.validate)(a.default,t,{name:"File Loader",baseDataPath:"options"});const r=t.context||this.rootContext,u=t.name||"[contenthash].[ext]",c=(0,o.interpolateName)(this,u,{context:r,content:e,regExp:t.regExp});let h=c;t.outputPath&&(h="function"==typeof t.outputPath?t.outputPath(c,this.resourcePath,r):i.default.posix.join(t.outputPath,c));let l=`__webpack_public_path__ + ${JSON.stringify(h)}`;if(t.publicPath&&(l="function"==typeof t.publicPath?t.publicPath(c,this.resourcePath,r):`${t.publicPath.endsWith("/")?t.publicPath:`${t.publicPath}/`}${c}`,l=JSON.stringify(l)),t.postTransformPublicPath&&(l=t.postTransformPublicPath(l)),void 0===t.emitFile||t.emitFile){const t={};if("string"==typeof u){let e=u;const r=e.indexOf("?");r>=0&&(e=e.substr(0,r)),!0===/\[([^:\]]+:)?(hash|contenthash)(:[^\]]+)?]/gi.test(e)&&(t.immutable=!0)}t.sourceFilename=(0,n.normalizePath)(i.default.relative(this.rootContext,this.resourcePath)),this.emitFile(h,e,null,t)}return`${void 0===t.esModule||t.esModule?"export default":"module.exports ="} ${l};`},t.raw=void 0;var i=u(r(5534)),o=r(64082),s=r(72091),a=u(r(50639)),n=r(87947);function u(e){return e&&e.__esModule?e:{default:e}}t.raw=!0},87947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePath=function(e,t){if("\\"===e||"/"===e)return"/";const r=e.length;if(r<=1)return e;let i="";if(r>4&&"\\"===e[3]){const t=e[2];"?"!==t&&"."!==t||"\\\\"!==e.slice(0,2)||(e=e.slice(2),i="//")}const o=e.split(/[/\\]+/);return!1!==t&&""===o[o.length-1]&&o.pop(),i+o.join("/")}},49461:e=>{"use strict";var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),r(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function r(e,i,o,s,a,n,u,c,h,l){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var f in i(s,a,n,u,c,h,l),s){var d=s[f];if(Array.isArray(d)){if(f in t.arrayKeywords)for(var p=0;p<d.length;p++)r(e,i,o,d[p],a+"/"+f+"/"+p,n,a,f,s,p)}else if(f in t.propsKeywords){if(d&&"object"==typeof d)for(var m in d)r(e,i,o,d[m],a+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),n,a,f,s,m)}else(f in t.keywords||e.allKeys&&!(f in t.skipKeywords))&&r(e,i,o,d,a+"/"+f,n,a,f,s)}o(s,a,n,u,c,h,l)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},11142:function(e){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),r=e((function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)})),i=(r.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),o=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e},s=function(e){try{return!!e()}catch(e){return!0}},a=!s((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),n=t.document,u=i(n)&&i(n.createElement),c=!a&&!s((function(){return 7!=Object.defineProperty((e="div",u?n.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),h=Object.defineProperty,l={f:a?Object.defineProperty:function(e,t,r){if(o(e),t=function(e,t){if(!i(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!i(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!i(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!i(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}(t,!0),o(r),c)try{return h(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},f=a?function(e,t,r){return l.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,r))}:function(e,t,r){return e[t]=r,e},d={}.hasOwnProperty,p=function(e,t){return d.call(e,t)},m=0,g=Math.random(),v=e((function(e){var i="__core-js_shared__",o=t[i]||(t[i]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})})),y=v("native-function-to-string",Function.toString),x=e((function(e){var i=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++m+g).toString(36))}("src"),o="toString",s=(""+y).split(o);r.inspectSource=function(e){return y.call(e)},(e.exports=function(e,r,o,a){var n="function"==typeof o;n&&(p(o,"name")||f(o,"name",r)),e[r]!==o&&(n&&(p(o,i)||f(o,i,e[r]?""+e[r]:s.join(String(r)))),e===t?e[r]=o:a?e[r]?e[r]=o:f(e,r,o):(delete e[r],f(e,r,o)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[i]||y.call(this)}))})),w=function(e,t,r){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,o){return e.call(t,r,i,o)}}return function(){return e.apply(t,arguments)}},D=function(e,i,o){var s,a,n,u,c=e&D.F,h=e&D.G,l=e&D.S,d=e&D.P,p=e&D.B,m=h?t:l?t[i]||(t[i]={}):(t[i]||{}).prototype,g=h?r:r[i]||(r[i]={}),v=g.prototype||(g.prototype={});for(s in h&&(o=i),o)n=((a=!c&&m&&void 0!==m[s])?m:o)[s],u=p&&a?w(n,t):d&&"function"==typeof n?w(Function.call,n):n,m&&x(m,s,n,e&D.U),g[s]!=n&&f(g,s,u),d&&v[s]!=n&&(v[s]=n)};t.core=r,D.F=1,D.G=2,D.S=4,D.P=8,D.B=16,D.W=32,D.U=64,D.R=128;var b,A=D,E=Math.ceil,P=Math.floor,C=function(e){return isNaN(e=+e)?0:(e>0?P:E)(e)},M=(b=!1,function(e,t){var r,i,o=String(function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}(e)),s=C(t),a=o.length;return s<0||s>=a?b?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?b?o.charAt(s):r:b?o.slice(s,s+2):i-56320+(r-55296<<10)+65536});A(A.P,"String",{codePointAt:function(e){return M(this,e)}}),r.String.codePointAt;var F=Math.max,S=Math.min,B=function(e,t){return(e=C(e))<0?F(e+t,0):S(e,t)},_=String.fromCharCode,I=String.fromCodePoint;A(A.S+A.F*(!!I&&1!=I.length),"String",{fromCodePoint:function(e){for(var t,r=arguments,i=[],o=arguments.length,s=0;o>s;){if(t=+r[s++],B(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?_(t):_(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}}),r.String.fromCodePoint;var j,R,T,z,O,k,$,V,N,L,U,q,Q,W,G={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},H=function(e){return"string"==typeof e&&G.Space_Separator.test(e)},K=function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||G.ID_Start.test(e))},J=function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||G.ID_Continue.test(e))},X=function(e){return"string"==typeof e&&/[0-9]/.test(e)},Z=function(e){return"string"==typeof e&&/[0-9A-Fa-f]/.test(e)};function Y(e,t,r){var i=e[t];if(null!=i&&"object"==typeof i)for(var o in i){var s=Y(i,o,r);void 0===s?delete i[o]:i[o]=s}return r.call(e,t,i)}function ee(){for(L="default",U="",q=!1,Q=1;;){W=te();var e=ie[L]();if(e)return e}}function te(){if(j[z])return String.fromCodePoint(j.codePointAt(z))}function re(){var e=te();return"\n"===e?(O++,k=0):e?k+=e.length:k++,e&&(z+=e.length),e}var ie={default:function(){switch(W){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void re();case"/":return re(),void(L="comment");case void 0:return re(),oe("eof")}if(!H(W))return ie[R]();re()},comment:function(){switch(W){case"*":return re(),void(L="multiLineComment");case"/":return re(),void(L="singleLineComment")}throw he(re())},multiLineComment:function(){switch(W){case"*":return re(),void(L="multiLineCommentAsterisk");case void 0:throw he(re())}re()},multiLineCommentAsterisk:function(){switch(W){case"*":return void re();case"/":return re(),void(L="default");case void 0:throw he(re())}re(),L="multiLineComment"},singleLineComment:function(){switch(W){case"\n":case"\r":case"\u2028":case"\u2029":return re(),void(L="default");case void 0:return re(),oe("eof")}re()},value:function(){switch(W){case"{":case"[":return oe("punctuator",re());case"n":return re(),se("ull"),oe("null",null);case"t":return re(),se("rue"),oe("boolean",!0);case"f":return re(),se("alse"),oe("boolean",!1);case"-":case"+":return"-"===re()&&(Q=-1),void(L="sign");case".":return U=re(),void(L="decimalPointLeading");case"0":return U=re(),void(L="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=re(),void(L="decimalInteger");case"I":return re(),se("nfinity"),oe("numeric",1/0);case"N":return re(),se("aN"),oe("numeric",NaN);case'"':case"'":return q='"'===re(),U="",void(L="string")}throw he(re())},identifierNameStartEscape:function(){if("u"!==W)throw he(re());re();var e=ae();switch(e){case"$":case"_":break;default:if(!K(e))throw fe()}U+=e,L="identifierName"},identifierName:function(){switch(W){case"$":case"_":case"":case"":return void(U+=re());case"\\":return re(),void(L="identifierNameEscape")}if(!J(W))return oe("identifier",U);U+=re()},identifierNameEscape:function(){if("u"!==W)throw he(re());re();var e=ae();switch(e){case"$":case"_":case"":case"":break;default:if(!J(e))throw fe()}U+=e,L="identifierName"},sign:function(){switch(W){case".":return U=re(),void(L="decimalPointLeading");case"0":return U=re(),void(L="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=re(),void(L="decimalInteger");case"I":return re(),se("nfinity"),oe("numeric",Q*(1/0));case"N":return re(),se("aN"),oe("numeric",NaN)}throw he(re())},zero:function(){switch(W){case".":return U+=re(),void(L="decimalPoint");case"e":case"E":return U+=re(),void(L="decimalExponent");case"x":case"X":return U+=re(),void(L="hexadecimal")}return oe("numeric",0*Q)},decimalInteger:function(){switch(W){case".":return U+=re(),void(L="decimalPoint");case"e":case"E":return U+=re(),void(L="decimalExponent")}if(!X(W))return oe("numeric",Q*Number(U));U+=re()},decimalPointLeading:function(){if(X(W))return U+=re(),void(L="decimalFraction");throw he(re())},decimalPoint:function(){switch(W){case"e":case"E":return U+=re(),void(L="decimalExponent")}return X(W)?(U+=re(),void(L="decimalFraction")):oe("numeric",Q*Number(U))},decimalFraction:function(){switch(W){case"e":case"E":return U+=re(),void(L="decimalExponent")}if(!X(W))return oe("numeric",Q*Number(U));U+=re()},decimalExponent:function(){switch(W){case"+":case"-":return U+=re(),void(L="decimalExponentSign")}if(X(W))return U+=re(),void(L="decimalExponentInteger");throw he(re())},decimalExponentSign:function(){if(X(W))return U+=re(),void(L="decimalExponentInteger");throw he(re())},decimalExponentInteger:function(){if(!X(W))return oe("numeric",Q*Number(U));U+=re()},hexadecimal:function(){if(Z(W))return U+=re(),void(L="hexadecimalInteger");throw he(re())},hexadecimalInteger:function(){if(!Z(W))return oe("numeric",Q*Number(U));U+=re()},string:function(){switch(W){case"\\":return re(),void(U+=function(){switch(te()){case"b":return re(),"\b";case"f":return re(),"\f";case"n":return re(),"\n";case"r":return re(),"\r";case"t":return re(),"\t";case"v":return re(),"\v";case"0":if(re(),X(te()))throw he(re());return"\0";case"x":return re(),function(){var e="",t=te();if(!Z(t))throw he(re());if(e+=re(),t=te(),!Z(t))throw he(re());return e+=re(),String.fromCodePoint(parseInt(e,16))}();case"u":return re(),ae();case"\n":case"\u2028":case"\u2029":return re(),"";case"\r":return re(),"\n"===te()&&re(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw he(re())}return re()}());case'"':return q?(re(),oe("string",U)):void(U+=re());case"'":return q?void(U+=re()):(re(),oe("string",U));case"\n":case"\r":throw he(re());case"\u2028":case"\u2029":!function(e){console.warn("JSON5: '"+de(e)+"' in strings is not valid ECMAScript; consider escaping")}(W);break;case void 0:throw he(re())}U+=re()},start:function(){switch(W){case"{":case"[":return oe("punctuator",re())}L="value"},beforePropertyName:function(){switch(W){case"$":case"_":return U=re(),void(L="identifierName");case"\\":return re(),void(L="identifierNameStartEscape");case"}":return oe("punctuator",re());case'"':case"'":return q='"'===re(),void(L="string")}if(K(W))return U+=re(),void(L="identifierName");throw he(re())},afterPropertyName:function(){if(":"===W)return oe("punctuator",re());throw he(re())},beforePropertyValue:function(){L="value"},afterPropertyValue:function(){switch(W){case",":case"}":return oe("punctuator",re())}throw he(re())},beforeArrayValue:function(){if("]"===W)return oe("punctuator",re());L="value"},afterArrayValue:function(){switch(W){case",":case"]":return oe("punctuator",re())}throw he(re())},end:function(){throw he(re())}};function oe(e,t){return{type:e,value:t,line:O,column:k}}function se(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(te()!==i)throw he(re());re()}}function ae(){for(var e="",t=4;t-- >0;){var r=te();if(!Z(r))throw he(re());e+=re()}return String.fromCodePoint(parseInt(e,16))}var ne={start:function(){if("eof"===$.type)throw le();ue()},beforePropertyName:function(){switch($.type){case"identifier":case"string":return V=$.value,void(R="afterPropertyName");case"punctuator":return void ce();case"eof":throw le()}},afterPropertyName:function(){if("eof"===$.type)throw le();R="beforePropertyValue"},beforePropertyValue:function(){if("eof"===$.type)throw le();ue()},beforeArrayValue:function(){if("eof"===$.type)throw le();"punctuator"!==$.type||"]"!==$.value?ue():ce()},afterPropertyValue:function(){if("eof"===$.type)throw le();switch($.value){case",":return void(R="beforePropertyName");case"}":ce()}},afterArrayValue:function(){if("eof"===$.type)throw le();switch($.value){case",":return void(R="beforeArrayValue");case"]":ce()}},end:function(){}};function ue(){var e;switch($.type){case"punctuator":switch($.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=$.value}if(void 0===N)N=e;else{var t=T[T.length-1];Array.isArray(t)?t.push(e):t[V]=e}if(null!==e&&"object"==typeof e)T.push(e),R=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{var r=T[T.length-1];R=null==r?"end":Array.isArray(r)?"afterArrayValue":"afterPropertyValue"}}function ce(){T.pop();var e=T[T.length-1];R=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function he(e){return pe(void 0===e?"JSON5: invalid end of input at "+O+":"+k:"JSON5: invalid character '"+de(e)+"' at "+O+":"+k)}function le(){return pe("JSON5: invalid end of input at "+O+":"+k)}function fe(){return pe("JSON5: invalid identifier character at "+O+":"+(k-=5))}function de(e){var t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){var r=e.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return e}function pe(e){var t=new SyntaxError(e);return t.lineNumber=O,t.columnNumber=k,t}return{parse:function(e,t){j=String(e),R="start",T=[],z=0,O=1,k=0,$=void 0,V=void 0,N=void 0;do{$=ee(),ne[R]()}while("eof"!==$.type);return"function"==typeof t?Y({"":N},"",t):N},stringify:function(e,t,r){var i,o,s,a=[],n="",u="";if(null==t||"object"!=typeof t||Array.isArray(t)||(r=t.space,s=t.quote,t=t.replacer),"function"==typeof t)o=t;else if(Array.isArray(t)){i=[];for(var c=0,h=t;c<h.length;c+=1){var l=h[c],f=void 0;"string"==typeof l?f=l:("number"==typeof l||l instanceof String||l instanceof Number)&&(f=String(l)),void 0!==f&&i.indexOf(f)<0&&i.push(f)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),"number"==typeof r?r>0&&(r=Math.min(10,Math.floor(r)),u="          ".substr(0,r)):"string"==typeof r&&(u=r.substr(0,10)),d("",{"":e});function d(e,t){var r=t[e];switch(null!=r&&("function"==typeof r.toJSON5?r=r.toJSON5(e):"function"==typeof r.toJSON&&(r=r.toJSON(e))),o&&(r=o.call(t,e,r)),r instanceof Number?r=Number(r):r instanceof String?r=String(r):r instanceof Boolean&&(r=r.valueOf()),r){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof r?p(r):"number"==typeof r?String(r):"object"==typeof r?Array.isArray(r)?function(e){if(a.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");a.push(e);var t=n;n+=u;for(var r,i=[],o=0;o<e.length;o++){var s=d(String(o),e);i.push(void 0!==s?s:"null")}if(0===i.length)r="[]";else if(""===u)r="["+i.join(",")+"]";else{var c=",\n"+n,h=i.join(c);r="[\n"+n+h+",\n"+t+"]"}return a.pop(),n=t,r}(r):function(e){if(a.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");a.push(e);var t=n;n+=u;for(var r,o,s=[],c=0,h=i||Object.keys(e);c<h.length;c+=1){var l=h[c],f=d(l,e);if(void 0!==f){var p=m(l)+":";""!==u&&(p+=" "),p+=f,s.push(p)}}if(0===s.length)r="{}";else if(""===u)r="{"+(o=s.join(","))+"}";else{var g=",\n"+n;o=s.join(g),r="{\n"+n+o+",\n"+t+"}"}return a.pop(),n=t,r}(r):void 0}function p(e){for(var t={"'":.1,'"':.2},r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},i="",o=0;o<e.length;o++){var a=e[o];switch(a){case"'":case'"':t[a]++,i+=a;continue;case"\0":if(X(e[o+1])){i+="\\x00";continue}}if(r[a])i+=r[a];else if(a<" "){var n=a.charCodeAt(0).toString(16);i+="\\x"+("00"+n).substring(n.length)}else i+=a}var u=s||Object.keys(t).reduce((function(e,r){return t[e]<t[r]?e:r}));return u+(i=i.replace(new RegExp(u,"g"),r[u]))+u}function m(e){if(0===e.length)return p(e);var t=String.fromCodePoint(e.codePointAt(0));if(!K(t))return p(e);for(var r=t.length;r<e.length;r++)if(!J(String.fromCodePoint(e.codePointAt(r))))return p(e);return e}}}}()},89402:()=>{!function(e){e.XMPlayer||(e.XMPlayer={});var t=e.XMPlayer;e.XMView||(e.XMView={});var r=e.XMView;t.periodForNote=d,t.prettify_effect=c,t.init=A,t.load=function(e){var r=new DataView(e);t.xm={},t.xm.songname=l(r,17,20);var i=r.getUint32(60,!0)+60,o=r.getUint16(64,!0);t.xm.song_looppos=r.getUint16(66,!0),t.xm.nchan=r.getUint16(68,!0);var s,a,n,c=r.getUint16(70,!0),h=r.getUint16(72,!0);for(t.xm.flags=r.getUint16(74,!0),t.xm.tempo=r.getUint16(76,!0),t.xm.bpm=r.getUint16(78,!0),t.xm.channelinfo=[],t.xm.global_volume=t.max_global_volume,s=0;s<t.xm.nchan;s++)t.xm.channelinfo.push({number:s,filterstate:new Float32Array(3),vol:0,pan:128,period:1152,vL:0,vR:0,vLprev:0,vRprev:0,mute:0,volE:0,panE:0,retrig:0,vibratopos:0,vibratodepth:1,vibratospeed:1,vibratotype:0});for(console.log("header len "+i),console.log("songlen %d, %d channels, %d patterns, %d instruments",o,t.xm.nchan,c,h),console.log("loop @%d",t.xm.song_looppos),console.log("flags=%d tempo %d bpm %d",t.xm.flags,t.xm.tempo,t.xm.bpm),t.xm.songpats=[],s=0;s<o;s++)t.xm.songpats.push(r.getUint8(80+s));console.log("song patterns: ",t.xm.songpats);var f=i;for(t.xm.patterns=[],s=0;s<c;s++){var d=[],p=(r.getUint32(f,!0),r.getUint16(f+5,!0)),g=r.getUint16(f+7,!0);for(console.log("pattern %d: %d bytes, %d rows",s,g,p),f+=9,a=0;g>0&&a<p;a++){for(row=[],n=0;n<t.xm.nchan;n++){var v=r.getUint8(f);f++;var y=-1,x=-1,w=-1,A=0,E=0;128&v?(1&v&&(y=r.getUint8(f)-1,f++),2&v&&(x=r.getUint8(f),f++),4&v&&(w=r.getUint8(f),f++),8&v&&(A=r.getUint8(f),f++),16&v&&(E=r.getUint8(f),f++)):(y=v-1,x=r.getUint8(f),f++,w=r.getUint8(f),f++,A=r.getUint8(f),f++,E=r.getUint8(f),f++);var P=[y,x,w,A,E];row.push(P)}d.push(row)}t.xm.patterns.push(d)}for(t.xm.instruments=[],s=0;s<h;s++){var C=r.getUint32(f,!0),M=l(r,f+4,22),F=r.getUint16(f+27,!0);if(x={name:M,number:s},F>0){var S=new Uint8Array(e,f+33,96),B=r.getUint8(f+225),_=r.getUint8(f+233),I=r.getUint8(f+227),j=r.getUint8(f+228),R=r.getUint8(f+229),T=r.getUint8(f+226),z=r.getUint8(f+234),O=r.getUint8(f+230),k=r.getUint8(f+231),$=r.getUint8(f+232),V=r.getUint16(f+239,!0),N=[];for(a=0;a<2*B;a++)N.push(r.getUint16(f+129+2*a,!0));var L=[];for(a=0;a<2*T;a++)L.push(r.getUint16(f+177+2*a,!0));var U=r.getUint32(f+29,!0);console.log("hdrsiz %d; instrument %s: '%s' %d samples, samphdrsiz %d",C,(s+1).toString(16),M,F,U),f+=C;var q=0,Q=[];for(a=0;a<F;a++){var W=r.getUint32(f,!0),G=r.getUint32(f+4,!0),H=r.getUint32(f+8,!0),K=r.getUint8(f+12),J=r.getInt8(f+13),X=r.getUint8(f+14),Z=r.getUint8(f+15),Y=r.getInt8(f+16),ee=l(r,f+18,22),te=q;0===H&&(X&=-4),console.log("sample %d: len %d name '%s' loop %d/%d vol %d offset %s",a,W,ee,G,H,K,te.toString(16)),console.log("           type %d note %s(%d) finetune %d pan %d",X,u(Y+48),Y,J,Z),console.log("           vol env",N,I,j,R,"type",_,"fadeout",V),console.log("           pan env",L,O,k,$,"type",z);var re={len:W,loop:G,looplen:H,note:Y,fine:J,pan:Z,type:X,vol:K,fileoffset:te};Q.push(re),f+=U,q+=W}for(a=0;a<F;a++)(re=Q[a]).sampledata=D(new Uint8Array(e,f+re.fileoffset,re.len),16&re.type),16&re.type&&(re.len/=2,re.loop/=2,re.looplen/=2),3&re.type&&(re.looplen<2048||2&re.type)&&b(re);if(f+=q,x.samplemap=S,x.samples=Q,_){var ie=N[N.length-2];if(2&_||(I=N.length/2),V>0){var oe=65536/V;N.push(ie+oe),N.push(0)}x.env_vol=new m(N,_,I,j,R)}else x.env_vol=new m([0,64,1,0],2,0,0,0);z?(2&z||(O=L.length/2),x.env_pan=new m(L,z,O,k,$)):x.env_pan=new m([0,32],0,0,0,0)}else f+=C,console.log("empty instrument",s,C,f);t.xm.instruments.push(x)}return console.log('loaded "'+t.xm.songname+'"'),!0},t.play=function(){if(!t.playing){r.resume&&r.resume(),i.connect(o);var e=t.audioctx.createOscillator();e.connect(t.audioctx.destination),e.start?e.start(0):e.noteOn(0),e.stop?e.stop(0):e.noteOff(0),e.disconnect()}t.playing=!0},t.pause=function(){t.playing&&(i.disconnect(o),r.pause&&r.pause()),t.playing=!1},t.stop=function(){t.playing&&(i.disconnect(o),t.playing=!1),t.cur_pat=-1,t.cur_row=64,t.cur_songpos=-1,t.cur_ticksamp=0,t.xm.global_volume=t.max_global_volume,r.stop&&r.stop(),A()},t.cur_songpos=-1,t.cur_pat=-1,t.cur_row=64,t.cur_ticksamp=0,t.cur_tick=6,t.xm={},t.xm.global_volume=t.max_global_volume=128,t.nextTick=v,t.nextRow=p,t.Envelope=m;var i,o,s=["C-","C#","D-","D#","E-","F-","F#","G-","G#","A-","A#","B-"],a=44100,n=.9837;function u(e){return e<0?"---":96==e?"^^^":s[e%12]+~~(e/12)}function c(e,t){return e>=10&&(e=String.fromCharCode(55+e)),e+(t<16?"0"+t.toString(16):t.toString(16))}function h(e){return u(e[0])+" "+(-1==(t=e[1])?"--":t<10?"0"+t:t)+" "+function(e){return e<16?"--":e.toString(16)}(e[2])+" "+c(e[3],e[4]);var t}function l(e,t,r){for(var i=[],o=t;o<t+r;o++){var s=e.getUint8(o);if(0===s)break;i.push(String.fromCharCode(s))}return i.join("")}function f(e,t){var r=8363*Math.pow(2,(1152-t)/192);isNaN(r)?console.log("invalid period!",t):(e.doff=r/a,e.filter=function(e){e>.5&&(e=.5);var t=Math.sqrt(2)*Math.PI*e,r=Math.exp(-t),i=r*Math.cos(t);return[(1-2*i+r*r)/2,2*i,-r*r]}(e.doff/2))}function d(e,t){return 1920-16*(t+e.samp.note)-e.fine/8}function p(){void 0===t.next_row&&(t.next_row=t.cur_row+1),t.cur_row=t.next_row,t.next_row++,(-1==t.cur_pat||t.cur_row>=t.xm.patterns[t.cur_pat].length)&&(t.cur_row=0,t.next_row=1,t.cur_songpos++,t.cur_songpos>=t.xm.songpats.length&&(t.cur_songpos=t.xm.song_looppos),function(){for(var e=t.xm.songpats[t.cur_songpos];e>=t.xm.patterns.length;)t.cur_songpos+1<t.xm.songpats.length?t.cur_songpos++:t.cur_songpos===t.xm.song_looppos&&0!==t.cur_songpos||t.xm.song_looppos>=t.xm.songpats.length?t.cur_songpos=0:t.cur_songpos=t.xm.song_looppos,e=t.xm.songpats[t.cur_songpos];t.cur_pat=e}());for(var e=t.xm.patterns[t.cur_pat][t.cur_row],r=0;r<e.length;r++){var i=t.xm.channelinfo[r],o=i.inst,s=!1;if(-1!=e[r][1]&&(o=t.xm.instruments[e[r][1]-1])&&o.samplemap&&(i.inst=o,s=!0,i.note&&o.samplemap&&(i.samp=o.samples[o.samplemap[i.note]],i.vol=i.samp.vol,i.pan=i.samp.pan,i.fine=i.samp.fine)),-1!=e[r][0])if(96==e[r][0])i.release=1,s=!1;else if(o&&o.samplemap){var a=e[r][0];i.note=a,i.samp=o.samples[o.samplemap[i.note]],s&&(i.pan=i.samp.pan,i.vol=i.samp.vol,i.fine=i.samp.fine),s=!0}if(i.voleffectfn=void 0,-1!=e[r][2]){var n=e[r][2];i.voleffectdata=15&n,n<16?console.log("channel",r,"invalid volume",n.toString(16)):n<=80?i.vol=n-16:n>=96&&n<112?i.voleffectfn=function(e){e.vol=Math.max(0,e.vol-e.voleffectdata)}:n>=112&&n<128?i.voleffectfn=function(e){e.vol=Math.min(64,e.vol+e.voleffectdata)}:n>=128&&n<144?i.vol=Math.max(0,i.vol-(15&n)):n>=144&&n<160?i.vol=Math.min(64,i.vol+(15&n)):n>=160&&n<176?i.vibratospeed=15&n:n>=176&&n<192?(i.vibratodepth=15&n,i.voleffectfn=t.effects_t1[4],t.effects_t1[4](i)):n>=192&&n<208?i.pan=17*(15&n):n>=240&&n<=255?(15&n&&(i.portaspeed=(15&n)<<4),i.voleffectfn=t.effects_t1[3]):console.log("channel",r,"volume effect",n.toString(16))}if(i.effect=e[r][3],i.effectdata=e[r][4],i.effect<36){i.effectfn=t.effects_t1[i.effect];var u=t.effects_t0[i.effect];u&&u(i,i.effectdata)&&(s=!1)}else console.log("channel",r,"effect > 36",i.effect);(3==i.effect||5==i.effect||e[r][2]>=240)&&(-1!=e[r][0]&&(i.periodtarget=d(i,i.note)),s=!1,o&&o.samplemap&&(null==i.env_vol?s=!0:i.release&&(i.envtick=0,i.release=0,i.env_vol=new g(o.env_vol),i.env_pan=new g(o.env_pan)))),s&&(9!=i.effect&&(i.off=0),i.release=0,i.envtick=0,i.env_vol=new g(o.env_vol),i.env_pan=new g(o.env_pan),i.note&&(i.period=d(i,i.note)),i.vibratotype<4&&(i.vibratopos=0))}}function m(e,t,r,i,o){this.points=e,this.type=t,this.sustain=r,this.loopstart=e[2*i],this.loopend=e[2*o]}function g(e){this.env=e,this.tick=0}function v(){var e,r;for(t.cur_tick++,e=0;e<t.xm.nchan;e++)(r=t.xm.channelinfo[e]).periodoffset=0;for(t.cur_tick>=t.xm.tempo&&(t.cur_tick=0,p()),e=0;e<t.xm.nchan;e++){var i=(r=t.xm.channelinfo[e]).inst;0!==t.cur_tick&&(r.voleffectfn&&r.voleffectfn(r),r.effectfn&&r.effectfn(r)),isNaN(r.period)&&console.log(h(t.xm.patterns[t.cur_pat][t.cur_row][e]),"set channel",e,"period to NaN"),void 0!==i&&(void 0!==r.env_vol?(r.volE=r.env_vol.Tick(r.release),r.panE=r.env_pan.Tick(r.release),f(r,r.period+r.periodoffset)):console.log(h(t.xm.patterns[t.cur_pat][t.cur_row][e]),"set channel",e,"env_vol to undefined, but note is playing"))}}function y(e,t,r,i,o){var s=e.filterstate[1];if(isNaN(s))console.log("NaN filterstate?",e.filterstate,e.filter);else{for(var a=t;a<r;a++){if(Math.abs(s)<1526e-8){s=0;break}i[a]+=s*e.vL,o[a]+=s*e.vR,s*=n}if(e.filterstate[1]=s,e.filterstate[2]=s,!isNaN(s))return 0;console.log("NaN filterstate after adding silence?",e.filterstate,e.filter,a)}}function x(e,r,i,o,s){var a=e.inst,u=e.samp,c=!1,h=0,l=0;if(null==u||null==a||e.mute)return y(e,r,i,o,s);var f=u.sampledata,d=u.len;1==(3&u.type)&&u.looplen>0&&(c=!0,d=(l=u.loop)+(h=u.looplen)),u.len;var p=e.volE/64,m=4*(e.panE-32),g=m+e.pan-128,v=t.xm.global_volume*p*(128-g)*e.vol/1048576,x=t.xm.global_volume*p*(128+g)*e.vol/1048576;if(v<0&&(v=0),x<0&&(x=0),0!==x||0!==v){if(!isNaN(x)&&!isNaN(v)){var w=e.off,D=e.doff,b=0,A=e.filter[0],E=e.filter[1],P=e.filter[2],C=e.filterstate[0],M=e.filterstate[1],F=e.filterstate[2],S=n*e.vL+(1-n)*(v+e.vLprev)*.5,B=n*e.vR+(1-n)*(x+e.vRprev)*.5,_=Math.pow(n,8);e.vLprev=v,e.vRprev=x;for(var I=r,j=100;I<i;){if(0==j--){console.log("failsafe in mixing loop! channel",e.number,w,d,l,h,D);break}if(w>=d){if(!c)return e.inst=void 0,b+y(e,I,i,o,s);w=l+(w-l)%h}for(var R,T,z=Math.max(1,Math.min(i,I+(d-w)/D));I+7<z;I+=8)T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I]+=S*T,s[I]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+1]+=S*T,s[I+1]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+2]+=S*T,s[I+2]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+3]+=S*T,s[I+3]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+4]+=S*T,s[I+4]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+5]+=S*T,s[I+5]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+6]+=S*T,s[I+6]+=B*T,b+=(S+B)*T*T,T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,w+=D,o[I+7]+=S*T,s[I+7]+=B*T,b+=(S+B)*T*T,S=_*S+(1-_)*v,B=_*B+(1-_)*x;for(;I<z;I++)T=A*((R=f[0|w])+C)+E*M+P*F,F=M,M=T,C=R,o[I]+=S*T,s[I]+=B*T,b+=(S+B)*T*T,w+=D}return e.off=w,e.filterstate[0]=C,e.filterstate[1]=M,e.filterstate[2]=F,e.vL=S,e.vR=B,.5*b}console.log("NaN volume!?",e.number,v,x,p,m,e.vol)}}function w(e){a=t.audioctx.sampleRate;var i,o,s,n=e.outputBuffer.length,u=e.outputBuffer.getChannelData(0),c=e.outputBuffer.getChannelData(1);for(i=0;i<n;i++)u[i]=0,c[i]=0;for(var h=0,l=0|2.5*a/t.xm.bpm,f=r.scope_width;n>0;){(-1==t.cur_pat||t.cur_ticksamp>=l)&&(v(),t.cur_ticksamp-=l);var d=Math.min(n,l-t.cur_ticksamp),p=new Float32Array(t.xm.nchan),m=void 0;for(o=0;o<t.xm.nchan;o++){var g;if(d>=4*f)for(g=new Float32Array(f),s=0;s<f;s++)g[s]=-u[h+4*s]-c[h+4*s];if(p[o]=x(t.xm.channelinfo[o],h,h+d,u,c)/d,d>=4*f){for(s=0;s<f;s++)g[s]+=u[h+4*s]+c[h+4*s];void 0===m&&(m=[]),m.push(g)}}r.pushEvent&&r.pushEvent({t:e.playbackTime+(0+h)/a,vu:p,scopes:m,songpos:t.cur_songpos,pat:t.cur_pat,row:t.cur_row}),h+=d,t.cur_ticksamp+=d,n-=d}}function D(e,t){var r,i,o,s=e.length,a=0;if(0===t){for(r=new Float32Array(s),o=0;o<s;o++)128&(i=255&(a+=e[o]))&&(i-=256),r[o]=i/128;return r}for(s/=2,r=new Float32Array(s),o=0;o<s;o++)32768&(i=e[2*o]+(e[2*o+1]<<8))&&(i-=65536),a=Math.max(-1,Math.min(1,a+i/32768)),r[o]=a;return r}function b(e){var t=(2048+e.looplen-1)/e.looplen|0,r=2&e.type;r&&(t=t+1&-2);for(var i=e.loop+t*e.looplen,o=new Float32Array(i),s=0;s<e.loop;s++)o[s]=e.sampledata[s];for(var a=0;a<t;a++){var n;if(1&a&&r)for(n=e.looplen-1;n>=0;n--)o[s++]=e.sampledata[e.loop+n];else for(n=0;n<e.looplen;n++)o[s++]=e.sampledata[e.loop+n]}console.log("unrolled sample loop; looplen",e.looplen,"x",t," = ",i),e.sampledata=o,e.looplen=t*e.looplen,e.type=1}function A(){if(!t.audioctx){var r=e.AudioContext||e.webkitAudioContext;t.audioctx=new r,(o=t.audioctx.createGain()).gain.value=.1}(i=void 0===t.audioctx.createScriptProcessor?t.audioctx.createJavaScriptNode(16384,0,2):t.audioctx.createScriptProcessor(16384,0,2)).onaudioprocess=w,o.connect(t.audioctx.destination)}m.prototype.Get=function(e){for(var t,r=this.points,i=0;i<r.length;i+=2)if(t=r[i+1],e<r[i]){var o=r[i-2];t=r[i-1];var s=r[i]-o;return t+(e-o)*(r[i+1]-t)/s}return t},g.prototype.Tick=function(e){var t=this.env.Get(this.tick);return!e&&this.tick>=this.env.points[2*this.env.sustain]?this.env.points[2*this.env.sustain+1]:(this.tick++,4&this.env.type&&!e&&this.tick>=this.env.loopend&&(this.tick-=this.env.loopend-this.env.loopstart),t)},t.playing=!1}(window)},57151:()=>{!function(e){e.XMPlayer||(e.XMPlayer={});var t=e.XMPlayer;function r(e){if(0!==e.effectdata&&void 0!==e.inst){var r=[0,e.effectdata>>4,15&e.effectdata],i=e.note+r[t.cur_tick%3];e.period=t.periodForNote(e,i)}}function i(e){void 0!==e.periodtarget&&void 0!==e.portaspeed&&(e.period>e.periodtarget?e.period=Math.max(e.periodtarget,e.period-e.portaspeed):e.period=Math.min(e.periodtarget,e.period+e.portaspeed))}function o(e){e.periodoffset=function(e,t){var r=0;switch(3&e){case 1:r=(1+2*t/64)%2-1;break;case 2:case 3:r=t<32?1:-1;break;default:r=Math.sin(t*Math.PI/32)}return r}(e.vibratotype,e.vibratopos)*e.vibratodepth,isNaN(e.periodoffset)&&(console.log("vibrato periodoffset NaN?",e.vibratopos,e.vibratospeed,e.vibratodepth),e.periodoffset=0),t.cur_tick>0&&(e.vibratopos+=e.vibratospeed,e.vibratopos&=63)}function s(e,t){t&&(e.volumeslide=(t>>4)-(15&t))}function a(e){void 0!==e.volumeslide&&(e.vol=Math.max(0,Math.min(64,e.vol+e.volumeslide)))}function n(){}function u(e,r){console.log("unimplemented effect",t.prettify_effect(e.effect,r))}t.effects_t0=[r,function(e,t){0!==t&&(e.slideupspeed=t)},function(e,t){0!==t&&(e.slidedownspeed=t)},function(e,t){0!==t&&(e.portaspeed=t)},function(e,t){15&t&&(e.vibratodepth=2*(15&t)),t>>4&&(e.vibratospeed=t>>4),o(e)},s,s,u,function(e,t){e.pan=t},function(e,t){e.off=256*t},s,function(e,r){r<t.xm.songpats.length&&(t.cur_songpos=r-1,t.cur_pat=-1,t.cur_row=-1)},function(e,t){e.vol=Math.min(64,t)},function(e,r){t.cur_songpos++,t.cur_songpos>=t.xm.songpats.length&&(t.cur_songpos=t.xm.song_looppos),t.cur_pat=t.xm.songpats[t.cur_songpos],t.next_row=10*(r>>4)+(15&r)},function(e,r){var i=r>>4;switch(r&=15,i){case 1:e.period-=r;break;case 2:e.period+=r;break;case 4:e.vibratotype=7&r;break;case 5:e.fine=(r<<4)+r-128;break;case 6:0==r?e.loopstart=t.cur_row:(void 0===e.loopend&&(e.loopend=t.cur_row,e.loopremaining=r),0!==e.loopremaining?(e.loopremaining--,t.next_row=e.loopstart||0):(delete e.loopend,delete e.loopstart));break;case 8:e.pan=17*r;break;case 10:0===r&&void 0!==e.finevolup&&(r=e.finevolup),e.vol=Math.min(64,e.vol+r),e.finevolup=r;break;case 11:0===r&&void 0!==e.finevoldown&&(r=e.finevoldown),e.vol=Math.max(0,e.vol-r),e.finevoldown=r;break;case 12:break;default:console.log("unimplemented extended effect E",e.effectdata.toString(16))}},function(e,r){0!==r?r<32?t.xm.tempo=r:t.xm.bpm=r:console.log("tempo 0?")},function(e,r){t.xm.global_volume=r<=64?Math.max(0,2*r):t.max_global_volume},function(e,r){r&&(t.xm.global_volumeslide=2*((r>>4)-(15&r)))},u,u,u,u,u,u,u,u,u,function(e,t){switch(15&t&&(e.retrig=(240&e.retrig)+(15&t)),240&t&&(e.retrig=(15&e.retrig)+(240&t)),e.retrig>>4){case 1:e.vol-=1;break;case 2:e.vol-=2;break;case 3:e.vol-=4;break;case 4:e.vol-=8;break;case 5:e.vol-=16;break;case 6:e.vol*=2,e.vol/=3;break;case 7:e.vol/=2;break;case 9:e.vol+=1;break;case 10:e.vol+=2;break;case 11:e.vol+=4;break;case 12:e.vol+=8;break;case 13:e.vol+=16;break;case 14:e.vol*=3,e.vol/=2;break;case 15:e.vol*=2}e.vol=Math.min(64,Math.max(0,e.vol))},u,u,u,u,u,u,u,u],t.effects_t1=[r,function(e){void 0!==e.slideupspeed&&(e.period-=e.slideupspeed)},function(e){void 0!==e.slidedownspeed&&(e.period=Math.min(1728,e.period+e.slidedownspeed))},i,o,function(e){a(e),i(e)},function(e){a(e),o(e)},n,null,null,a,null,null,null,function(e){e.effectdata>>4==12&&t.cur_tick==(15&e.effectdata)&&(e.vol=0)},null,null,function(e){void 0!==t.xm.global_volumeslide&&(t.xm.global_volume=Math.max(0,Math.min(t.max_global_volume,t.xm.global_volume+t.xm.global_volumeslide)))},n,n,n,n,n,n,n,n,n,function(e){t.cur_tick%(15&e.retrig)==0&&(e.off=0)},n,n,n,n,n,n,n,n]}(window)},17262:e=>{"use strict";e.exports=function(e){return e.currentRequest?e.currentRequest:e.loaders.slice(e.loaderIndex).map((e=>e.request)).concat([e.resource]).join("!")}},30886:(e,t,r)=>{"use strict";const i={26:"abcdefghijklmnopqrstuvwxyz",32:"123456789abcdefghjkmnpqrstuvwxyz",36:"0123456789abcdefghijklmnopqrstuvwxyz",49:"abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",52:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",58:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",62:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",64:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"};let o,s;e.exports=function(e,t,a,n){let u;t=t||"md4",n=n||9999;try{u=r(67036).createHash(t)}catch(e){if("ERR_OSSL_EVP_UNSUPPORTED"===e.code&&"md4"===t&&(void 0===o&&(o=r(88024),void 0===s&&(s=r(89418))),u=new s(o())),!u)throw e}return u.update(e),"base26"===a||"base32"===a||"base36"===a||"base49"===a||"base52"===a||"base58"===a||"base62"===a?function(e,t){const o=i[t];if(!o)throw new Error("Unknown encoding base"+t);const s=e.length,a=r(93302);a.RM=a.DP=0;let n=new a(0);for(let t=s-1;t>=0;t--)n=n.times(256).plus(e[t]);let u="";for(;n.gt(0);)u=o[n.mod(t)]+u,n=n.div(t);return a.DP=20,a.RM=1,u}(u.digest(),a.substr(4)).substr(0,n):u.digest(a||"hex").substr(0,n)}},44605:(e,t,r)=>{"use strict";const i=r(97893);e.exports=function(e){const t=e.query;return"string"==typeof t&&""!==t?i(e.query):t&&"object"==typeof t?t:{}}},69929:e=>{"use strict";e.exports=function(e){return e.remainingRequest?e.remainingRequest:e.loaders.slice(e.loaderIndex+1).map((e=>e.request)).concat([e.resource]).join("!")}},89418:(e,t,r)=>{const i=r(79541).MAX_SHORT_STRING;e.exports=class{constructor(e){this.string=void 0,this.encoding=void 0,this.hash=e}update(e,t){if(void 0!==this.string){if("string"==typeof e&&t===this.encoding&&this.string.length+e.length<i)return this.string+=e,this;this.hash.update(this.string,this.encoding),this.string=void 0}return"string"==typeof e?!(e.length<i)||t&&t.startsWith("ba")?this.hash.update(e,t):(this.string=e,this.encoding=t):this.hash.update(e),this}digest(e){return void 0!==this.string&&this.hash.update(this.string,this.encoding),this.hash.digest(e)}}},88024:(e,t,r)=>{"use strict";const i=r(79541),o=new WebAssembly.Module(Buffer.from("AGFzbQEAAAABCAJgAX8AYAAAAwUEAQAAAAUDAQABBhoFfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwciBARpbml0AAAGdXBkYXRlAAIFZmluYWwAAwZtZW1vcnkCAAqFEAQmAEGBxpS6BiQBQYnXtv5+JAJB/rnrxXkkA0H2qMmBASQEQQAkAAvMCgEYfyMBIQojAiEGIwMhByMEIQgDQCAAIAVLBEAgBSgCCCINIAcgBiAFKAIEIgsgCCAHIAUoAgAiDCAKIAggBiAHIAhzcXNqakEDdyIDIAYgB3Nxc2pqQQd3IgEgAyAGc3FzampBC3chAiAFKAIUIg8gASACIAUoAhAiCSADIAEgBSgCDCIOIAYgAyACIAEgA3Nxc2pqQRN3IgQgASACc3FzampBA3ciAyACIARzcXNqakEHdyEBIAUoAiAiEiADIAEgBSgCHCIRIAQgAyAFKAIYIhAgAiAEIAEgAyAEc3FzampBC3ciAiABIANzcXNqakETdyIEIAEgAnNxc2pqQQN3IQMgBSgCLCIVIAQgAyAFKAIoIhQgAiAEIAUoAiQiEyABIAIgAyACIARzcXNqakEHdyIBIAMgBHNxc2pqQQt3IgIgASADc3FzampBE3chBCAPIBAgCSAVIBQgEyAFKAI4IhYgAiAEIAUoAjQiFyABIAIgBSgCMCIYIAMgASAEIAEgAnNxc2pqQQN3IgEgAiAEc3FzampBB3ciAiABIARzcXNqakELdyIDIAkgAiAMIAEgBSgCPCIJIAQgASADIAEgAnNxc2pqQRN3IgEgAiADcnEgAiADcXJqakGZ84nUBWpBA3ciAiABIANycSABIANxcmpqQZnzidQFakEFdyIEIAEgAnJxIAEgAnFyaiASakGZ84nUBWpBCXciAyAPIAQgCyACIBggASADIAIgBHJxIAIgBHFyampBmfOJ1AVqQQ13IgEgAyAEcnEgAyAEcXJqakGZ84nUBWpBA3ciAiABIANycSABIANxcmpqQZnzidQFakEFdyIEIAEgAnJxIAEgAnFyampBmfOJ1AVqQQl3IgMgECAEIAIgFyABIAMgAiAEcnEgAiAEcXJqakGZ84nUBWpBDXciASADIARycSADIARxcmogDWpBmfOJ1AVqQQN3IgIgASADcnEgASADcXJqakGZ84nUBWpBBXciBCABIAJycSABIAJxcmpqQZnzidQFakEJdyIDIBEgBCAOIAIgFiABIAMgAiAEcnEgAiAEcXJqakGZ84nUBWpBDXciASADIARycSADIARxcmpqQZnzidQFakEDdyICIAEgA3JxIAEgA3FyampBmfOJ1AVqQQV3IgQgASACcnEgASACcXJqakGZ84nUBWpBCXciAyAMIAIgAyAJIAEgAyACIARycSACIARxcmpqQZnzidQFakENdyIBcyAEc2pqQaHX5/YGakEDdyICIAQgASACcyADc2ogEmpBodfn9gZqQQl3IgRzIAFzampBodfn9gZqQQt3IgMgAiADIBggASADIARzIAJzampBodfn9gZqQQ93IgFzIARzaiANakGh1+f2BmpBA3ciAiAUIAQgASACcyADc2pqQaHX5/YGakEJdyIEcyABc2pqQaHX5/YGakELdyIDIAsgAiADIBYgASADIARzIAJzampBodfn9gZqQQ93IgFzIARzampBodfn9gZqQQN3IgIgEyAEIAEgAnMgA3NqakGh1+f2BmpBCXciBHMgAXNqakGh1+f2BmpBC3chAyAKIA4gAiADIBcgASADIARzIAJzampBodfn9gZqQQ93IgFzIARzampBodfn9gZqQQN3IgJqIQogBiAJIAEgESADIAIgFSAEIAEgAnMgA3NqakGh1+f2BmpBCXciBHMgAXNqakGh1+f2BmpBC3ciAyAEcyACc2pqQaHX5/YGakEPd2ohBiADIAdqIQcgBCAIaiEIIAVBQGshBQwBCwsgCiQBIAYkAiAHJAMgCCQECw0AIAAQASMAIABqJAAL/wQCA38BfiMAIABqrUIDhiEEIABByABqQUBxIgJBCGshAyAAIgFBAWohACABQYABOgAAA0AgACACSUEAIABBB3EbBEAgAEEAOgAAIABBAWohAAwBCwsDQCAAIAJJBEAgAEIANwMAIABBCGohAAwBCwsgAyAENwMAIAIQAUEAIwGtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEIIwKtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEQIwOtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEYIwStIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAAs=","base64"));e.exports=i.bind(null,o,[],64,32)},79541:e=>{"use strict";const t=-4&Math.floor(16368);class r{constructor(e,t,r,i){const o=e.exports;o.init(),this.exports=o,this.mem=Buffer.from(o.memory.buffer,0,65536),this.buffered=0,this.instancesPool=t,this.chunkSize=r,this.digestSize=i}reset(){this.buffered=0,this.exports.init()}update(e,r){if("string"==typeof e){for(;e.length>t;)this._updateWithShortString(e.slice(0,t),r),e=e.slice(t);return this._updateWithShortString(e,r),this}return this._updateWithBuffer(e),this}_updateWithShortString(e,t){const{exports:r,buffered:i,mem:o,chunkSize:s}=this;let a;if(e.length<70)if(t&&"utf-8"!==t&&"utf8"!==t)if("latin1"===t){a=i;for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);o[a++]=r}}else a=i+o.write(e,i,t);else{a=i;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(i<128)o[a++]=i;else{if(!(i<2048)){a+=o.write(e.slice(r),a,t);break}o[a]=i>>6|192,o[a+1]=63&i|128,a+=2}}}else a=i+o.write(e,i,t);if(a<s)this.buffered=a;else{const e=a&~(this.chunkSize-1);r.update(e);const t=a-e;this.buffered=t,t>0&&o.copyWithin(0,e,a)}}_updateWithBuffer(e){const{exports:t,buffered:r,mem:i}=this,o=e.length;if(r+o<this.chunkSize)e.copy(i,r,0,o),this.buffered+=o;else{const s=r+o&~(this.chunkSize-1);if(s>65536){let o=65536-r;e.copy(i,r,0,o),t.update(65536);const a=s-r-65536;for(;o<a;)e.copy(i,0,o,o+65536),t.update(65536),o+=65536;e.copy(i,0,o,s-r),t.update(s-r-o)}else e.copy(i,r,0,s-r),t.update(s);const a=o+r-s;this.buffered=a,a>0&&e.copy(i,0,o-a,o)}}digest(e){const{exports:t,buffered:r,mem:i,digestSize:o}=this;t.final(r),this.instancesPool.push(this);const s=i.toString("latin1",0,o);return"hex"===e?s:"binary"!==e&&e?Buffer.from(s,"hex").toString(e):Buffer.from(s,"hex")}}e.exports=(e,t,i,o)=>{if(t.length>0){const e=t.pop();return e.reset(),e}return new r(new WebAssembly.Instance(e),t,i,o)},e.exports.MAX_SHORT_STRING=t},64082:(e,t,r)=>{"use strict";const i=r(44605),o=r(97893),s=r(13308),a=r(69929),n=r(17262),u=r(59971),c=r(65516),h=r(33527),l=r(30886),f=r(41224);t.getOptions=i,t.parseQuery=o,t.stringifyRequest=s,t.getRemainingRequest=a,t.getCurrentRequest=n,t.isUrlRequest=u,t.urlToRequest=c,t.parseString=h,t.getHashDigest=l,t.interpolateName=f},41224:(e,t,r)=>{"use strict";const i=r(54502),o=r(19206),s=r(30886),a=/[\uD800-\uDFFF]./,n=o.filter((e=>a.test(e))),u={};e.exports=function(e,t,r){let o;const a=e.resourceQuery&&e.resourceQuery.length>1;o="function"==typeof t?t(e.resourcePath,a?e.resourceQuery:void 0):t||"[hash].[ext]";const c=r.context,h=r.content,l=r.regExp;let f="bin",d="file",p="",m="",g="";if(e.resourcePath){const t=i.parse(e.resourcePath);let r=e.resourcePath;t.ext&&(f=t.ext.substr(1)),t.dir&&(d=t.name,r=t.dir+i.sep),void 0!==c?(p=i.relative(c,r+"_").replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),p=p.substr(0,p.length-1)):p=r.replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),1===p.length?p="":p.length>1&&(m=i.basename(p))}if(e.resourceQuery&&e.resourceQuery.length>1){g=e.resourceQuery;const t=g.indexOf("#");t>=0&&(g=g.substr(0,t))}let v=o;if(h&&(v=v.replace(/\[(?:([^:\]]+):)?(?:hash|contenthash)(?::([a-z]+\d*))?(?::(\d+))?\]/gi,((e,t,r,i)=>s(h,t,r,parseInt(i,10)))).replace(/\[emoji(?::(\d+))?\]/gi,((e,t)=>function(e,t){if(u[e])return u[e];t=t||1;const r=[];do{if(!n.length)throw new Error("Ran out of emoji");const e=Math.floor(Math.random()*n.length);r.push(n[e]),n.splice(e,1)}while(--t>0);const i=r.join("");return u[e]=i,i}(h,parseInt(t,10))))),v=v.replace(/\[ext\]/gi,(()=>f)).replace(/\[name\]/gi,(()=>d)).replace(/\[path\]/gi,(()=>p)).replace(/\[folder\]/gi,(()=>m)).replace(/\[query\]/gi,(()=>g)),l&&e.resourcePath){const t=e.resourcePath.match(new RegExp(l));t&&t.forEach(((e,t)=>{v=v.replace(new RegExp("\\["+t+"\\]","ig"),e)}))}return"object"==typeof e.options&&"function"==typeof e.options.customInterpolateName&&(v=e.options.customInterpolateName.call(e,v,t,r)),v}},59971:(e,t,r)=>{"use strict";const i=r(54502);e.exports=function(e,t){return!(/^[a-z][a-z0-9+.-]*:/i.test(e)&&!i.win32.isAbsolute(e)||/^\/\//.test(e)||/^[{}[\]#*;,'$%&(=?`^<>]/.test(e)||(void 0===t||!1===t)&&/^\//.test(e))}},97893:(e,t,r)=>{"use strict";const i=r(11142),o={null:null,true:!0,false:!1};e.exports=function(e){if("?"!==e.substr(0,1))throw new Error("A valid query string passed to parseQuery should begin with '?'");if(!(e=e.substr(1)))return{};if("{"===e.substr(0,1)&&"}"===e.substr(-1))return i.parse(e);const t=e.split(/[,&]/g),r={};return t.forEach((e=>{const t=e.indexOf("=");if(t>=0){let i=e.substr(0,t),s=decodeURIComponent(e.substr(t+1));o.hasOwnProperty(s)&&(s=o[s]),"[]"===i.substr(-2)?(i=decodeURIComponent(i.substr(0,i.length-2)),Array.isArray(r[i])||(r[i]=[]),r[i].push(s)):(i=decodeURIComponent(i),r[i]=s)}else"-"===e.substr(0,1)?r[decodeURIComponent(e.substr(1))]=!1:"+"===e.substr(0,1)?r[decodeURIComponent(e.substr(1))]=!0:r[decodeURIComponent(e)]=!0})),r}},33527:e=>{"use strict";e.exports=function e(t){try{return'"'===t[0]?JSON.parse(t):"'"===t[0]&&"'"===t.substr(t.length-1)?e(t.replace(/\\.|"/g,(e=>'"'===e?'\\"':e)).replace(/^'|'$/g,'"')):JSON.parse('"'+t+'"')}catch(e){return t}}},13308:(e,t,r)=>{"use strict";const i=r(54502),o=/^\.\.?[/\\]/;function s(e){return i.posix.isAbsolute(e)||i.win32.isAbsolute(e)}e.exports=function(e,t){const r=t.split("!"),a=e.context||e.options&&e.options.context;return JSON.stringify(r.map((e=>{const t=e.match(/^(.*?)(\?.*)/),r=t?t[2]:"";let n=t?t[1]:e;if(s(n)&&a){if(n=i.relative(a,n),s(n))return n+r;!1===(u=n,o.test(u))&&(n="./"+n)}var u;return n.replace(/\\/g,"/")+r})).join("!"))}},65516:e=>{"use strict";const t=/^[A-Z]:[/\\]|^\\\\/i;e.exports=function(e,r){if(""===e)return"";const i=/^[^?]*~/;let o;if(t.test(e))o=e;else if(void 0!==r&&!1!==r&&/^\//.test(e))switch(typeof r){case"string":o=i.test(r)?r.replace(/([^~/])$/,"$1/")+e.slice(1):r+e;break;case"boolean":o=e;break;default:throw new Error("Unexpected parameters to loader-utils 'urlToRequest': url = "+e+", root = "+r+".")}else o=/^\.\.?\//.test(e)?e:"./"+e;return i.test(o)&&(o=o.replace(i,"")),o}},40537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const{stringHints:i,numberHints:o}=r(12377),s={type:1,not:1,oneOf:1,anyOf:1,if:1,enum:1,const:1,instanceof:1,required:2,pattern:2,patternRequired:2,format:2,formatMinimum:2,formatMaximum:2,minimum:2,exclusiveMinimum:2,maximum:2,exclusiveMaximum:2,multipleOf:2,uniqueItems:2,contains:2,minLength:2,maxLength:2,minItems:2,maxItems:2,minProperties:2,maxProperties:2,dependencies:2,propertyNames:2,additionalItems:2,additionalProperties:2,absolutePath:2};function a(e,t){const r=e.reduce(((e,r)=>Math.max(e,t(r))),0);return e.filter((e=>t(e)===r))}function n(e,t){let r=e.length-1;const i=t=>0!==e[r].schemaPath.indexOf(t);for(;r>-1&&!t.every(i);)if("anyOf"===e[r].keyword||"oneOf"===e[r].keyword){const t=u(e[r]),i=n(e.slice(0,r),t.concat(e[r].schemaPath));r=i-1}else r-=1;return r+1}function u(e){const{schema:t}=e;return Array.isArray(t)?t.map((({$ref:e})=>e)).filter((e=>e)):[]}function c(e,t){return e.replace(/\n(?!$)/g,`\n${t}`)}function h(e){return!!e.not}function l(e){return h(e)?l(e.not):e}function f(e){const t=l(e);return p(t)||m(t)||g(t)||w(t)||v(t)}function d(e){return"object"==typeof e&&null!==e}function p(e){return"number"===e.type||void 0!==e.minimum||void 0!==e.exclusiveMinimum||void 0!==e.maximum||void 0!==e.exclusiveMaximum||void 0!==e.multipleOf}function m(e){return"integer"===e.type||void 0!==e.minimum||void 0!==e.exclusiveMinimum||void 0!==e.maximum||void 0!==e.exclusiveMaximum||void 0!==e.multipleOf}function g(e){return"string"===e.type||void 0!==e.minLength||void 0!==e.maxLength||void 0!==e.pattern||void 0!==e.format||void 0!==e.formatMinimum||void 0!==e.formatMaximum}function v(e){return"boolean"===e.type}function y(e){return"array"===e.type||"number"==typeof e.minItems||"number"==typeof e.maxItems||void 0!==e.uniqueItems||void 0!==e.items||void 0!==e.additionalItems||void 0!==e.contains}function x(e){return"object"===e.type||void 0!==e.minProperties||void 0!==e.maxProperties||void 0!==e.required||void 0!==e.properties||void 0!==e.patternProperties||void 0!==e.additionalProperties||void 0!==e.dependencies||void 0!==e.propertyNames||void 0!==e.patternRequired}function w(e){return"null"===e.type}function D(e){if(!e)return"";if(!e.type){if(p(e)||m(e))return" | should be any non-number";if(g(e))return" | should be any non-string";if(y(e))return" | should be any non-array";if(x(e))return" | should be any non-object"}return""}function b(e){return e.length>0?`(${e.join(", ")})`:""}function A(e,t){return p(e)||m(e)?o(e,t):g(e)?i(e,t):[]}class E extends Error{constructor(e,t,r={}){let i,o;if(super(),this.name="ValidationError",this.errors=e,this.schema=t,t.title&&(!r.name||!r.baseDataPath)){const e=t.title.match(/^(.+) (.+)$/);e&&(r.name||([,i]=e),r.baseDataPath||([,,o]=e))}this.headerName=r.name||i||"Object",this.baseDataPath=r.baseDataPath||o||"configuration",this.postFormatter=r.postFormatter||null;const s=`Invalid ${this.baseDataPath} object. ${this.headerName} has been initialized using ${a=this.baseDataPath,/^[aeiou]/i.test(a)?"an":"a"} ${this.baseDataPath} object that does not match the API schema.\n`;var a;this.message=`${s}${this.formatValidationErrors(e)}`,Error.captureStackTrace(this,this.constructor)}getSchemaPart(e){const t=e.split("/");let r=this.schema;for(let e=1;e<t.length;e++){const i=r[t[e]];if(!i)break;r=i}return r}formatSchema(e,t=!0,r=[]){let i=t;const o=(t,o)=>o?r.includes(t)?"(recursive)":this.formatSchema(t,i,r.concat(e)):this.formatSchema(t,i,r);if(h(e)&&!x(e)){if(f(e.not))return i=!t,o(e.not);const r=!e.not.not,s=t?"":"non ";return i=!t,r?s+o(e.not):o(e.not)}if(e.instanceof){const{instanceof:t}=e;return(Array.isArray(t)?t:[t]).map((e=>"Function"===e?"function":e)).join(" | ")}if(e.enum)return e.enum.map((e=>JSON.stringify(e))).join(" | ");if(void 0!==e.const)return JSON.stringify(e.const);if(e.oneOf)return e.oneOf.map((e=>o(e,!0))).join(" | ");if(e.anyOf)return e.anyOf.map((e=>o(e,!0))).join(" | ");if(e.allOf)return e.allOf.map((e=>o(e,!0))).join(" & ");if(e.if){const{if:t,then:r,else:i}=e;return`${t?`if ${o(t)}`:""}${r?` then ${o(r)}`:""}${i?` else ${o(i)}`:""}`}if(e.$ref)return o(this.getSchemaPart(e.$ref),!0);if(p(e)||m(e)){const[r,...i]=A(e,t),o=`${r}${i.length>0?` ${b(i)}`:""}`;return t?o:i.length>0?`non-${r} | ${o}`:`non-${r}`}if(g(e)){const[r,...i]=A(e,t),o=`${r}${i.length>0?` ${b(i)}`:""}`;return t?o:"string"===o?"non-string":`non-string | ${o}`}if(v(e))return(t?"":"non-")+"boolean";if(y(e)){i=!0;const t=[];"number"==typeof e.minItems&&t.push(`should not have fewer than ${e.minItems} item${e.minItems>1?"s":""}`),"number"==typeof e.maxItems&&t.push(`should not have more than ${e.maxItems} item${e.maxItems>1?"s":""}`),e.uniqueItems&&t.push("should not have duplicate items");const r=void 0===e.additionalItems||Boolean(e.additionalItems);let s="";return e.items?Array.isArray(e.items)&&e.items.length>0?(s=`${e.items.map((e=>o(e))).join(", ")}`,r&&e.additionalItems&&d(e.additionalItems)&&Object.keys(e.additionalItems).length>0&&t.push(`additional items should be ${o(e.additionalItems)}`)):s=e.items&&Object.keys(e.items).length>0?`${o(e.items)}`:"any":s="any",e.contains&&Object.keys(e.contains).length>0&&t.push(`should contains at least one ${this.formatSchema(e.contains)} item`),`[${s}${r?", ...":""}]${t.length>0?` (${t.join(", ")})`:""}`}if(x(e)){i=!0;const t=[];if("number"==typeof e.minProperties&&t.push(`should not have fewer than ${e.minProperties} ${e.minProperties>1?"properties":"property"}`),"number"==typeof e.maxProperties&&t.push(`should not have more than ${e.maxProperties} ${e.minProperties&&e.minProperties>1?"properties":"property"}`),e.patternProperties&&Object.keys(e.patternProperties).length>0){const r=Object.keys(e.patternProperties);t.push(`additional property names should match pattern${r.length>1?"s":""} ${r.map((e=>JSON.stringify(e))).join(" | ")}`)}const r=e.properties?Object.keys(e.properties):[],s=e.required?e.required:[],a=[...new Set([].concat(s).concat(r))].map((e=>`${e}${s.includes(e)?"":"?"}`)).concat(void 0===e.additionalProperties||Boolean(e.additionalProperties)?e.additionalProperties&&d(e.additionalProperties)?[`<key>: ${o(e.additionalProperties)}`]:[""]:[]).join(", "),{dependencies:n,propertyNames:u,patternRequired:c}=e;return n&&Object.keys(n).forEach((e=>{const r=n[e];Array.isArray(r)?t.push(`should have ${r.length>1?"properties":"property"} ${r.map((e=>`'${e}'`)).join(", ")} when property '${e}' is present`):t.push(`should be valid according to the schema ${o(r)} when property '${e}' is present`)})),u&&Object.keys(u).length>0&&t.push(`each property name should match format ${JSON.stringify(e.propertyNames.format)}`),c&&c.length>0&&t.push(`should have property matching pattern ${c.map((e=>JSON.stringify(e)))}`),`object {${a?` ${a} `:""}}${t.length>0?` (${t.join(", ")})`:""}`}return w(e)?(t?"":"non-")+"null":Array.isArray(e.type)?`${e.type.join(" | ")}`:JSON.stringify(e,null,2)}getSchemaPartText(e,t,r=!1,i=!0){if(!e)return"";if(Array.isArray(t))for(let r=0;r<t.length;r++){const i=e[t[r]];if(!i)break;e=i}for(;e.$ref;)e=this.getSchemaPart(e.$ref);let o=`${this.formatSchema(e,i)}${r?".":""}`;return e.description&&(o+=`\n-> ${e.description}`),e.link&&(o+=`\n-> Read more at ${e.link}`),o}getSchemaPartDescription(e){if(!e)return"";for(;e.$ref;)e=this.getSchemaPart(e.$ref);let t="";return e.description&&(t+=`\n-> ${e.description}`),e.link&&(t+=`\n-> Read more at ${e.link}`),t}formatValidationError(e){const{keyword:t,dataPath:r}=e,i=`${this.baseDataPath}${r}`;switch(t){case"type":{const{parentSchema:t,params:r}=e;switch(r.type){case"number":case"string":case"boolean":case"null":return`${i} should be a ${this.getSchemaPartText(t,!1,!0)}`;case"integer":return`${i} should be an ${this.getSchemaPartText(t,!1,!0)}`;case"array":return`${i} should be an array:\n${this.getSchemaPartText(t)}`;case"object":return`${i} should be an object:\n${this.getSchemaPartText(t)}`;default:return`${i} should be:\n${this.getSchemaPartText(t)}`}}case"instanceof":{const{parentSchema:t}=e;return`${i} should be an instance of ${this.getSchemaPartText(t,!1,!0)}`}case"pattern":{const{params:t,parentSchema:r}=e,{pattern:o}=t;return`${i} should match pattern ${JSON.stringify(o)}${D(r)}.${this.getSchemaPartDescription(r)}`}case"format":{const{params:t,parentSchema:r}=e,{format:o}=t;return`${i} should match format ${JSON.stringify(o)}${D(r)}.${this.getSchemaPartDescription(r)}`}case"formatMinimum":case"formatMaximum":{const{params:t,parentSchema:r}=e,{comparison:o,limit:s}=t;return`${i} should be ${o} ${JSON.stringify(s)}${D(r)}.${this.getSchemaPartDescription(r)}`}case"minimum":case"maximum":case"exclusiveMinimum":case"exclusiveMaximum":{const{parentSchema:t,params:r}=e,{comparison:o,limit:s}=r,[,...a]=A(t,!0);return 0===a.length&&a.push(`should be ${o} ${s}`),`${i} ${a.join(" ")}${D(t)}.${this.getSchemaPartDescription(t)}`}case"multipleOf":{const{params:t,parentSchema:r}=e,{multipleOf:o}=t;return`${i} should be multiple of ${o}${D(r)}.${this.getSchemaPartDescription(r)}`}case"patternRequired":{const{params:t,parentSchema:r}=e,{missingPattern:o}=t;return`${i} should have property matching pattern ${JSON.stringify(o)}${D(r)}.${this.getSchemaPartDescription(r)}`}case"minLength":{const{params:t,parentSchema:r}=e,{limit:o}=t;if(1===o)return`${i} should be a non-empty string${D(r)}.${this.getSchemaPartDescription(r)}`;const s=o-1;return`${i} should be longer than ${s} character${s>1?"s":""}${D(r)}.${this.getSchemaPartDescription(r)}`}case"minItems":{const{params:t,parentSchema:r}=e,{limit:o}=t;return 1===o?`${i} should be a non-empty array${D(r)}.${this.getSchemaPartDescription(r)}`:`${i} should not have fewer than ${o} items${D(r)}.${this.getSchemaPartDescription(r)}`}case"minProperties":{const{params:t,parentSchema:r}=e,{limit:o}=t;return 1===o?`${i} should be a non-empty object${D(r)}.${this.getSchemaPartDescription(r)}`:`${i} should not have fewer than ${o} properties${D(r)}.${this.getSchemaPartDescription(r)}`}case"maxLength":{const{params:t,parentSchema:r}=e,{limit:o}=t,s=o+1;return`${i} should be shorter than ${s} character${s>1?"s":""}${D(r)}.${this.getSchemaPartDescription(r)}`}case"maxItems":{const{params:t,parentSchema:r}=e,{limit:o}=t;return`${i} should not have more than ${o} items${D(r)}.${this.getSchemaPartDescription(r)}`}case"maxProperties":{const{params:t,parentSchema:r}=e,{limit:o}=t;return`${i} should not have more than ${o} properties${D(r)}.${this.getSchemaPartDescription(r)}`}case"uniqueItems":{const{params:t,parentSchema:r}=e,{i:o}=t;return`${i} should not contain the item '${e.data[o]}' twice${D(r)}.${this.getSchemaPartDescription(r)}`}case"additionalItems":{const{params:t,parentSchema:r}=e,{limit:o}=t;return`${i} should not have more than ${o} items${D(r)}. These items are valid:\n${this.getSchemaPartText(r)}`}case"contains":{const{parentSchema:t}=e;return`${i} should contains at least one ${this.getSchemaPartText(t,["contains"])} item${D(t)}.`}case"required":{const{parentSchema:t,params:r}=e,o=r.missingProperty.replace(/^\./,""),s=t&&Boolean(t.properties&&t.properties[o]);return`${i} misses the property '${o}'${D(t)}.${s?` Should be:\n${this.getSchemaPartText(t,["properties",o])}`:this.getSchemaPartDescription(t)}`}case"additionalProperties":{const{params:t,parentSchema:r}=e,{additionalProperty:o}=t;return`${i} has an unknown property '${o}'${D(r)}. These properties are valid:\n${this.getSchemaPartText(r)}`}case"dependencies":{const{params:t,parentSchema:r}=e,{property:o,deps:s}=t;return`${i} should have properties ${s.split(",").map((e=>`'${e.trim()}'`)).join(", ")} when property '${o}' is present${D(r)}.${this.getSchemaPartDescription(r)}`}case"propertyNames":{const{params:t,parentSchema:r,schema:o}=e,{propertyName:s}=t;return`${i} property name '${s}' is invalid${D(r)}. Property names should be match format ${JSON.stringify(o.format)}.${this.getSchemaPartDescription(r)}`}case"enum":{const{parentSchema:t}=e;return t&&t.enum&&1===t.enum.length?`${i} should be ${this.getSchemaPartText(t,!1,!0)}`:`${i} should be one of these:\n${this.getSchemaPartText(t)}`}case"const":{const{parentSchema:t}=e;return`${i} should be equal to constant ${this.getSchemaPartText(t,!1,!0)}`}case"not":{const t=x(e.parentSchema)?`\n${this.getSchemaPartText(e.parentSchema)}`:"",r=this.getSchemaPartText(e.schema,!1,!1,!1);if(f(e.schema))return`${i} should be any ${r}${t}.`;const{schema:o,parentSchema:s}=e;return`${i} should not be ${this.getSchemaPartText(o,!1,!0)}${s&&x(s)?`\n${this.getSchemaPartText(s)}`:""}`}case"oneOf":case"anyOf":{const{parentSchema:t,children:r}=e;if(r&&r.length>0){if(1===e.schema.length){const e=r[r.length-1],i=r.slice(0,r.length-1);return this.formatValidationError(Object.assign({},e,{children:i,parentSchema:Object.assign({},t,e.parentSchema)}))}let o=function(e){let t=e;return t=a(t,(e=>e.dataPath?e.dataPath.length:0)),t=a(t,(e=>s[e.keyword]||2)),t}(r);return 1===o.length?this.formatValidationError(o[0]):(o=function(e){const t=[];let r=e.length-1;for(;r>0;){const i=e[r];if("anyOf"===i.keyword||"oneOf"===i.keyword){const o=u(i),s=n(e.slice(0,r),o.concat(i.schemaPath));s!==r?(t.push(Object.assign({},i,{children:e.slice(s,r)})),r=s):t.push(i)}else t.push(i);r-=1}return 0===r&&t.push(e[r]),t.reverse()}(o),`${i} should be one of these:\n${this.getSchemaPartText(t)}\nDetails:\n${o.map((e=>` * ${c(this.formatValidationError(e),"   ")}`)).join("\n")}`)}return`${i} should be one of these:\n${this.getSchemaPartText(t)}`}case"if":{const{params:t,parentSchema:r}=e,{failingKeyword:o}=t;return`${i} should match "${o}" schema:\n${this.getSchemaPartText(r,[o])}`}case"absolutePath":{const{message:t,parentSchema:r}=e;return`${i}: ${t}${this.getSchemaPartDescription(r)}`}default:{const{message:t,parentSchema:r}=e;return`${i} ${t} (${JSON.stringify(e,null,2)}).\n${this.getSchemaPartText(r,!1)}`}}}formatValidationErrors(e){return e.map((e=>{let t=this.formatValidationError(e);return this.postFormatter&&(t=this.postFormatter(t,e)),` - ${c(t,"   ")}`})).join("\n")}}var P=E;t.default=P},72091:(e,t,r)=>{"use strict";const{validate:i,ValidationError:o}=r(60027);e.exports={validate:i,ValidationError:o}},18281:(e,t)=>{"use strict";function r(e,t,r){return{dataPath:void 0,schemaPath:void 0,keyword:"absolutePath",params:{absolutePath:r},message:e,parentSchema:t}}function i(e,t,i){return r(e?`The provided value ${JSON.stringify(i)} is not an absolute path!`:`A relative path is expected. However, the provided value ${JSON.stringify(i)} is an absolute path!`,t,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return e.addKeyword("absolutePath",{errors:!0,type:"string",compile(e,t){const o=s=>{let a=!0;return s.includes("!")&&(o.errors=[r(`The provided value ${JSON.stringify(s)} contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.`,t,s)],a=!1),e===/^(?:[A-Za-z]:(\\|\/)|\\\\|\/)/.test(s)||(o.errors=[i(e,t,s)],a=!1),a};return o.errors=[],o}}),e}},97496:e=>{"use strict";class t{static getOperator(e,t){return"left"===e?t?">":">=":t?"<":"<="}static formatRight(e,r,i){return!1===r?t.formatLeft(e,!r,!i):`should be ${t.getOperator("right",i)} ${e}`}static formatLeft(e,r,i){return!1===r?t.formatRight(e,!r,!i):`should be ${t.getOperator("left",i)} ${e}`}static formatRange(e,r,i,o,s){let a="should be";return a+=` ${t.getOperator(s?"left":"right",s?i:!i)} ${e} `,a+=s?"and":"or",a+=` ${t.getOperator(s?"right":"left",s?o:!o)} ${r}`,a}static getRangeValue(e,t){let r=t?1/0:-1/0,i=-1;const o=t?([e])=>e<=r:([e])=>e>=r;for(let t=0;t<e.length;t++)o(e[t])&&([r]=e[t],i=t);return i>-1?e[i]:[1/0,!0]}constructor(){this._left=[],this._right=[]}left(e,t=!1){this._left.push([e,t])}right(e,t=!1){this._right.push([e,t])}format(e=!0){const[r,i]=t.getRangeValue(this._left,e),[o,s]=t.getRangeValue(this._right,!e);if(!Number.isFinite(r)&&!Number.isFinite(o))return"";const a=i?r+1:r;return a===(s?o-1:o)?`should be ${e?"":"!"}= ${a}`:Number.isFinite(r)&&!Number.isFinite(o)?t.formatLeft(r,e,i):!Number.isFinite(r)&&Number.isFinite(o)?t.formatRight(o,e,s):t.formatRange(r,o,i,s,e)}}e.exports=t},12377:(e,t,r)=>{"use strict";const i=r(97496);e.exports.stringHints=function(e,t){const r=[];let i="string";const o={...e};if(!t){const e=o.minLength,t=o.formatMinimum,r=o.formatExclusiveMaximum;o.minLength=o.maxLength,o.maxLength=e,o.formatMinimum=o.formatMaximum,o.formatMaximum=t,o.formatExclusiveMaximum=!o.formatExclusiveMinimum,o.formatExclusiveMinimum=!r}if("number"==typeof o.minLength)if(1===o.minLength)i="non-empty string";else{const e=Math.max(o.minLength-1,0);r.push(`should be longer than ${e} character${e>1?"s":""}`)}if("number"==typeof o.maxLength)if(0===o.maxLength)i="empty string";else{const e=o.maxLength+1;r.push(`should be shorter than ${e} character${e>1?"s":""}`)}return o.pattern&&r.push(`should${t?"":" not"} match pattern ${JSON.stringify(o.pattern)}`),o.format&&r.push(`should${t?"":" not"} match format ${JSON.stringify(o.format)}`),o.formatMinimum&&r.push(`should be ${o.formatExclusiveMinimum?">":">="} ${JSON.stringify(o.formatMinimum)}`),o.formatMaximum&&r.push(`should be ${o.formatExclusiveMaximum?"<":"<="} ${JSON.stringify(o.formatMaximum)}`),[i].concat(r)},e.exports.numberHints=function(e,t){const r=["integer"===e.type?"integer":"number"],o=new i;"number"==typeof e.minimum&&o.left(e.minimum),"number"==typeof e.exclusiveMinimum&&o.left(e.exclusiveMinimum,!0),"number"==typeof e.maximum&&o.right(e.maximum),"number"==typeof e.exclusiveMaximum&&o.right(e.exclusiveMaximum,!0);const s=o.format(t);return s&&r.push(s),"number"==typeof e.multipleOf&&r.push(`should${t?"":" not"} be multiple of ${e.multipleOf}`),r}},60027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e,t,r){let i=[];if(Array.isArray(t)?(i=Array.from(t,(t=>c(e,t))),i.forEach(((e,t)=>{const r=e=>{e.dataPath=`[${t}]${e.dataPath}`,e.children&&e.children.forEach(r)};e.forEach(r)})),i=i.reduce(((e,t)=>(e.push(...t),e)),[])):i=c(e,t),i.length>0)throw new o.default(i,e,r)},Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return o.default}});var i=s(r(18281)),o=s(r(40537));function s(e){return e&&e.__esModule?e:{default:e}}const a=r(65096),n=r(97402),u=new a({allErrors:!0,verbose:!0,$data:!0});function c(e,t){const r=u.compile(e);return r(t)?[]:r.errors?function(e){let t=[];for(const r of e){const{dataPath:e}=r;let i=[];t=t.filter((t=>!t.dataPath.includes(e)||(t.children&&(i=i.concat(t.children.slice(0))),t.children=void 0,i.push(t),!1))),i.length&&(r.children=i),t.push(r)}return t}(r.errors):[]}n(u,["instanceof","formatMinimum","formatMaximum","patternRequired"]),(0,i.default)(u)},73466:function(e){var t;e.exports=((t=function(){function e(e){return o.appendChild(e.dom),e}function r(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";i=e}var i=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),r(++i%o.children.length)}),!1);var s=(performance||Date).now(),a=s,n=0,u=e(new t.Panel("FPS","#0ff","#002")),c=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=e(new t.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:o,addPanel:e,showPanel:r,begin:function(){s=(performance||Date).now()},end:function(){n++;var e=(performance||Date).now();if(c.update(e-s,200),e>a+1e3&&(u.update(1e3*n/(e-a),100),a=e,n=0,h)){var t=performance.memory;h.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:o,setMode:r}}).Panel=function(e,t,r){var i=1/0,o=0,s=Math.round,a=s(window.devicePixelRatio||1),n=80*a,u=48*a,c=3*a,h=2*a,l=3*a,f=15*a,d=74*a,p=30*a,m=document.createElement("canvas");m.width=n,m.height=u,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=r,g.fillRect(0,0,n,u),g.fillStyle=t,g.fillText(e,c,h),g.fillRect(l,f,d,p),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(l,f,d,p),{dom:m,update:function(u,v){i=Math.min(i,u),o=Math.max(o,u),g.fillStyle=r,g.globalAlpha=1,g.fillRect(0,0,n,f),g.fillStyle=t,g.fillText(s(u)+" "+e+" ("+s(i)+"-"+s(o)+")",c,h),g.drawImage(m,l+a,f,d-a,p,l,f,d-a,p),g.fillRect(l+d-a,f,a,p),g.fillStyle=r,g.globalAlpha=.9,g.fillRect(l+d-a,f,a,s((1-u/v)*p))}}},t)},68629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas=void 0;const i=r(20540),o=r(72646);t.Canvas=class{scene;framebuffer;canvas;context;startTime;boundRenderLoop;constructor(e,t,r){this.scene=r,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.canvas.id="aisa-canvas",this.canvas.style.cssText="image-rendering: optimizeSpeed;image-rendering: -moz-crisp-edges;image-rendering: -o-crisp-edges;image-rendering: -webkit-crisp-edges;image-rendering: crisp-edges;image-rendering: -webkit-optimize-contrast;image-rendering: pixelated; -ms-interpolation-mode: nearest-neighbor;",this.canvas.style.width=2*e+"px",this.canvas.style.height=2*t+"px",this.context=this.canvas.getContext("2d"),this.context.oImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1,this.context.webkitImageSmoothingEnabled=!1,this.framebuffer=new i.Framebuffer(e,t),this.boundRenderLoop=this.renderLoop.bind(this)}init(){this.appendTo(document.getElementById("aisa")),this.canvas.addEventListener("click",(e=>{e.preventDefault(),o.FullscreenUtils.toggleFullscreen(this.canvas)})),this.scene.init(this.framebuffer).then((()=>{this.scene.onInit(),this.startTime=Date.now(),this.renderLoop(0)}))}renderLoop(e){this.scene.render(this.framebuffer,Date.now()-this.startTime),this.flipBackbuffer(),requestAnimationFrame(this.boundRenderLoop)}flipBackbuffer(){this.context.putImageData(this.framebuffer.getImageData(),0,0)}appendTo(e){e.appendChild(this.canvas)}}},27574:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CullFace=void 0,(r=t.CullFace||(t.CullFace={}))[r.FRONT=0]="FRONT",r[r.BACK=1]="BACK"},20540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Framebuffer=void 0;const i=r(65514),o=r(31829),s=r(27574),a=r(96107),n=r(93081),u=r(69293),c=r(82406),h=r(66336),l=r(23605),f=r(68084),d=r(56076),p=r(33975),m=r(50477),g=r(39137),v=r(19936),y=r(18931),x=r(96075);class w{static PIXEL_SIZE_IN_BYTES=4;minWindow;maxWindow;framebuffer;wBuffer;cullMode=s.CullFace.BACK;camera;bob;triangleRasterizer=new c.FlatShadingTriangleRasterizer(this);texturedTriangleRasterizer=new f.TexturedTriangleRasterizer(this);scaleClipBlitter=new i.ScaleClipBlitter(this);lineRasterizer=new h.LineRasterizerDda(this);lineRasterizerNo=new l.LineRasterizerNoZ(this);tmpGlitch;lensFlareVisible=!1;lensFlareStart=0;lensFlareEnd=0;width;height;imageData;unsignedIntArray;torus=new a.Torus;linerClipper=new p.CohenSutherlandLineClipper(this);clipRegion=Array();texture=new y.Texture;constructor(e,t){this.width=e,this.height=t,this.imageData=new ImageData(e,t),this.wBuffer=new Float32Array(e*t);const r=new ArrayBuffer(this.width*this.height*w.PIXEL_SIZE_IN_BYTES);this.unsignedIntArray=new Uint8ClampedArray(r),this.framebuffer=new Uint32Array(r),this.tmpGlitch=new Uint32Array(e*t),this.minWindow=new n.Vector2f(0,0),this.maxWindow=new n.Vector2f(e-1,t-1),this.clipRegion=new Array(new g.RightClipEdge(this),new m.LeftClipEdge(this),new d.BottomClipEdge(this),new v.TopClipEdge(this))}setCullFace(e){this.cullMode=e}setTexture(e){this.bob=e}precompute(){}getImageData(){return this.imageData.data.set(this.unsignedIntArray),this.imageData}clear(){const e=o.Color.BLACK.toPackedFormat(),t=this.width*this.height;for(let r=0;r<t;r++)this.framebuffer[r]=e}clearColorBuffer(e){this.framebuffer.fill(e)}drawPixel(e,t,r){this.framebuffer[e+t*this.width]=r}drawPixel4(e,t,r,i){const o=e+t*this.width,s=1-i,a=(this.framebuffer[o]>>0&255)*s+(r>>0&255)*i|0,n=(this.framebuffer[o]>>8&255)*s+(r>>8&255)*i|0,u=(this.framebuffer[o]>>16&255)*s+(r>>16&255)*i|0;this.framebuffer[e+t*this.width]=a|n<<8|u<<16|255<<24}drawPixel3(e,t,r,i){const o=e+t*this.width,s=(r>>24&255)/255*i,a=1-s,n=(this.framebuffer[o]>>0&255)*a+(r>>0&255)*s|0,u=(this.framebuffer[o]>>8&255)*a+(r>>8&255)*s|0,c=(this.framebuffer[o]>>16&255)*a+(r>>16&255)*s|0;this.framebuffer[o]=n|u<<8|c<<16|255<<24}drawPixelAntiAliased(e,t,r){if(e<0||e>=this.width||t<0||t>=this.height)return;const i=Math.floor(e),o=Math.floor(t),s=(1-Math.abs(e-i))*(1-Math.abs(t-o));this.drawPixel3(i,o,r,s)}drawPixelAliased(e,t,r){if(e<0||e>=this.width||t<0||t>=this.height)return;const i=Math.round(e),o=Math.round(t);this.drawPixel(i,o,r)}drawPixelAntiAliasedSpacial(e,t,r){if(!(e<0||e>=this.width||t<0||t>=this.height))for(let i=Math.floor(e);i<=Math.ceil(e);i++)for(let o=Math.floor(t);o<=Math.ceil(t);o++){const s=(1-Math.abs(e-i))*(1-Math.abs(t-o));this.drawPixel4(i,o,r,s)}}readPixel(e,t){return this.framebuffer[e+t*this.width]}drawRect(e,t,r,i){let o=e+t*this.width;for(let e=0;e<r;e++)this.framebuffer[o++]=i}drawRect2(e,t,r,i,o){let s=e+t*this.width;for(let e=0;e<i;e++){for(let e=0;e<r;e++)this.framebuffer[s++]=o;s+=this.width-r}}drawText(e,t,r,i){let o=e;const s=" ".charCodeAt(0);for(let e=0;e<r.length;e++){const a=r.charCodeAt(e)-s,n=8*Math.floor(a%32),u=8*Math.floor(a/32);this.drawTextureRectFastAlpha(o,t,n,u,8,8,i),o+=8}}addReflections(){for(let e=0;e<50;e++)for(let t=0;t<this.width;t++)this.framebuffer[(150+e)*this.width+t]=this.framebuffer[(150-3*e-1)*this.width+t+this.interpolate(0,50,e)*(14*Math.sin(.002*Date.now()+.2*e))|0]}drawTextureRect2(e,t,r,i,o,s,a,n){for(let u=0;u<o;u++)for(let o=0;o<s;o++){const s=r+u+(i+o)*a.width,c=e+u+(t+o)*this.width,h=(a.texture[s]>>24&255)/255*n,l=1-h,f=(this.framebuffer[c]>>0&255)*l+(a.texture[s]>>0&255)*h|0,d=(this.framebuffer[c]>>8&255)*l+(a.texture[s]>>8&255)*h|0,p=(this.framebuffer[c]>>16&255)*l+(a.texture[s]>>16&255)*h|0;this.framebuffer[c]=f|d<<8|p<<16|255<<24}}drawTextureRectFastAlpha(e,t,r,i,o,s,a){let n=r+i*a.width,u=e+t*this.width;for(let e=0;e<s;e++){for(let e=0;e<o;e++){const e=a.texture[n];4278190080&e&&(this.framebuffer[u]=e),n++,u++}n+=a.width-o,u+=this.width-o}}drawTextureColorized(e,t,r,i){let o=e+t*this.width,s=0;for(let e=0;e<r.height;e++){for(let e=0;e<r.width;e++){const e=r.texture[s],t=(e>>0&255)*i.r/255,a=(e>>8&255)*i.g/255,n=(e>>16&255)*i.b/255;this.framebuffer[o]=t|a<<8|n<<16|255<<24,s++,o++}o+=this.width-r.width}}drawTextureRectNoAlpha(e,t,r,i,o,s,a){let n=r+i*a.width,u=e+t*this.width;for(let e=0;e<s;e++){for(let e=0;e<o;e++)this.framebuffer[u]=a.texture[n],n++,u++;n+=a.width-o,u+=this.width-o}}static blend(e,t,r){if(0===r)return e;if(255===r)return t;const i=255-r;return 4278190080|((16711680&t)>>16)*r+((16711680&e)>>16)*i>>8<<16|((65280&t)>>8)*r+((65280&e)>>8)*i>>8<<8|(255&t)*r+(255&e)*i>>8}drawTextureRect(e,t,r,i,o,s,a,n,u){let c=r+i*n,h=e+t*this.width;for(let e=0;e<s;e++){for(let e=0;e<o;e++){const e=(a[c]>>24&255)/255*u,t=1-e,r=this.framebuffer[h],i=a[c],o=(r>>0&255)*t+(i>>0&255)*e,s=(r>>8&255)*t+(i>>8&255)*e,n=(r>>16&255)*t+(i>>16&255)*e;this.framebuffer[h]=o|s<<8|n<<16|255<<24,c++,h++}c+=n-o,h+=this.width-o}}drawTextureRectAdd(e,t,r,i,o,s,a,n){let u=r+i*a.width,c=e+t*this.width;for(let e=0;e<s;e++){for(let e=0;e<o;e++){const e=(a.texture[u]>>24&255)/255*n,t=this.framebuffer[c],r=a.texture[u],i=Math.min(255,(t>>0&255)+(r>>0&255)*e),o=Math.min(255,(t>>8&255)+(r>>8&255)*e),s=Math.min(255,(t>>16&255)+(r>>16&255)*e);this.framebuffer[c]=i|o<<8|s<<16|255<<24,u++,c++}u+=a.width-o,c+=this.width-o}}pixelate(){const e=200,t=50;for(let r=0;r<10;r++)for(let i=0;i<10;i++)this.drawBox2(10*r+e,10*i+t,10,10,this.readPixel(10*r+e,10*i+t));this.drawLineDDA(new n.Vector3f(e,t,-.3),new n.Vector3f(300,t,-.3),4294967295),this.drawLineDDA(new n.Vector3f(e,150,-.3),new n.Vector3f(300,150,-.3),4294967295),this.drawLineDDA(new n.Vector3f(e,t,-.3),new n.Vector3f(e,150,-.3),4294967295),this.drawLineDDA(new n.Vector3f(300,t,-.3),new n.Vector3f(300,150,-.3),4294967295)}interpolate(e,t,r){return r<=e?0:r>=t?1:(r-e)/(t-e)}fastFramebufferCopyOffset(e,t,r=0){let i=this.width*this.height/32+1,o=this.width*this.height,s=this.width*(this.height-r);for(;--i;)e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s],e[--o]=t[--s]}fastFramebufferCopy(e,t){e.set(t)}drawPolarDistotion2(e,t){let r=0;const i=1.355*(.4+.3*(1+Math.sin(17e-5*e)));for(let e=0;e<this.height;e++)for(let o=0;o<this.width;o++){const s=o-this.width/2,a=e-this.height/2,n=Math.sqrt(s*s+a*a)*i,u=Math.atan2(s,a)/(2*Math.PI)*256,c=t.texture[(255&n)+256*(255&u)];this.framebuffer[r++]=c}}drawPolarDistotion3(e,t){let r=0;for(let i=0;i<this.height;i++)for(let o=0;o<this.width;o++){const s=o-this.width/2,a=i-this.height/2,n=.8*Math.sqrt(s*s+a*a)-.017*e,u=Math.atan2(s,a)/(2*Math.PI)*256+.017*e,c=t.texture[(255&n)+256*(255&u)];this.framebuffer[r++]=c}}noise(e,t,r=.07){const i=new u.default;i.setSeed(e);for(let e=0;e<this.height;e++)this.drawTextureRect(0,e,Math.floor(i.getFloat()*(t.texture.length-this.width)),0,this.width,1,t.texture,t.width,r)}drawTexturedBillboard(e,t,r,i,o,s){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.height,0),h=0):(h=t,u=i-Math.max(t+i-this.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.width,0));let m=l+h*this.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){if(this.wBuffer[m]>s){this.wBuffer[m]=s;const e=Math.min(0|d,o.width-1)+Math.min(0|p,o.height-1)*o.width,t=(this.framebuffer[m]>>0&255)+(o.texture[e]>>0&255),r=(this.framebuffer[m]>>8&255)+(o.texture[e]>>8&255),i=(this.framebuffer[m]>>16&255)+(o.texture[e]>>16&255);this.framebuffer[m]=t|r<<8|i<<16|255<<24}d+=n,m++}p+=n,d=f,m+=-c+this.width}}drawParticle(e,t,r,i,o,s,a){const n=o.width/r,u=o.height/i;let c,h,l,f,d,p=0,m=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(m=u*-t,c=i+t-Math.max(t+i-this.height,0),l=0):(l=t,c=i-Math.max(t+i-this.height,0)),e<0?(d=p=n*-e,h=r+e-Math.max(e+r-this.width,0),f=0):(d=0,f=e,h=r-Math.max(e+r-this.width,0));const g=1/255*a;let v=f+l*this.width;for(let e=0;e<c;e++){for(let e=0;e<h;e++){if(this.wBuffer[v]>s){const e=Math.min(0|p,o.width-1)+Math.min(0|m,o.height-1)*o.width,t=(o.texture[e]>>24&255)*g,r=1-t,i=this.framebuffer[v],s=o.texture[e],a=(i>>0&255)*r+(s>>0&255)*t,n=(i>>8&255)*r+(s>>8&255)*t,u=(i>>16&255)*r+(s>>16&255)*t;this.framebuffer[v]=a|n<<8|u<<16|255<<24}p+=n,v++}m+=u,p=d,v+=-h+this.width}}drawParticle2(e,t,r,i,o,s,a,n=0,u){const c=o.width/r,h=u/i;let l,f,d,p,m,g=0,v=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(v=h*-t,l=i+t-Math.max(t+i-this.height,0),d=0):(d=t,l=i-Math.max(t+i-this.height,0)),e<0?(m=g=c*-e,f=r+e-Math.max(e+r-this.width,0),p=0):(m=0,p=e,f=r-Math.max(e+r-this.width,0));const y=1/255*a;let x=p+d*this.width;for(let e=0;e<l;e++){for(let e=0;e<f;e++){if(this.wBuffer[x]>s){const e=Math.min(0|g,o.width-1)+Math.min(0|v,u-1)*o.width+u*o.width*n,t=(o.texture[e]>>24&255)*y,r=1-t,i=this.framebuffer[x],s=o.texture[e],a=(i>>0&255)*r+(s>>0&255)*t,c=(i>>8&255)*r+(s>>8&255)*t,h=(i>>16&255)*r+(s>>16&255)*t;this.framebuffer[x]=a|c<<8|h<<16|255<<24}g+=c,x++}v+=h,g=m,x+=-f+this.width}}drawParticle2Sub(e,t,r,i,o,s,a,n=0,u){const c=o.width/r,h=u/i;let l,f,d,p,m,g=0,v=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(v=h*-t,l=i+t-Math.max(t+i-(this.height-1),0),d=0):(d=t,l=i-Math.max(t+i-(this.height-1),0)),e<0?(m=g=c*-e,f=Math.ceil(r+e-Math.max(e+r-(this.width-1),0)),p=0):(m=0,p=e,f=Math.ceil(r-Math.max(e+r-(this.width-1),0))),m+=(Math.ceil(e)-e)*c,v+=(Math.ceil(t)-t)*h;const y=1/255*a;let x=Math.ceil(p)+Math.ceil(d)*this.width;for(let e=0;e<l;e++){for(let e=0;e<f;e++){if(this.wBuffer[x]>s){const e=Math.min(0|Math.round(g),o.width-1)+Math.min(0|Math.round(v),u-1)*o.width+u*o.width*n,t=(o.texture[e]>>24&255)*y,r=1-t,i=this.framebuffer[x],s=o.texture[e],a=(i>>0&255)*r+(s>>0&255)*t,c=(i>>8&255)*r+(s>>8&255)*t,h=(i>>16&255)*r+(s>>16&255)*t;this.framebuffer[x]=a|c<<8|h<<16|255<<24}g+=c,x++}v+=h,g=m,x+=-f+this.width}}drawParticleNoDepth(e,t,r,i,o,s){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.height,0),h=0):(h=t,u=i-Math.max(t+i-this.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.width,0));const m=1/255*s;let g=l+h*this.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){const e=Math.min(0|d,o.width-1)+Math.min(0|p,o.height-1)*o.width,t=(o.texture[e]>>24&255)*m,r=1-t,i=this.framebuffer[g],s=o.texture[e],n=(i>>0&255)*r+(s>>0&255)*t,u=(i>>8&255)*r+(s>>8&255)*t,c=(i>>16&255)*r+(s>>16&255)*t;this.framebuffer[g]=n|u<<8|c<<16|255<<24,d+=a,g++}p+=n,d=f,g+=-c+this.width}}drawSoftParticle(e,t,r,i,o,s,a){const n=o.width/r,u=o.height/i;let c,h,l,f,d,p=0,m=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(m=u*-t,c=i+t-Math.max(t+i-this.height,0),l=0):(l=t,c=i-Math.max(t+i-this.height,0)),e<0?(d=p=n*-e,h=r+e-Math.max(e+r-this.width,0),f=0):(d=0,f=e,h=r-Math.max(e+r-this.width,0));const g=1/255*a;let v=f+l*this.width;for(let e=0;e<c;e++){for(let e=0;e<h;e++){if(this.wBuffer[v]>s){const e=Math.min(Math.max(1/s-1/this.wBuffer[v],0),1),t=Math.min(0|p,o.width-1)+Math.min(0|m,o.height-1)*o.width,r=(o.texture[t]>>24&255)*g*e,i=1-r,a=(this.framebuffer[v]>>0&255)*i+(o.texture[t]>>0&255)*r,n=(this.framebuffer[v]>>8&255)*i+(o.texture[t]>>8&255)*r,u=(this.framebuffer[v]>>16&255)*i+(o.texture[t]>>16&255)*r;this.framebuffer[v]=a|n<<8|u<<16|255<<24}p+=n,v++}m+=u,p=d,v+=-h+this.width}}drawFog(e,t,r){const i=this.width*this.height,o=-t;for(let t=0;t<i;t++){const i=Math.max(Math.min(o*(1/this.wBuffer[t]+r),1),0),s=1-i,a=(this.framebuffer[t]>>0&255)*s+e.r*i,n=(this.framebuffer[t]>>8&255)*s+e.g*i,u=(this.framebuffer[t]>>16&255)*s+e.b*i;this.framebuffer[t]=a|n<<8|u<<16|255<<24}}drawScaledTextureClipBi(e,t,r,i,o,s){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.height,0),h=0):(h=t,u=i-Math.max(t+i-this.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.width,0));const m=1/255*s;let g=l+h*this.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){const e=o.getBilinearFilteredPixel2(d,p),t=255*m,r=1-t,i=this.framebuffer[g],s=(i>>0&255)*r+(e>>0&255)*t,n=(i>>8&255)*r+(e>>8&255)*t,u=(i>>16&255)*r+(e>>16&255)*t;this.framebuffer[g]=s|n<<8|u<<16|255<<24,d+=a,g++}p+=n,d=f,g+=-c+this.width}}drawScaledTextureClipBiAdd(e,t,r,i,o,s){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.height,0),h=0):(h=t,u=i-Math.max(t+i-this.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.width,0));let m=l+h*this.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){const e=o.getBilinearFilteredPixel2(d,p),t=this.framebuffer[m],r=e,i=Math.min((t>>0&255)+(r>>0&255)*s,255),n=Math.min((t>>8&255)+(r>>8&255)*s,255),u=Math.min((t>>16&255)+(r>>16&255)*s,255);this.framebuffer[m]=i|n<<8|u<<16|255<<24,d+=a,m++}p+=n,d=f,m+=-c+this.width}}drawScaledTextureClipAdd(e,t,r,i,o,s=1){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.height-1||e+r<0||e>this.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.height,0),h=0):(h=t,u=i-Math.max(t+i-this.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.width,0));let m=l+h*this.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){const e=Math.min(0|d,o.width-1)+Math.min(0|p,o.height-1)*o.width,t=this.framebuffer[m],r=o.texture[e],i=Math.min((t>>0&255)+(r>>0&255)*s,255),n=Math.min((t>>8&255)+(r>>8&255)*s,255),u=Math.min((t>>16&255)+(r>>16&255)*s,255);this.framebuffer[m]=i|n<<8|u<<16|255<<24,d+=a,m++}p+=n,d=f,m+=-c+this.width}}drawTexture(e,t,r,i){const o=this.width,s=this.height;let a=Math.max(e,0)+Math.max(t,0)*this.width,n=Math.max(0,0-e)+Math.max(0,0-t)*r.width;const u=Math.min(r.width,o-e)-Math.max(0,0-e),c=Math.min(r.height,s-t)-Math.max(0,0-t),h=r.width-u,l=this.width-u,f=1/255*i;for(let e=0;e<c;e++){for(let e=0;e<u;e++){const e=(r.texture[n]>>24&255)*f,t=1-e,i=(this.framebuffer[a]>>0&255)*t+(r.texture[n]>>0&255)*e,o=(this.framebuffer[a]>>8&255)*t+(r.texture[n]>>8&255)*e,s=(this.framebuffer[a]>>16&255)*t+(r.texture[n]>>16&255)*e;this.framebuffer[a]=i|o<<8|s<<16|255<<24,a++,n++}n+=h,a+=l}}drawTextureFullscreen(e,t){let r=0;const i=1-t;for(let o=0;o<this.width*this.height;o++){const o=(this.framebuffer[r]>>0&255)*i+(e.texture[r]>>0&255)*t,s=(this.framebuffer[r]>>8&255)*i+(e.texture[r]>>8&255)*t,a=(this.framebuffer[r]>>16&255)*i+(e.texture[r]>>16&255)*t;this.framebuffer[r]=o|s<<8|a<<16|255<<24,r++}}drawTexture3(e,t,r,i,o){const s=this.width,a=this.height;let n=Math.max(e,0)+Math.max(t,0)*this.width,u=Math.max(0,0-e)+Math.max(0,0-t)*r.width;const c=Math.min(r.width,s-e)-Math.max(0,0-e),h=Math.min(r.height,a-t)-Math.max(0,0-t),l=r.width-c,f=this.width-c,d=1/255*i,p=Math.floor(h*Math.max(Math.min(1,o),0));for(let e=0;e<p;e++){for(let e=0;e<c;e++){const e=(r.texture[u]>>24&255)*d,t=1-e,i=(this.framebuffer[n]>>0&255)*t+(r.texture[u]>>0&255)*e,o=(this.framebuffer[n]>>8&255)*t+(r.texture[u]>>8&255)*e,s=(this.framebuffer[n]>>16&255)*t+(r.texture[u]>>16&255)*e;this.framebuffer[n]=i|o<<8|s<<16|255<<24,n++,u++}u+=l,n+=f}}drawTextureNoClipAlpha(e,t,r){let i=e+t*this.width,o=0;const s=this.width-r.width;for(let e=0;e<r.height;e++){for(let e=0;e<r.width;e++){const e=r.texture[o];4278190080&e&&(this.framebuffer[i]=e),i++,o++}i+=s}}scene8(e){const t=[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,7,1,6,2,5,3,4],r=[new n.Vector3f(1,1,-1),new n.Vector3f(-1,1,-1),new n.Vector3f(-1,1,1),new n.Vector3f(1,1,1),new n.Vector3f(1,-1,1),new n.Vector3f(-1,-1,1),new n.Vector3f(-1,-1,-1),new n.Vector3f(1,-1,-1)];let i=n.Matrix3f.constructScaleMatrix(.8,.8,.8).multiplyMatrix(n.Matrix3f.constructYRotationMatrix(.05*e));i=i.multiplyMatrix(n.Matrix3f.constructXRotationMatrix(.05*e));const o=new Array;r.forEach((t=>{const r=i.multiply(t),s=r.x,a=r.y,u=r.z-4+2*Math.sin(.09*e);o.push(new n.Vector3f(s,a,u))}));for(let e=0;e<t.length;e+=2){const r=-16776961;this.nearPlaneClipping(o[t[e]],o[t[e+1]],r)}}project(e){return new n.Vector3f(Math.round(this.width/2+292*e.x/-e.z),Math.round(this.height/2-292*e.y/-e.z),e.z)}nearPlaneClipping(e,t,r){const i=-1.7;if(e.z<i&&t.z<i)this.linerClipper.cohenSutherlandLineClipper(this.project(e),this.project(t),r);else{if(e.z>i&&t.z>i)return;if(e.z<i){const o=(i-e.z)/(t.z-e.z),s=new n.Vector3f(o*(t.x-e.x)+e.x,o*(t.y-e.y)+e.y,i);this.linerClipper.cohenSutherlandLineClipper(this.project(e),this.project(s),r)}else if(t.z<i){const o=(i-t.z)/(e.z-t.z),s=new n.Vector3f(o*(e.x-t.x)+t.x,o*(e.y-t.y)+t.y,i);this.linerClipper.cohenSutherlandLineClipper(this.project(t),this.project(s),r)}}}clearDepthBuffer(){this.wBuffer.fill(-1/900)}drawBox(){const e=this.maxWindow.y-this.minWindow.y+1,t=this.maxWindow.x-this.minWindow.x+1;let r=this.minWindow.y*this.width+this.minWindow.x;for(let i=0;i<e;i++)this.framebuffer.fill(-13158601,r,r+t),r+=this.width}drawBox2(e,t,r,i,o){let s=t*this.width+e;for(let e=0;e<i;e++)this.framebuffer.fill(o,s,s+r),s+=this.width}wireFrameSphereClipping(e){this.wBuffer.fill(100);const t=[],r=16;for(let e=0;e<=16;e++)for(let i=0;i<r;i++)t.push(this.sphereFunction2(-e*Math.PI/16-Math.PI/2,2*-i*Math.PI/r));const i=[];for(let e=0;e<16;e++)for(let t=0;t<r;t++)i.push(r*e+(1+t)%r),i.push(r*e+(0+t)%r),i.push(r*e+r+(1+t)%r),i.push(r*e+r+(0+t)%r),i.push(r*e+r+(1+t)%r),i.push(r*e+(0+t)%r);const o=10.8+5*(Math.sin(.16*e)+1)/2;let s=n.Matrix4f.constructScaleMatrix(o,o,o).multiplyMatrix(n.Matrix4f.constructYRotationMatrix(.08*e));s=s.multiplyMatrix(n.Matrix4f.constructXRotationMatrix(.08*e)),s=n.Matrix4f.constructTranslationMatrix(0+20*Math.sin(.04*e),5*Math.sin(.06*e),-22).multiplyMatrix(s);const a=new Array;for(let e=0;e<t.length;e++){const r=s.multiplyHom(t[e]),i=r.x,o=r.y,u=r.z,c=.5*this.width+i/(.0078*-u),h=.5*this.height+o/(.0078*-u);a.push(new n.Vector3f(c,h,u))}const u=-1703936|this.height<<16|this.height;this.drawLineDDA(new n.Vector3f(this.minWindow.x-1,this.minWindow.y-1,0),new n.Vector3f(this.minWindow.x-1,this.maxWindow.y+1,0),u),this.drawLineDDA(new n.Vector3f(this.maxWindow.x+1,this.minWindow.y-1,0),new n.Vector3f(this.maxWindow.x+1,this.maxWindow.y+1,0),u),this.drawLineDDA(new n.Vector3f(this.minWindow.x-1,this.minWindow.y-1,0),new n.Vector3f(this.maxWindow.x+1,this.minWindow.y-1,0),u),this.drawLineDDA(new n.Vector3f(this.minWindow.x-1,this.maxWindow.y+1,0),new n.Vector3f(this.maxWindow.x+2,this.maxWindow.y+1,0),u),this.drawBox();for(let e=0;e<i.length;e+=3){const t=a[i[e]],r=a[i[e+1]],o=a[i[e+2]],s=-1;this.isTriangleCCW(t,r,o)&&(this.linerClipper.cohenSutherlandLineClipper(t,r,s),this.linerClipper.cohenSutherlandLineClipper(t,o,s),this.linerClipper.cohenSutherlandLineClipper(o,r,s))}}isTriangleCCW(e,t,r){const i=e.x*t.y-t.x*e.y+t.x*r.y-r.x*t.y+r.x*e.y-e.x*r.y;return this.cullMode===s.CullFace.BACK?i<0:i>0}drawBoundingSphere(e,t,r){const i=[];for(let t=0;t<=8;t++)for(let r=0;r<8;r++){const o=this.sphereFunction2(-t*Math.PI/8-Math.PI/2,2*-r*Math.PI/8).mul(e.getRadius()+.01).add(e.getCenter());o.w=1,i.push(o)}const o=[];for(let e=0;e<8;e++)for(let t=0;t<8;t++)o.push(8*e+(1+t)%8),o.push(8*e+(0+t)%8),o.push(8*e+8+(1+t)%8),o.push(8*e+8+(0+t)%8),o.push(8*e+8+(1+t)%8),o.push(8*e+(0+t)%8);const s=t,a=new Array;for(let e=0;e<i.length;e++){const t=s.multiplyHom(i[e]);a.push(new n.Vector3f(t.x,t.y,t.z))}for(let e=0;e<o.length;e+=3){const t=a[o[e]],i=a[o[e+1]],s=a[o[e+2]];this.nearPlaneClipping(t,i,r),this.nearPlaneClipping(t,s,r),this.nearPlaneClipping(s,i,r)}}drawPlanedeformationTunnelAnim(e,t){let r=0;for(let i=0;i<this.height;i++)for(let o=0;o<this.width;o++){const s=o-this.width/2,a=i-this.height/2,n=51.2/Math.max(1,Math.sqrt(s*s+a*a)),u=n+.002*e,c=16*(Math.atan2(s,a)/Math.PI+1)+69e-5*e,h=t.texture[(31&u)+32*(31&c)],l=1-this.cosineInterpolate(1,6,n),f=(h>>0&255)*l|(h>>8&255)*l<<8|(h>>16&255)*l<<16;this.framebuffer[r++]=f}}drawLedTunnel(e,t){for(let r=0;r<25;r++)for(let i=0;i<40;i++){const o=160/(1.4*Math.sqrt((i-20)*(i-20)+(r-12.5)*(r-12.5))),s=(.5*(Math.sin(o+.005*e)+1)*(1-Math.min(.003*o,1))*15|0)%16;this.drawTextureRectNoAlpha(8*i,8*r,0,8*s,8,8,t)}}drawParticleWaves(e,t,r=!1){r||this.clearColorBuffer(-13617080),this.clearDepthBuffer();const i=new Array;for(let t=0;t<50;t++)for(let r=0;r<50;r++){const o=2*(r-25),s=4*(Math.sin(.09*r*2+8e-4*e)+Math.cos(.08*t*2+9e-4*e)),a=2*(t-25);i.push(new n.Vector3f(o,s,a))}const o=n.Matrix4f.constructTranslationMatrix(0,-0,-49).multiplyMatrix(n.Matrix4f.constructXRotationMatrix(.1*Math.PI).multiplyMatrix(n.Matrix4f.constructYRotationMatrix(6e-5*e))),s=new Array(i.length);i.forEach((e=>{const t=this.project(o.multiply(e));s.push(t)})),s.sort(((e,t)=>e.z-t.z)),s.forEach((e=>{const r=192*-1.3/e.z;this.drawParticle(Math.round(e.x-r/2),Math.round(e.y-r/2),Math.round(r),Math.round(r),t,1/e.z,this.interpolate(-60,-25,e.z))}))}drawScreenBounds(e){const t=o.Color.WHITE.toPackedFormat(),r=this.width/2,i=this.height/2;e.drawLineDDANoZ(new n.Vector3f(r/2,i/2,0),new n.Vector3f(r/2+r,i/2,-100),t),e.drawLineDDANoZ(new n.Vector3f(r/2,i/2,0),new n.Vector3f(r/2,i/2+i,-100),t),e.drawLineDDANoZ(new n.Vector3f(r/2+r,i/2,0),new n.Vector3f(r/2+r,i/2+i,-100),t),e.drawLineDDANoZ(new n.Vector3f(r/2,i/2+i,0),new n.Vector3f(r/2+r,i/2+i,-100),t)}drawParticleStreams(e,t,r,i=!1,o){const s=new Array,a=new Array(s.length),n=e.project(o);a.push(n),a.sort(((e,t)=>e.z-t.z)),a.forEach((t=>{const i=192*-80.3/t.z;e.drawParticle2(Math.round(t.x-i/2),Math.round(t.y-i/2),Math.round(i),Math.round(i),r,1/t.z,1,0,200)}))}drawPlaneDeformation(e,t){const r=t.width,i=t.height;let o=0;for(let s=0;s<this.height;s++){const a=2*s/this.height-1;for(let s=0;s<this.width;s++){const n=(2*s/this.width-1)/Math.abs(a)*r*.05|0,u=1/Math.abs(a)*i*.05+.008*e|0,c=1-Math.max(Math.min(1/Math.abs(a)*.2,1),0);let h=t.texture[(255&n)+(255&u)*r];h=255<<24|(h>>16&255)*c<<16|(h>>8&255)*c<<8|(h>>0&255)*c<<0,this.framebuffer[o++]=h}}}torusFunction(e){return new n.Vector3f(10*Math.sin(e),0,10*Math.cos(e))}cosineInterpolate(e,t,r){if(r<=e)return 0;if(r>=t)return 1;const i=(r-e)/(t-e);return(1-Math.cos(i*Math.PI))/2}createPlane(){const e={points:[]};for(let t=0;t<60;t++)for(let r=0;r<100;r++)e.points.push(new n.Vector3f(0+r,0+t,0)),e.points.push(new n.Vector3f(0+r,1+t,0)),e.points.push(new n.Vector3f(1+r,0+t,0)),e.points.push(new n.Vector3f(1+r,0+t,0)),e.points.push(new n.Vector3f(0+r,1+t,0)),e.points.push(new n.Vector3f(1+r,1+t,0));const t=[],r=[],i=[],o=[],s=[];return e.points.forEach((e=>{const r=e,i=t.find((e=>e.sub(r).length()<.001));if(i){const e=t.indexOf(i);s.push(e)}else s.push(t.push(r)-1)})),t.forEach((()=>{i.push(new n.Vector3f(0,0,0)),o.push(new n.Vector3f(0,0,0)),r.push(new n.Vector3f(0,0,0))})),{points:t,points2:r,normals:i,normals2:o,index:s}}createCylinder(){const e={points:[]};for(let t=0;t<110;t++)for(let r=0;r<50;r++){const i=30*Math.sin(2*Math.PI/50*r),o=30*Math.sin(2*Math.PI/50*(r+1)),s=30*Math.cos(2*Math.PI/50*r),a=30*Math.cos(2*Math.PI/50*(r+1));e.points.push(new n.Vector3f(i,0+t,s)),e.points.push(new n.Vector3f(i,1+t,s)),e.points.push(new n.Vector3f(o,0+t,a)),e.points.push(new n.Vector3f(o,0+t,a)),e.points.push(new n.Vector3f(i,1+t,s)),e.points.push(new n.Vector3f(o,1+t,a))}const t=[],r=[],i=[],o=[],s=[],a=[];return e.points.forEach((e=>{const r=e,i=t.find((e=>e.sub(r).length()<.001));if(i){const e=t.indexOf(i);a.push(e)}else a.push(t.push(r)-1)})),t.forEach((()=>{i.push(new n.Vector3f(0,0,0)),o.push(new n.Vector3f(0,0,0)),r.push(new n.Vector3f(0,0,0)),s.push(new x.TextureCoordinate)})),{points:t,points2:r,normals:i,normals2:o,index:a,texture:s}}createCylinder2(e){const t={points:[]},r=50;for(let i=0;i<110;i++)for(let o=0;o<r;o++){const s=o/r*256&255,a=(o+1)/r*256&255,u=.9*i/110*256&255,c=.9*(i+1)/110*256&255,h=1+(255&e.texture[s+256*u])/255*.9,l=1+(255&e.texture[a+256*u])/255*.9,f=1+(255&e.texture[s+256*c])/255*.9,d=1+(255&e.texture[a+256*c])/255*.9,p=30*Math.sin(2*Math.PI/r*o),m=30*Math.cos(2*Math.PI/r*o),g=30*Math.sin(2*Math.PI/r*(o+1)),v=30*Math.cos(2*Math.PI/r*(o+1));t.points.push(new n.Vector3f(p*h,0+i,m*h)),t.points.push(new n.Vector3f(p*f,1+i,m*f)),t.points.push(new n.Vector3f(g*l,0+i,v*l)),t.points.push(new n.Vector3f(g*l,0+i,v*l)),t.points.push(new n.Vector3f(p*f,1+i,m*f)),t.points.push(new n.Vector3f(g*d,1+i,v*d))}const i=[],o=[],s=[],a=[],u=[];return t.points.forEach((e=>{const t=e,r=i.find((e=>e.sub(t).length()<.001));if(r){const e=i.indexOf(r);u.push(e)}else u.push(i.push(t)-1)})),i.forEach((()=>{s.push(new n.Vector3f(0,0,0)),a.push(new n.Vector3f(0,0,0)),o.push(new n.Vector3f(0,0,0))})),{points:i,points2:o,normals:s,normals2:a,index:u}}fakeSphere(e,t){t.textureCoordinate.u=.5+Math.asin(e.x)/Math.PI,t.textureCoordinate.v=.5-Math.asin(e.y)/Math.PI}fakeSphere2(e,t){t.u=.5+Math.asin(e.x)/Math.PI,t.v=.5-Math.asin(e.y)/Math.PI}drawLensFlare(e,t,r,i){const o=e;o.z<0&&o.x>0&&o.x<this.width&&o.y>0&&o.y<this.height&&this.wBuffer[o.x+o.y*this.width]>1/o.z?this.lensFlareVisible||(this.lensFlareVisible=!0,this.lensFlareStart=t):this.lensFlareVisible&&(this.lensFlareVisible=!1,this.lensFlareEnd=t);let s=this.interpolate(this.lensFlareStart,this.lensFlareStart+100,t);!0!==this.lensFlareVisible&&(s*=1-this.interpolate(this.lensFlareEnd,this.lensFlareEnd+100,t));const a=new n.Vector3f(this.width/2,this.height/2,0).sub(o);if(s>0)for(let e=0;e<r.length;e++){const t=o.add(a.mul(r[e].scale));this.drawTexture(Math.round(t.x)-r[e].tex.width/2,Math.round(t.y)-r[e].tex.height/2,r[e].tex,r[e].alpha*s)}this.drawScaledTextureClipBi(0,0,this.width,this.height,i,.15+.2*s)}drawLineDDA(e,t,r){this.lineRasterizer.drawLineDDA(e,t,r)}drawLineDDANoZ(e,t,r){this.lineRasterizerNo.drawLineDDANoZ(e,t,r)}sphereFunction2(e,t){return new n.Vector4f(Math.cos(e)*Math.cos(t),Math.cos(e)*Math.sin(t),Math.sin(e),1)}}t.Framebuffer=w},69293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{seed;constructor(){this.seed=6}getFloat(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280}setSeed(e){this.seed=e}}},84140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkyBox=void 0;const i=r(93081),o=r(72499),s=r(96075),a=r(73362);t.SkyBox=class{back;down;front;left;right;up;texturedRenderingPipeline=new a.TexturingRenderingPipeline(null);init(){return Promise.all([o.TextureUtils.load(r(30716),!1).then((e=>this.back=e)),o.TextureUtils.load(r(16132),!1).then((e=>this.down=e)),o.TextureUtils.load(r(33031),!1).then((e=>this.front=e)),o.TextureUtils.load(r(24849),!1).then((e=>this.left=e)),o.TextureUtils.load(r(22965),!1).then((e=>this.right=e)),o.TextureUtils.load(r(87267),!1).then((e=>this.up=e))])}draw(e,t){this.texturedRenderingPipeline.setFramebuffer(e),this.drawSkyBox(e,t.getRotation())}drawSkyBox(e,t){const r=20,o=[this.back,this.left,this.front,this.right];let a,n,u;const c=[new i.Vector4f(1,1,-1,1),new i.Vector4f(-1,1,-1,1),new i.Vector4f(-1,-1,-1,1),new i.Vector4f(1,1,-1,1),new i.Vector4f(-1,-1,-1,1),new i.Vector4f(1,-1,-1,1)];for(let h=0;h<4;h++)a=t.multiplyMatrix(i.Matrix4f.constructXRotationMatrix(Math.PI).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(2*+Math.PI/4*h))),n=a.multiplyMatrix(i.Matrix4f.constructScaleMatrix(r,r,r)),u={points:c,points2:c.map((e=>new i.Vector4f(0,0,0))),uv:[new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,1),new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,0)],faces:[{vertices:[0,1,2],uv:[0,1,2]},{vertices:[3,4,5],uv:[3,4,5]}]},e.setTexture(o[h]),this.texturedRenderingPipeline.setFramebuffer(e),this.texturedRenderingPipeline.setModelViewMatrix(n),this.texturedRenderingPipeline.draw(e,u);a=t.multiplyMatrix(i.Matrix4f.constructXRotationMatrix(Math.PI)).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(0).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(2*Math.PI/4*1).multiplyMatrix(i.Matrix4f.constructXRotationMatrix(2*-Math.PI/4)))),n=a.multiplyMatrix(i.Matrix4f.constructScaleMatrix(r,r,r)),u={points:c,points2:c.map((e=>new i.Vector4f(0,0,0))),uv:[new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,0),new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,1)],faces:[{vertices:[0,1,2],uv:[0,1,2]},{vertices:[3,4,5],uv:[3,4,5]}]},e.setTexture(this.up),this.texturedRenderingPipeline.setModelViewMatrix(n),this.texturedRenderingPipeline.draw(e,u),a=t.multiplyMatrix(i.Matrix4f.constructXRotationMatrix(Math.PI)).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(0).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(2*Math.PI/2).multiplyMatrix(i.Matrix4f.constructXRotationMatrix(2*Math.PI/4)))),n=a.multiplyMatrix(i.Matrix4f.constructScaleMatrix(r,r,r)),u={points:c,points2:c.map((e=>new i.Vector4f(0,0,0))),uv:[new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,1),new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,1),new s.TextureCoordinate(0,0),new s.TextureCoordinate(1,0)],faces:[{vertices:[0,1,2],uv:[0,1,2]},{vertices:[3,4,5],uv:[3,4,5]}]},e.setTexture(this.down),this.texturedRenderingPipeline.setModelViewMatrix(n),this.texturedRenderingPipeline.draw(e,u)}}},96075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureCoordinate=void 0,t.TextureCoordinate=class{u;v;constructor(e,t){this.u=e,this.v=t}}},97569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vertex=void 0,t.Vertex=class{position;projection;normal;color;textureCoordinate}},74039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlenderCameraAnimator=void 0;const i=r(50738),o=r(80613),s=r(96852);t.BlenderCameraAnimator=class{pos;keyFrames;setKeyFrames(e){this.keyFrames=e}getViewMatrix(e){const t=((e*=1)/2600|0)%this.keyFrames.length,r=(t-1+this.keyFrames.length)%this.keyFrames.length,a=(t+1)%this.keyFrames.length,n=(t+2)%this.keyFrames.length,u=e/2600%this.keyFrames.length-t,c=(1-Math.cos(u*Math.PI))/2,h=new s.Vector3f(o.Utils.CubicInterpolate(this.keyFrames[r].position.x,this.keyFrames[t].position.x,this.keyFrames[a].position.x,this.keyFrames[n].position.x,u),o.Utils.CubicInterpolate(this.keyFrames[r].position.y,this.keyFrames[t].position.y,this.keyFrames[a].position.y,this.keyFrames[n].position.y,u),o.Utils.CubicInterpolate(this.keyFrames[r].position.z,this.keyFrames[t].position.z,this.keyFrames[a].position.z,this.keyFrames[n].position.z,u));let l=this.keyFrames[t].rotation.mul(1-c).add(this.keyFrames[a].rotation.mul(c));return l=new s.Vector3f(o.Utils.CubicInterpolate(this.keyFrames[r].rotation.x,this.keyFrames[t].rotation.x,this.keyFrames[a].rotation.x,this.keyFrames[n].rotation.x,u),o.Utils.CubicInterpolate(this.keyFrames[r].rotation.y,this.keyFrames[t].rotation.y,this.keyFrames[a].rotation.y,this.keyFrames[n].rotation.y,u),o.Utils.CubicInterpolate(this.keyFrames[r].rotation.z,this.keyFrames[t].rotation.z,this.keyFrames[a].rotation.z,this.keyFrames[n].rotation.z,u)),this.pos=h,new i.EulerAngleCamera(h,l.x,l.y,l.z).getViewMatrix()}}},61572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraKeyFrame=void 0,t.CameraKeyFrame=class{position;rotation;constructor(e,t){this.position=e,this.rotation=t}}},15710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlenderJsonParser=void 0;const i=r(93081),o=r(96075),s=r(47758);t.BlenderJsonParser=class{static parse(e,t=!1){const r=[];return e.forEach((e=>{const o=new Array,s=new Array;e.vertices.forEach((e=>{o.push(new i.Vector4f(e.x,e.y,e.z).mul(1))})),e.normals.forEach((e=>{s.push(t?new i.Vector4f(e.x,e.y,e.z).normalize().mul(-1):new i.Vector4f(e.x,e.y,e.z).normalize())}));const a=[];e.faces.forEach((e=>{a.push({n1:e.normals[0],n2:e.normals[1],n3:e.normals[2],v1:e.vertices[0],v2:e.vertices[1],v3:e.vertices[2]})}));const n={faces:a,normals:s,points:o,transformedNormals:s.map((()=>new i.Vector4f(0,0,0,0))),transformedPoints:o.map((()=>new i.Vector4f(0,0,0,0)))};r.push(n)})),r}static getBlenderScene(e,t=!0,r=!1){const a=[];return e.forEach((e=>{const r=new Array,n=new Array;let u;e.uv&&(u=[],e.uv.forEach((e=>{const t=new o.TextureCoordinate;t.u=e.u,t.v=1-e.v,u.push(t)}))),e.vertices.forEach((e=>{t?r.push(new i.Vector4f(e.x,e.y,e.z).mul(2).add(new i.Vector4f(0,-2.7,0,0))):r.push(new i.Vector4f(e.x,e.y,e.z).mul(2))})),e.normals.forEach((e=>{n.push(new i.Vector4f(e.x,e.y,e.z))}));const c=(new s.ComputationalGeometryUtils).computeBoundingSphere(r);c.getCenter().w=1;const h={points:r,normals:n,uv:u,faces:e.faces,points2:r.map((()=>new i.Vector4f(0,0,0,0))),normals2:n.map((()=>new i.Vector4f(0,0,0,0))),boundingSphere:c,name:e.name};a.push(h)})),a}}},50821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Face=void 0,t.Face=class{vertices;normals;uv}},22876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mesh=void 0,t.Mesh=class{name;vertices;normals;uv;faces}},80602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToMeshArray=void 0;const i=r(22876),o=r(22138),s=r(69345),a=r(50821);t.convertToMeshArray=function(e){const t=new Array;let r=null,n=0,u=0,c=0,h=0,l=0,f=0;return e.toString().split("\n").forEach((e=>{if(e.startsWith("o ")){const o=e.split(" ");r=new i.Mesh,r.name=o[1],r.normals=[],r.vertices=[],r.faces=[],r.uv=[],t.push(r),h=n,l=u,f=c}if(null===r&&(e.startsWith("v ")||e.startsWith("vn ")||e.startsWith("vt ")))throw console.error("Error: OBJ file does not contain Objects."),Error();if(e.startsWith("v ")){const t=e.split(" "),i=new o.Vector(Number.parseFloat(t[1]),Number.parseFloat(t[2]),Number.parseFloat(t[3]));r.vertices.push(i),u++}if(e.startsWith("vn ")){const t=e.split(" "),i=new o.Vector(Number.parseFloat(t[1]),Number.parseFloat(t[2]),Number.parseFloat(t[3]));r.normals.push(i),n++}if(e.startsWith("vt ")){const t=e.split(" "),i=new s.TexCoord(Number.parseFloat(t[1]),Number.parseFloat(t[2]));r.uv.push(i),c++}if(e.startsWith("f ")){const t=e.split(" "),i=new a.Face;i.vertices=[],i.normals=[],i.uv=[],i.vertices.push(Number(t[1].split("/")[0])-1-l),i.vertices.push(Number(t[2].split("/")[0])-1-l),i.vertices.push(Number(t[3].split("/")[0])-1-l),i.uv.push(Number(t[1].split("/")[1])-1-f),i.uv.push(Number(t[2].split("/")[1])-1-f),i.uv.push(Number(t[3].split("/")[1])-1-f),i.normals.push(Number(t[1].split("/")[2])-1-h),i.normals.push(Number(t[2].split("/")[2])-1-h),i.normals.push(Number(t[3].split("/")[2])-1-h),r.faces.push(i)}})),t}},69345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TexCoord=void 0,t.TexCoord=class{u;v;constructor(e,t){this.u=e,this.v=t}}},22138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0,t.Vector=class{x;y;z;constructor(e,t,r){this.x=e,this.y=t,this.z=r}}},65514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleClipBlitter=void 0,t.ScaleClipBlitter=class{framebuffer;constructor(e){this.framebuffer=e}drawScaledTextureClip(e,t,r,i,o,s){const a=o.width/r,n=o.height/i;let u,c,h,l,f,d=0,p=0;if(t+i<0||t>this.framebuffer.height-1||e+r<0||e>this.framebuffer.width-1)return;t<0?(p=n*-t,u=i+t-Math.max(t+i-this.framebuffer.height,0),h=0):(h=t,u=i-Math.max(t+i-this.framebuffer.height,0)),e<0?(f=d=a*-e,c=r+e-Math.max(e+r-this.framebuffer.width,0),l=0):(f=0,l=e,c=r-Math.max(e+r-this.framebuffer.width,0));const m=1/255*s;let g=l+h*this.framebuffer.width;for(let e=0;e<u;e++){for(let e=0;e<c;e++){const e=(0|d)+(0|p)*o.width,t=(o.texture[e]>>24&255)*m,r=1-t,i=this.framebuffer.framebuffer[g],s=o.texture[e],n=(i>>0&255)*r+(s>>0&255)*t,u=(i>>8&255)*r+(s>>8&255)*t,c=(i>>16&255)*r+(s>>16&255)*t;this.framebuffer.framebuffer[g]=n|u<<8|c<<16|255<<24,d+=a,g++}p+=n,d=f,g+=-c+this.framebuffer.width}}}},87346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraFrame=void 0,t.CameraFrame=class{frame;position;rotation;constructor(e,t,r){this.frame=e,this.position=t,this.rotation=r}}},8507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraLoader=void 0;const i=r(61572),o=r(93081),s=r(34679),a=r(87346);t.CameraLoader=class{static load(e){return fetch(e).then((e=>e.text())).then((e=>{const t=JSON.parse(e),r=new s.CameraPath,n=new Array;for(let e=0;e<t.length;e++){const s=t[e],u=new a.CameraFrame(s.frame,new o.Vector3f(s.location[0],s.location[1],s.location[2]),new o.Vector3f(s.rotation[0],s.rotation[1],s.rotation[2]));r.frames.push(u),n.push(new i.CameraKeyFrame(new o.Vector3f(s.location[0],s.location[2],-s.location[1]),new o.Vector3f(s.rotation[0]-90*.0174533,s.rotation[2],s.rotation[1])))}return n}))}}},34679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraPath=void 0,t.CameraPath=class{frames;constructor(){this.frames=new Array}}},50738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EulerAngleCamera=void 0;const i=r(93081);t.EulerAngleCamera=class{position;rx;ry;rz;constructor(e,t,r,i){this.position=e,this.rx=t,this.ry=r,this.rz=i}getViewMatrix(){const e=i.Matrix4f.constructZRotationMatrix(-this.rz),t=i.Matrix4f.constructXRotationMatrix(-this.rx),r=i.Matrix4f.constructYRotationMatrix(-this.ry),o=i.Matrix4f.constructTranslationMatrix(-this.position.x,-this.position.y,-this.position.z);return t.multiplyMatrix(r).multiplyMatrix(e).multiplyMatrix(o)}getPosition(){return this.position}}},31829:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;class r{r;g;b;a;static BLACK=new r(0,0,0,255);static WHITE=new r(255,255,255,255);static RED=new r(255,0,0,255);static GREEN=new r(0,255,0,255);static LIME=new r(0,255,0,255);static BLUE=new r(0,0,255,255);static DARK_BLUE=new r(0,0,64,255);static YELLOW=new r(255,255,0,255);static CYAN=new r(0,255,255,255);static MAGENTA=new r(255,0,255,255);static SLATE_GRAY=new r(112,128,144,255);static DARK_GRAY=new r(19,19,20,255);static ORANGE=new r(255,160,122);constructor(e=0,t=0,r=0,i=255){this.r=e,this.g=t,this.b=r,this.a=i}toPackedFormat(){return this.r|this.g<<8|this.b<<16|this.a<<24}sub(e){return new r(this.r-e.r,this.g-e.g,this.b-e.b,255)}add(e){return new r(this.r+e.r,this.g+e.g,this.b+e.b,255)}div(e){return new r(this.r/e,this.g/e,this.b/e,255)}mul(e){return new r(this.r*e,this.g*e,this.b*e,255)}}t.Color=r},62504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoublyLinkedList=void 0,t.DoublyLinkedList=class{_start;_end;_length;constructor(){this._start=null,this._end=null,this._length=0}get start(){return this._start}set start(e){this._start=e}get end(){return this._end}set end(e){this._end=e}get length(){return this._length+1}isEmpty(){return 0===this.length}insertStart(e){this.isEmpty()?(this.start=e,this.end=e):(e.next=this.start,null!=this.start&&(this.start.previous=e),this.start=e),this._length++}insertEnd(e){this.isEmpty()?(this.start=e,this.end=e):(e.previous=this.end,null!=this.end&&(this.end.next=e),this.end=e),this._length++}insert(e,t){if(0===t)return void this.insertStart(e);if(-1===t)return void this.insertEnd(e);let r=this.start,i=0;for(i=0;i<t-1&&null!==r;i++)r=r.next;i!==t-1&&null===r||(null!=r&&(e.previous=r,e.next=r.next,null!=r.next?r.next.previous=e:this.end=e,r.next=e),this._length++)}deleteStart(){this.isEmpty()||(null!=this.start&&null==this.start.next?(this.start=null,this.end=null):null!=this.start&&(this.start=this.start.next,null!=this.start&&(this.start.previous=null)),this._length--)}deleteEnd(){this.isEmpty()||(null!=this.end&&null==this.end.previous?(this.start=null,this.end=null):null!=this.end&&(this.end=this.end.previous,null!=this.end&&(this.end.next=null)),this._length--)}delete(e){if(this.isEmpty())return;if(0===e)return void this.deleteStart();if(-1===e)return void this.deleteEnd();const t=this.getNode(e);null!=t&&(null===t.next&&null!==t.previous?this.deleteEnd():null===t.previous&&null!==t.next?this.deleteStart():null!==t.next&&null!==t.previous&&(t.previous.next=t.next,t.next.previous=t.previous,this._length--))}getNode(e){if(this.isEmpty()||e<0)return null;let t=this.start;for(let r=1;r<=e&&null!=t;r++)t=t.next;return t}toArray(){const e=new Array;if(0===this.length)return e;let t=0,r=this.start;for(;null!=r&&t<12;)e.push(r),r=r.next,t++;return e}clear(){this.end=null,this.start=null,this._length=0}}},29674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DLNode=void 0,t.DLNode=class{_data=null;_next=null;_previous=null;constructor(){}get data(){return this._data}set data(e){this._data=e}get next(){return this._next}set next(e){this._next=e}get previous(){return this._previous}set previous(e){this._previous=e}}},80613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;class r{static clamp(e,t,r){return e<=t?t:e>=r?r:e}static map(e,t,r,i,o){return i+(e-t)/(r-t)*(o-i)}static getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}static arrayCopy(e,t,r,i,o){let s,a;void 0!==o?(a=Math.min(o,e.length),s=i,e=e.slice(t,a+t)):(void 0!==r?(a=r,a=Math.min(a,e.length)):a=e.length,s=0,r=t,e=e.slice(0,a)),Array.prototype.splice.apply(r,[s,a].concat(e))}static PerlinNoise=new function(){function e(e){return e*e*e*(e*(6*e-15)+10)}function t(e,t,r){return t+e*(r-t)}function r(e,t,r,i){const o=15&e,s=o<8?t:r,a=o<4?r:12===o||14===o?t:i;return(0==(1&o)?s:-s)+(0==(2&o)?a:-a)}this.noise=(i,o,s)=>{const a=new Array(512),n=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let e=0;e<256;e++)a[256+e]=a[e]=n[e];const u=255&Math.floor(i),c=255&Math.floor(o),h=255&Math.floor(s);i-=Math.floor(i),o-=Math.floor(o),s-=Math.floor(s);const l=e(i),f=e(o),d=e(s),p=a[u]+c,m=a[p]+h,g=a[p+1]+h,v=a[u+1]+c,y=a[v]+h,x=a[v+1]+h;return(1+t(d,t(f,t(l,r(a[m],i,o,s),r(a[y],i-1,o,s)),t(l,r(a[g],i,o-1,s),r(a[x],i-1,o-1,s))),t(f,t(l,r(a[m+1],i,o,s-1),r(a[y+1],i-1,o,s-1)),t(l,r(a[g+1],i,o-1,s-1),r(a[x+1],i-1,o-1,s-1)))))/2}};static CubicInterpolate(e,t,r,i,o){const s=o*o,a=i-r-e+t;return a*o*s+(e-t-a)*s+(r-e)*o+t}static CosineInterpolate(e,t,r){const i=(1-Math.cos(r*Math.PI))/2;return e*(1-i)+t*i}}t.Utils=r},85681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractCube=void 0;const i=r(27574),o=r(7401),s=r(21762),a=r(99999),n=r(18931),u=r(20082),c=r(70518);class h extends a.AbstractScene{blurred;noise;accumulationBuffer;renderingPipeline;scene;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),this.renderingPipeline=new s.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(i.CullFace.BACK),Promise.all([c.BlenderLoader.load(r(15264)).then((e=>this.scene=e)),u.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e)),u.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),this.drawBlenderScene2(e,t);const r=new n.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}drawBlenderScene2(e,t){e.clearDepthBuffer();const r=o.Matrix4f.constructTranslationMatrix(0,0,-12).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(2e-4*t).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(2e-4*t)));let i=r.multiplyMatrix(o.Matrix4f.constructScaleMatrix(5,16,5)),s=this.scene[0];this.renderingPipeline.draw(e,s,i),i=r.multiplyMatrix(o.Matrix4f.constructZRotationMatrix(.5*Math.PI*e.cosineInterpolate(0,600,Math.floor(.7*t)%4e3)).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(.5*Math.PI*e.cosineInterpolate(2e3,2600,Math.floor(.7*t)%4e3)))),s=this.scene[1],this.renderingPipeline.draw(e,s,i)}}t.AbstractCube=h},7187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BakedLighting=void 0;const i=r(27574),o=r(7401),s=r(99999),a=r(84140),n=r(18931),u=r(20082),c=r(70518),h=r(73362);class l extends s.AbstractScene{skyBox;baked;noise;blenderObj8;accumulationBuffer;texturedRenderingPipeline;init(e){return this.texturedRenderingPipeline=new h.TexturingRenderingPipeline(e),this.accumulationBuffer=new Uint32Array(e.width*e.height),e.setCullFace(i.CullFace.BACK),this.skyBox=new a.SkyBox,Promise.all([this.skyBox.init(),c.BlenderLoader.loadWithTexture(r(66261)).then((e=>this.blenderObj8=e)),u.TextureUtils.load(r(77518),!1).then((e=>this.baked=e)),u.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){this.texturedRenderingPipeline.setCullFace(i.CullFace.BACK),this.drawBlenderScene7(e,t-11e5);const r=new n.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}drawBlenderScene7(e,t){t*=.2,e.clearDepthBuffer();const r=o.Matrix4f.constructTranslationMatrix(0,0,17*(.5*Math.sin(7e-5*t)+.5)-134).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(6e-4*t).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(5e-4*-t).multiplyMatrix(o.Matrix4f.constructTranslationMatrix(0,-25,0)))).multiplyMatrix(o.Matrix4f.constructScaleMatrix(13,13,13));this.skyBox.draw(e,r),e.clearDepthBuffer(),e.setTexture(this.baked),this.texturedRenderingPipeline.setModelViewMatrix(r),this.texturedRenderingPipeline.drawMeshArray(e,this.blenderObj8)}}t.BakedLighting=l},23150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlenderCameraScene=void 0;const i=r(8507),o=r(31829),s=r(27574),a=r(93081),n=r(69739),u=r(99999),c=r(65084),h=r(20082),l=r(54743),f=r(49874),d=r(74039),p=r(84140),m=r(21762);class g extends u.AbstractScene{static CLEAR_COLOR=o.Color.ORANGE.toPackedFormat();texture4;startTime;modelViewMatrix=new l.ModelViewMatrix;fpsStartTime=Date.now();fpsCount=0;fps=0;meshes;path;skyBox;light1;light2;renderingPipeline;init(e){return this.renderingPipeline=new m.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(s.CullFace.BACK),this.light1=new c.PointLight,this.light1.ambientIntensity=new a.Vector4f(1,1,1,1),this.light1.diffuseIntensity=new a.Vector4f(1,0,1,1),this.light1.specularIntensity=new a.Vector4f(.5,.5,.7,1),this.light1.position=new a.Vector4f(0,-10,-1,1),this.light2=new c.PointLight,this.light2.ambientIntensity=new a.Vector4f(.5,.5,1,1),this.light2.diffuseIntensity=new a.Vector4f(.3,.3,1,1),this.light2.specularIntensity=new a.Vector4f(.8,.8,.8,1),this.light2.position=new a.Vector4f(3,0,-2,1),this.renderingPipeline.setLights([this.light1,this.light2]),console.log(f.default),this.skyBox=new p.SkyBox,this.startTime=Date.now(),Promise.all([this.skyBox.init(),n.WavefrontLoader.load(r(67337)).then((e=>this.meshes=e)),i.CameraLoader.load(f.default).then((e=>this.path=e)),h.TextureUtils.load(r(97694),!0).then((e=>this.texture4=e))])}render(e,t){const r=Date.now();this.renderingPipeline.setCullFace(s.CullFace.BACK),this.renderingPipeline.setLights([this.light1,this.light2]),r>this.fpsStartTime+1e3&&(this.fpsStartTime=r,this.fps=this.fpsCount,this.fpsCount=0),this.fpsCount++;const i=Date.now()-this.startTime,o=new d.BlenderCameraAnimator;o.setKeyFrames(this.path);const a=o.getViewMatrix(t);this.skyBox.draw(e,a),e.clearDepthBuffer(),this.computeCameraMovement(.6*i);let n=0;for(let t=0;t<this.meshes.length;t++)this.renderingPipeline.draw(e,this.meshes[t],a),n+=this.meshes[t].faces.length;e.drawText(8,8,"FPS: "+this.fps.toString(),this.texture4),e.drawText(8,16,"FACES: "+n,this.texture4)}computeCameraMovement(e){this.modelViewMatrix.setIdentity(),this.modelViewMatrix.trans(0,0,-15)}}t.BlenderCameraScene=g},26253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockFade=t.TransitionMethods=void 0;const i=r(31829),o=r(80613),s=r(20540),a=r(69293),n=r(99999),u=r(72499);var c;!function(e){e[e.FADEIN=1]="FADEIN",e[e.FADEOUT=2]="FADEOUT",e[e.BLOCKFADE=3]="BLOCKFADE",e[e.CROSSFADE=4]="CROSSFADE",e[e.CIRCLE=5]="CIRCLE",e[e.WIPE_LEFT=6]="WIPE_LEFT"}(c=t.TransitionMethods||(t.TransitionMethods={}));class h extends n.AbstractScene{ledTexture;startTime=Date.now();transitionFramebufferTo;transitionCircle;transitionWipe;init(e){this.transitionFramebufferTo=new s.Framebuffer(e.width,e.height),this.transitionWipe=new Uint32Array(e.width*e.height);for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){const s=o.Utils.map(r,0,e.width,0,255),a=new i.Color(s,s,s,255).toPackedFormat();this.transitionWipe[r+t*e.width]=a}this.transitionCircle=new Uint32Array(e.width*e.height),this.transitionCircle.fill(i.Color.WHITE.toPackedFormat(),0,this.transitionCircle.length);for(let t=0;t<e.width/2;t+=1){const r=o.Utils.map(t,0,e.width/2,0,255);new i.Color(r,r,r,255).toPackedFormat(),this.drawCircle(e.width/2,e.height/2,t,r)}return Promise.all([u.TextureUtils.load(r(66017),!1).then((e=>this.ledTexture=e))])}putpixel(e,t,r){this.transitionCircle[e+t*this.transitionFramebufferTo.width]=new i.Color(r,r,r,255).toPackedFormat()}drawCircle(e,t,r,i){let o=0,s=r,a=-(r>>>1);for(;o<=s;)this.putpixel(o+e,s+t,i),this.putpixel(s+e,o+t,i),this.putpixel(-o+e,s+t,i),this.putpixel(-s+e,o+t,i),this.putpixel(-o+e,-s+t,i),this.putpixel(-s+e,-o+t,i),this.putpixel(o+e,-s+t,i),this.putpixel(s+e,-o+t,i),a<=0?(o++,a+=o):(s--,a-=s)}render(e){const t=Date.now()-this.startTime;e.clear(),this.blockFade(e,this.ledTexture.texture,this.ledTexture.width,t,0)}transition(e,t,r,i,s,a){switch(r.render(this.transitionFramebufferTo,a),t.render(e,a),Math.trunc(i)){case c.BLOCKFADE:this.blockFade(e,this.transitionFramebufferTo.framebuffer,this.transitionFramebufferTo.width,o.Utils.map(s,0,255,0,12e3),0);break;case c.CROSSFADE:this.crossFade(e.framebuffer,s);break;case c.FADEIN:this.fadeIn(e,s,0);break;case c.FADEOUT:this.fadeOut(e,s,0);break;case c.WIPE_LEFT:this.crossFadeImage(e,s,this.transitionWipe);break;case c.CIRCLE:this.crossFadeImage(e,s,this.transitionCircle);break;default:this.crossFade(e.framebuffer,o.Utils.map(s,0,255,0,12e3))}}blockFade(e,t,r,i,o){const s=20,n=Math.ceil(e.width/s),u=Math.ceil(e.height/s),c=new Array(n*u),h=new a.default;h.setSeed(366);for(let e=0;e<u;e++)for(let t=0;t<n;t++)c[t+e*n]=500+Math.round(6e5*h.getFloat())%1e4;for(let a=0;a<u;a++)for(let u=0;u<n;u++)e.drawTextureRect(u*s,a*s,u*s,a*s,s,s,t,r,e.interpolate(o+c[u+a*n],o+c[u+a*n]+700,i))}crossFade(e,t){for(let r=0;r<e.length;r++)e[r]=s.Framebuffer.blend(e[r],this.transitionFramebufferTo.framebuffer[r],t)}crossFadeImage(e,t,r){for(let i=0;i<e.framebuffer.length;i++)e.framebuffer[i]=s.Framebuffer.blend(e.framebuffer[i],this.transitionFramebufferTo.framebuffer[i],o.Utils.clamp(2*t-(255&r[i]),0,255))}fadeIn(e,t,r){for(let i=0;i<e.height;i++)for(let o=0;o<e.width;o++)e.drawPixel(o,i,s.Framebuffer.blend(r,this.transitionFramebufferTo.framebuffer[o+i*e.width],t))}fadeOut(e,t,r){for(let i=0;i<e.height;i++)for(let o=0;o<e.width;o++)e.drawPixel(o,i,s.Framebuffer.blend(e.framebuffer[o+i*e.width],r,t))}renderScanlines(e,t){let r=0;const s=2*t<<0,a=5*t<<0,n=2*t<<0;for(let t=0;t<e.height;t++){const u=16*(1&t),c=t*e.width;for(let t=0;t<e.width;t++){const h=255&e.framebuffer[o.Utils.clamp(t+s,0,e.width-1)+c],l=e.framebuffer[o.Utils.clamp(t+a,0,e.width-1)+c]>>8&255,f=e.framebuffer[o.Utils.clamp(t+n,0,e.width-1)+c]>>16&255;e.framebuffer[r++]=new i.Color(o.Utils.clamp(h-u,0,255),o.Utils.clamp(l-u,0,255),o.Utils.clamp(f-u,0,255)).toPackedFormat()}}}}t.BlockFade=h},900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CubeScene=void 0;const i=r(31829),o=r(27574),s=r(24377),a=r(93081),n=r(21762),u=r(99999);class c extends u.AbstractScene{static BACKGROUND_COLOR=i.Color.BLACK.toPackedFormat();renderingPipeline;cubeMesh=new s.Cube;init(e){return this.renderingPipeline=new n.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(o.CullFace.BACK),Promise.all([])}render(e,t){const r=.02*t;e.clearColorBuffer(c.BACKGROUND_COLOR),e.clearDepthBuffer(),this.renderingPipeline.draw(e,this.cubeMesh.getMesh(),this.getModelViewMatrix(r))}renderBackground(e,t){const r=.02*t;e.clearDepthBuffer(),this.renderingPipeline.draw(e,this.cubeMesh.getMesh(),this.getModelViewMatrix(r))}getModelViewMatrix(e){return a.Matrix4f.constructTranslationMatrix(0,0,-9).multiplyMatrix(a.Matrix4f.constructScaleMatrix(3.2,3.2,3.2).multiplyMatrix(a.Matrix4f.constructYRotationMatrix(.05*e)).multiplyMatrix(a.Matrix4f.constructXRotationMatrix(.08*e)))}}t.CubeScene=c},40416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoScene=void 0;const i=r(71227),o=r(31829),s=r(26253),a=r(62504),n=r(29674),u=r(73466),c=r(90360);t.DemoScene=class{sm;_recording=!1;canvasRecorder;canvasRecordingOptions;sceneList;nodeInstance;tickerPointerRef;BlockFade;stats;init(e){return this.sm=new i.SoundManager,this.sceneList=new a.DoublyLinkedList,this.initControls(e.width),this.BlockFade=new s.BlockFade,this.allProgress([this.sm.loadOgg(r(15995).Z),this.sm.prepareSync(r(28648).Z,!0),this.BlockFade.init(e),Promise.resolve().then((()=>r(62193))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(62193))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(17427))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(44620))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(5765))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(50333))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(31599))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(62467))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(33586))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(47155))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(24563))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(82886))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(35334))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(5827))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(10301))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(6332))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(23574))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(46904))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(81607))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(77171))).then((t=>this.initScene(e,t))),Promise.resolve().then((()=>r(1714))).then((t=>this.initScene(e,t)))],(t=>{const r=Math.ceil(e.width*t);e.drawRect2(0,e.height/2-5,r,10,o.Color.WHITE.toPackedFormat()),document.getElementById("aisa-canvas").getContext("2d").putImageData(e.getImageData(),0,0);for(const e of this.stats)e.update()}))}initScene(e,t,...r){const i=Object.keys(t)[0],o=new n.DLNode;return o.data=new t[i](...r),this.sceneList.insert(o,this.sceneList.length-1),this.sceneList.getNode(this.sceneList.length-2).data.init(e)}onInit(){const e=localStorage.getItem("lastTime");e&&this.seek(Number(e));const t="true"===localStorage.getItem("soundToggle");this.toggleSound(document.getElementById("ticker_volume"),t)}recordVideo(){console.info("recording video..."),this._recording=!0;const e=new Date;this.canvasRecordingOptions={filename:`Aisa ${e.toISOString().slice(0,10)} at ${e.toTimeString().slice(0,8).replace(/:/g,".")}.webm`,frameRate:60,download:!0,recorderOptions:{mimeType:"video/webm",audioBitsPerSecond:128e3,videoBitsPerSecond:5e6}};const t=new c.CanvasRecorder,r=document.getElementById("aisa-canvas");this.canvasRecorder=t.createCanvasRecorder(r,this.canvasRecordingOptions,this.sm._audio),this.canvasRecorder.start()}saveVideo(){this.canvasRecorder.stop(),this.canvasRecorder.dispose(),this._recording=!1,console.info(`saved video as ${this.canvasRecordingOptions.filename}`)}seek(e){this.sm._audio.currentTime=e,this.sm._demoMode||this.sm._syncDevice.update(this.sm._audio.currentTime*this.sm.musicProperties.ROW_RATE)}toggleSound(e,t){t?(e.setAttribute("title","enable sound"),e.classList.remove("fa-volume-up"),e.classList.add("fa-volume-off")):(e.setAttribute("title","mute sound"),e.classList.remove("fa-volume-off"),e.classList.add("fa-volume-up")),this.sm._audio.muted=t}initControls(e){this.stats=new Array,this.initStats(2,0,2*e),this.initStats(0,50,2*e),this.initStats(1,100,2*e),document.getElementById("debug").style.width=2*e+"px";const t=document.getElementById("ticker"),r=document.getElementById("ticker_play"),i=document.getElementById("ticker_stop"),o=document.getElementById("ticker_next"),s=document.getElementById("ticker_back"),a=document.getElementById("ticker_record"),n=document.getElementById("ticker_screenshot"),u=document.getElementById("ticker_volume");this.tickerPointerRef=document.getElementById("ticker_pointer"),i.addEventListener("click",(()=>{this.sm.onPause(),this.nodeInstance=this.sceneList.start,this.seek(0),r.classList.add("fa-play"),r.classList.remove("fa-pause"),this._recording&&(a.style.color="white",this.saveVideo())})),a.addEventListener("click",(()=>{this._recording?(a.style.color="white",this.sm.onPause(),this.saveVideo(),r.classList.add("fa-play"),r.classList.remove("fa-pause")):(a.style.color="red",this.sm.onPlay(),this.recordVideo(),r.classList.remove("fa-play"),r.classList.add("fa-pause"))})),r.addEventListener("click",(()=>{this.sm._audio.paused&&!this.sm.isPlaying?(this.sm.onPlay(),r.setAttribute("title","pause"),r.classList.remove("fa-play"),r.classList.add("fa-pause")):(this.sm.onPause(),r.setAttribute("title","play"),r.classList.add("fa-play"),r.classList.remove("fa-pause"))})),u.addEventListener("click",(()=>{this.toggleSound(u,!this.sm._audio.muted),localStorage.setItem("soundToggle",String(this.sm._audio.muted))})),n.addEventListener("click",(()=>{const e=new Date,t=`Aisa ${e.toISOString().slice(0,10)} at ${e.toTimeString().slice(0,8).replace(/:/g,".")}.png`,r=document.getElementById("aisa-canvas").toDataURL("image/png").replace("image/png","image/octet-stream"),i=document.createElement("a");i.setAttribute("download",t),i.setAttribute("href",r),i.click()})),o.addEventListener("click",(()=>{this.jump(this.sm._audio.currentTime,1)})),s.addEventListener("click",(()=>{this.jump(this.sm._audio.currentTime,-1)})),t.addEventListener("click",(e=>{const r=e.offsetX*this.sm._audio.duration/t.getBoundingClientRect().width;this.seek(r)})),this.tickerPointerRef.addEventListener("click",(e=>{e.stopPropagation()})),document.addEventListener("keydown",(e=>{switch(e.key){case"MediaStop":i.click();break;case"MediaPlayPause":case" ":r.click();break;case"ArrowLeft":this.sm._audio.currentTime=this.sm._audio.currentTime-.06;break;case"ArrowRight":this.sm._audio.currentTime=this.sm._audio.currentTime+.06;break;case"MediaTrackNext":case"ArrowUp":this.jump(this.sm._audio.currentTime,1);break;case"MediaTrackPrevious":case"ArrowDown":this.jump(this.sm._audio.currentTime,-1);break;case"f":document.getElementById("aisa-canvas").click();break;case"s":n.click();break;case"r":a.click()}}))}allProgress(e,t){let r=0;for(const i of e)i.then((()=>{r++,t(r/e.length)}));return Promise.all(e)}initStats(...e){this.stats.push(new u);const t=this.stats[this.stats.length-1];t.showPanel(e[0]),t.dom.style.cssText=`position:absolute;top:${e[1]}px;left:${e[2]}px;`,document.body.appendChild(t.dom)}render(e){this.sm.updateMusic(),this.nodeInstance=this.sceneList.getNode(this.sm.musicProperties.sceneData.effect),0===this.sm.musicProperties.sceneData.transitionType?this.nodeInstance.data.render(e,this.sm.musicProperties.timeMilliseconds):this.BlockFade.transition(e,this.nodeInstance.data,this.nodeInstance.next.data,this.sm.musicProperties.sceneData.transitionType,this.sm.musicProperties.sceneData.transitionValue,this.sm.musicProperties.timeMilliseconds),this.BlockFade.renderScanlines(e,2*this.sm.musicProperties.sceneData.bass),this.drawStats()}jump(e,t){this.sm._row=e*this.sm.musicProperties.ROW_RATE;const r=Number(this.sm.sceneData.effect.getValue(this.sm._row).toFixed(1));Math.trunc(this.sm.musicProperties.sceneData.effect)!==Math.trunc(r)&&r>=1?parseInt(r.toString(),10)!==r?this.jump(e+.12*t,t):this.seek(e):e>=0&&r<this.sceneList.length-3?this.jump(e+.12*t,t):this.seek(0)}drawStats(){if(this.tickerPointerRef.style.left=100*this.sm.musicProperties.timeSeconds/this.sm._audio.duration+"%",localStorage.setItem("lastTime",String(this.sm.musicProperties.timeSeconds)),this.sm._syncDevice.connected||this.sm._demoMode){document.getElementById("scene").innerText=this.sm.musicProperties.sceneData.effect.toString(),document.getElementById("time").innerText=this.sm.musicProperties.timeSeconds.toFixed(2);for(const e of this.stats)e.update()}else console.error("Rocket not connected.")}}},90360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasRecorder=void 0;const i=r(10787);t.CanvasRecorder=class{getType(e){const t=(0,i.default)(e);return["mkv"].includes(t)?"video/x-matroska;codecs=avc1":"video/webm"}createCanvasRecorder(e,t={},r){const i=new Date;let o=null;const{filename:s=`Recording ${i.toISOString().slice(0,10)} at ${i.toTimeString().slice(0,8).replace(/:/g,".")}.webm`,frameRate:a=25,download:n=!0,recorderOptions:u={mimeType:"video/x-matroska;codecs=avc1",audioBitsPerSecond:128e3,videoBitsPerSecond:25e5}}={...t},c=u.mimeType||this.getType(s);n&&(o=o||document.createElement("a"),o.download=s);let h=[],l=e.captureStream(a);const f=new AudioContext,d=f.createMediaStreamDestination(),p=f.createMediaElementSource(r);p.connect(d),p.connect(f.destination);const m=d.stream.getAudioTracks()[0];l.addTrack(m);let g=new MediaRecorder(l,{mimeType:c,...u});return g.ondataavailable=e=>{e.data.size&&h.push(e.data)},g.onstop=()=>{if(n&&h.length){const e=new Blob(h,{type:c}),t=URL.createObjectURL(e);o.href=t;const r=new MouseEvent("click");o.dispatchEvent(r),setTimeout((()=>{URL.revokeObjectURL(t)}),1)}},{start(e){h=[],g.start(e)},set filename(e){o.download=e},step(){l.getVideoTracks()[0].requestFrame()},stop:()=>(g.stop(),h),dispose(){g=null,l=null},stream:l,recorder:g}}}},62193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene1=void 0;const i=r(30010);t.Scene1=class{PlaneDeformationFloorScene=new i.PlaneDeformationScene(8,r(63963));init(e){return Promise.all([this.PlaneDeformationFloorScene.init(e)])}render(e,t){this.PlaneDeformationFloorScene.drawPlaneDeformation(e,0,t>>3)}}},24563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene10=void 0;const i=r(25215);t.Scene10=class{MetalHeadzScene;init(e){return this.MetalHeadzScene=new i.MetalHeadzScene,Promise.all([this.MetalHeadzScene.init(e)])}render(e,t){this.MetalHeadzScene.render(e,t)}}},82886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene11=void 0;const i=r(85681);t.Scene11=class{AbstractCube;init(e){return this.AbstractCube=new i.AbstractCube,Promise.all([this.AbstractCube.init(e)])}render(e,t){this.AbstractCube.render(e,t)}}},35334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene12=void 0;const i=r(41030);t.Scene12=class{DofBallsScene;init(e){return this.DofBallsScene=new i.DofBallsScene,Promise.all([this.DofBallsScene.init(e)])}render(e,t){this.DofBallsScene.render(e,t)}}},5827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene13=void 0;const i=r(74766);t.Scene13=class{TorusKnotTunnelScene;init(e){return this.TorusKnotTunnelScene=new i.TorusKnotTunnelScene,Promise.all([this.TorusKnotTunnelScene.init(e)])}render(e,t){this.TorusKnotTunnelScene.render(e,t)}}},10301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene14=void 0;const i=r(65749);t.Scene14=class{GearsScene;init(e){return this.GearsScene=new i.GearsScene,Promise.all([this.GearsScene.init(e)])}render(e,t){this.GearsScene.render(e,t)}}},6332:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene15=void 0;const i=r(7187);t.Scene15=class{BakedLighting;init(e){return this.BakedLighting=new i.BakedLighting,Promise.all([this.BakedLighting.init(e)])}render(e,t){this.BakedLighting.render(e,t)}}},23574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene16=void 0;const i=r(48093);t.Scene16=class{ParticleStreamsScene;init(e){return this.ParticleStreamsScene=new i.ParticleStreamsScene,Promise.all([this.ParticleStreamsScene.init(e)])}render(e,t){this.ParticleStreamsScene.render(e,t)}}},46904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene17=void 0;const i=r(67355);t.Scene17=class{HoodlumScene;init(e){return this.HoodlumScene=new i.HoodlumScene,Promise.all([this.HoodlumScene.init(e)])}render(e,t){this.HoodlumScene.render(e,t)}}},81607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene18=void 0;const i=r(78662);t.Scene18=class{TwisterScene;init(e){return this.TwisterScene=new i.TwisterScene,Promise.all([this.TwisterScene.init(e)])}render(e,t){this.TwisterScene.render(e,t)}}},77171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene19=void 0;const i=r(42749);t.Scene19=class{RazorScene;init(e){return this.RazorScene=new i.RazorScene,Promise.all([this.RazorScene.init(e)])}render(e,t){this.RazorScene.render(e,t)}}},17427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene2=void 0;const i=r(20082);t.Scene2=class{logo;init(e){return Promise.all([i.TextureUtils.load(r(92392),!0).then((e=>this.logo=e))])}render(e,t){e.drawTexture(0,e.height/2-this.logo.height/2|0,this.logo,1)}}},1714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene20=void 0;const i=r(83659);t.Scene20=class{SineScrollerScene;init(e){return this.SineScrollerScene=new i.SineScrollerScene,Promise.all([this.SineScrollerScene.init(e)])}render(e,t){this.SineScrollerScene.render(e,t)}}},44620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene3=void 0;const i=r(20082);t.Scene3=class{logo;background;init(e){return Promise.all([i.TextureUtils.load(r(92392),!0).then((e=>this.background=e)),i.TextureUtils.load(r(90567),!0).then((e=>this.logo=e))])}render(e,t){e.drawTexture(0,e.height/2-this.background.height/2|0,this.background,1),e.drawTexture(e.width/2-this.logo.width/2|0,e.height/2-this.logo.height/2|0,this.logo,1)}}},5765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene4=void 0;const i=r(20082),o=r(11131);t.Scene4=class{pizza;image;PlasmaScene;init(e){return this.PlasmaScene=new o.PlasmaScene,Promise.all([i.TextureUtils.load(r(28426),!0).then((e=>this.pizza=e)),i.TextureUtils.load(r(23809),!0).then((e=>this.image=e)),this.PlasmaScene.init(e)])}render(e,t){this.PlasmaScene.render(e,t),e.drawTexture(50,e.height/2-this.image.height/2|0,this.image,1),e.drawTexture(e.width-this.pizza.width,e.height-this.pizza.height|0,this.pizza,1)}}},50333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene5=void 0;const i=r(40619);t.Scene5=class{TorusScene;init(e){return this.TorusScene=new i.TorusScene,Promise.all([this.TorusScene.init(e)])}render(e,t){this.TorusScene.render(e,t)}}},31599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene6=void 0;const i=r(30010),o=r(16503),s=r(20082);t.Scene6=class{PlaneDeformationScene;DistortedSphereScene;logo;init(e){return this.PlaneDeformationScene=new i.PlaneDeformationScene(3,r(23257)),this.DistortedSphereScene=new o.DistortedSphereScene,Promise.all([this.DistortedSphereScene.init(e),this.PlaneDeformationScene.init(e),s.TextureUtils.load(r(75264),!0).then((e=>this.logo=e))])}render(e,t){this.PlaneDeformationScene.render(e,t),this.DistortedSphereScene.renderTransparent(e,t),e.drawTexture(0,e.height-this.logo.height,this.logo,1)}}},62467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene7=void 0;const i=r(46846),o=r(900),s=r(20082);t.Scene7=class{RotoZoomerScene;CubeScene;logo;init(e){return this.RotoZoomerScene=new i.RotoZoomerScene,this.CubeScene=new o.CubeScene,Promise.all([this.CubeScene.init(e),this.RotoZoomerScene.init(e),s.TextureUtils.load(r(56810),!0).then((e=>this.logo=e))])}render(e,t){this.RotoZoomerScene.render(e,t),this.CubeScene.renderBackground(e,t),e.drawTexture(0,e.height-this.logo.height,this.logo,1)}}},33586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene8=void 0;const i=r(67075),o=r(54645),s=r(20082);t.Scene8=class{VoxelBallsScene;LedPlasmaScene;logo;init(e){return this.VoxelBallsScene=new i.VoxelBallsScene,this.LedPlasmaScene=new o.LedPlasmaScene,Promise.all([this.LedPlasmaScene.init(e),this.VoxelBallsScene.init(e),s.TextureUtils.load(r(56810),!0).then((e=>this.logo=e))])}render(e,t){this.LedPlasmaScene.render(e,t),this.VoxelBallsScene.renderTransparent(e,t)}}},47155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scene9=void 0;const i=r(23150);t.Scene9=class{BlenderCameraScene;init(e){return this.BlenderCameraScene=new i.BlenderCameraScene,Promise.all([this.BlenderCameraScene.init(e)])}render(e,t){e.clearColorBuffer(0),e.clearDepthBuffer(),this.BlenderCameraScene.render(e,t)}}},16503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DistortedSphereScene=void 0;const i=r(93081),o=r(99999),s=r(20082),a=r(97569),n=r(96075),u=r(31829),c=r(27574),h=r(73362);class l extends o.AbstractScene{heightmapSphere;env;obj;texturedRenderingPipeline;init(e){return this.texturedRenderingPipeline=new h.TexturingRenderingPipeline(e),Promise.all([s.TextureUtils.load(r(64046),!1).then((e=>this.heightmapSphere=e)),s.TextureUtils.load(r(60038),!1).then((e=>this.env=e))]).then((()=>{this.obj=this.createSphereDistplaced(this.heightmapSphere)}))}render(e,t){e.clearColorBuffer(u.Color.BLACK.toPackedFormat()),this.renderTransparent(e,t)}renderTransparent(e,t){e.setCullFace(c.CullFace.BACK),e.setTexture(this.env);let r=i.Matrix4f.constructScaleMatrix(3.7,3.7,3.7).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(1e-4*t).multiplyMatrix(i.Matrix4f.constructXRotationMatrix(1e-4*t)));r=i.Matrix4f.constructTranslationMatrix(-0,-0,-10-6*(.5*Math.sin(6e-4*t)+.5)).multiplyMatrix(r),e.clearDepthBuffer(),this.shadingSphereEnvDisp2(e,4e-4*t,r)}createSphere(){const e=[new i.Vector4f(0,-1,0),new i.Vector4f(1,0,0),new i.Vector4f(0,0,1),new i.Vector4f(-1,0,0),new i.Vector4f(0,0,-1),new i.Vector4f(0,1,0)],t=this.divideSphere(e,[0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1],4),r=[],o=[],s=[],a=[],n=[];return t.index.forEach((e=>{const i=t.points[e],o=r.find((e=>e.sub(i).length()<.001));if(o){const e=r.indexOf(o);n.push(e)}else n.push(r.push(i)-1)})),r.forEach((e=>{s.push(new i.Vector4f(0,0,0)),a.push(new i.Vector4f(0,0,0)),o.push(new i.Vector4f(0,0,0))})),{points:r,points2:o,normals:s,normals2:a,index:n}}divideSphere(e,t,r){const i=[],o=[],s=[];let a=0;for(let r=0;r<t.length;r+=3){const n=e[t[r]],u=e[t[r+1]],c=e[t[r+2]],h=u.sub(n).mul(.5).add(n).normalize(),l=c.sub(u).mul(.5).add(u).normalize(),f=n.sub(c).mul(.5).add(c).normalize();i.push(n),i.push(h),i.push(f),o.push(n),o.push(h),o.push(f),s.push(a++),s.push(a++),s.push(a++),i.push(h),i.push(u),i.push(l),o.push(h),o.push(u),o.push(l),s.push(a++),s.push(a++),s.push(a++),i.push(h),i.push(l),i.push(f),o.push(h),o.push(l),o.push(f),s.push(a++),s.push(a++),s.push(a++),i.push(f),i.push(l),i.push(c),o.push(f),o.push(l),o.push(c),s.push(a++),s.push(a++),s.push(a++)}return r>0?this.divideSphere(i,s,--r):{points:i,normals:o,index:s}}createSphereDistplaced(e){const t=this.createSphere(),r=new Array;return t.points.forEach((t=>{const i=t.x,o=t.y,s=t.z,a=Math.floor(255*(.5+Math.atan2(s,i)/(2*Math.PI))),n=Math.floor(255*(.5-Math.asin(o)/Math.PI)),u=1+(255&e.texture[a+256*n])/255*1.4;r.push(t.mul(u))})),t.points=r,t}shadingSphereEnvDisp2(e,t,r){const o=this.obj;for(let e=0;e<o.points.length;e++){const r=o.points[e].z,i=o.points[e].x,s=Math.sqrt(i*i+r*r);let a=4.5*Math.sin(.539*o.points[e].y+.06*Math.max(20-2*s,0)+.9*t);a*=.5*Math.sin(.25*t)+.5,o.points2[e].y=o.points[e].y,o.points2[e].x=o.points[e].x*Math.cos(a)-o.points[e].z*Math.sin(a),o.points2[e].z=o.points[e].x*Math.sin(a)+o.points[e].z*Math.cos(a),o.normals[e].x=0,o.normals[e].y=0,o.normals[e].z=0}const s=o.points2,u=o.index,c=o.normals,h=new i.Vector4f(0,0,0),l=new i.Vector4f(0,0,0),f=new i.Vector4f(0,0,0);for(let e=0;e<u.length;e+=3){const t=s[u[e]],r=s[u[e+1]],i=s[u[e+2]];h.sub2(r,t),l.sub2(i,t),f.cross2(h,l);const o=f;c[u[e]].add2(c[u[e]],o),c[u[e+1]].add2(c[u[e+1]],o),c[u[e+2]].add2(c[u[e+2]],o)}for(let e=0;e<c.length;e++)c[e].normalize2();const d=o.points2,p=o.normals2,m=r.computeNormalMatrix();for(let e=0;e<c.length;e++)m.multiplyHomArr(c[e],p[e]);for(let t=0;t<s.length;t++){const i=r.multiplyHom(s[t]);d[t].x=Math.round(.5*e.width+i.x/(.0078*-i.z)),d[t].y=Math.round(.5*e.height-i.y/(.0078*-i.z)),d[t].z=i.z}const g=new a.Vertex;g.textureCoordinate=new n.TextureCoordinate;const v=new a.Vertex;v.textureCoordinate=new n.TextureCoordinate;const y=new a.Vertex;y.textureCoordinate=new n.TextureCoordinate;const x=new Array(g,v,y);for(let t=0;t<u.length;t+=3){const r=d[u[t]],i=p[u[t]],o=d[u[t+1]],s=p[u[t+1]],a=d[u[t+2]],n=p[u[t+2]];e.isTriangleCCW(r,o,a)&&(x[0].position=r,e.fakeSphere(i,g),x[1].position=o,e.fakeSphere(s,v),x[2].position=a,e.fakeSphere(n,y),r.x<e.minWindow.x||o.x<e.minWindow.x||a.x<e.minWindow.x||r.x>e.maxWindow.x||o.x>e.maxWindow.x||a.x>e.maxWindow.x||r.y<e.minWindow.y||o.y<e.minWindow.y||a.y<e.minWindow.y||r.y>e.maxWindow.y||o.y>e.maxWindow.y||a.y>e.maxWindow.y?this.texturedRenderingPipeline.clipConvexPolygon2(e,x):this.texturedRenderingPipeline.triangleRasterizer.drawTriangleDDA(e,x[0],x[1],x[2]))}}}t.DistortedSphereScene=l},41030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DofBallsScene=void 0;const i=r(7401),o=r(96852),s=r(99999),a=r(18931),n=r(20082);class u extends s.AbstractScene{blurred;particleTexture2;noise;start;accumulationBuffer;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),this.start=Date.now(),Promise.all([n.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e)),n.TextureUtils.load(r(87737),!0).then((e=>this.particleTexture2=e)),n.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),this.drawParticleTorus(e,t,this.particleTexture2,!0);const r=new a.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.6),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}computeDepthBlur(e,t,r,i){let o;return o=i>t?(i-t)/(e-t):(i-t)/(r-t),Math.min(o,1)}drawParticleTorus(e,t,r,s=!1){s||e.clearColorBuffer(-13617080),e.clearDepthBuffer();const a=new Array;for(let e=0;e<50;e++){const r=5.2*Math.cos(e*Math.PI*2/50*3.7+.0016*t),i=.4*(e-25),s=5.2*Math.sin(e*Math.PI*2/50*3.7+.0016*t);a.push(new o.Vector3f(r,i,s))}const n=i.Matrix4f.constructTranslationMatrix(0,0,-12).multiplyMatrix(i.Matrix4f.constructYRotationMatrix(4e-4*t).multiplyMatrix(i.Matrix4f.constructXRotationMatrix(4e-4*t))),u=new Array(a.length);a.forEach((t=>{u.push(e.project(n.multiply(t)))})),u.sort(((e,t)=>e.z-t.z)),u.forEach((t=>{const i=-846.8/t.z,o=Math.round(13*this.computeDepthBlur(0,-15,-70,t.z));e.drawParticle2Sub(t.x-i/2,t.y-i/2,i,i,r,1/t.z,1,o,128)}))}}t.DofBallsScene=u},65749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GearsScene=void 0;const i=r(27574),o=r(7401),s=r(21762),a=r(99999),n=r(18931),u=r(20082),c=r(70518);class h extends a.AbstractScene{blurred;noise;gearsMesh;accumulationBuffer;renderingPipeline;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),this.renderingPipeline=new s.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(i.CullFace.FRONT),Promise.all([c.BlenderLoader.load(r(5549)).then((e=>this.gearsMesh=e)),u.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e)),u.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),this.drawBlenderScene4(e,t);const r=new n.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}drawBlenderScene4(e,t){e.clearDepthBuffer();const r=o.Matrix4f.constructTranslationMatrix(0,0,-21).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(2e-4*t).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(2e-4*t)));let i=.1*2.1*2.1,s=2.1-.09-.09;const a=.5*Math.sin(1e-5*t)+.5;for(let o=1;o<6;o++){i*=s,s-=.09;const n=this.getModelViewMatrix(r,a,i,o,t);this.renderingPipeline.draw(e,this.gearsMesh[0],n)}}getModelViewMatrix(e,t,r,i,s){const a=o.Matrix4f.constructXRotationMatrix(6e-4*s+.7*t*(4-i)).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(5e-4*s+.7*t*(4-i)).multiplyMatrix(o.Matrix4f.constructScaleMatrix(r,r,r)));return e.multiplyMatrix(a)}}t.GearsScene=h},67355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoodlumScene=void 0;const i=r(27574),o=r(93081),s=r(69293),a=r(99999),n=r(72499),u=r(70518),c=r(73362),h=r(21762);class l extends a.AbstractScene{blurred;lab2;noise;particleTexture2;spaceLabMesh;hoodlumLogoMesh;accumulationBuffer;texturedRenderingPipeline;renderingPipeline;init(e){return this.texturedRenderingPipeline=new c.TexturingRenderingPipeline(e),this.renderingPipeline=new h.GouraudShadingRenderingPipeline(e),this.accumulationBuffer=new Uint32Array(e.width*e.height),Promise.all([n.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e)),u.BlenderLoader.loadWithTexture(r(1763)).then((e=>this.spaceLabMesh=e)),u.BlenderLoader.load(r(3754)).then((e=>this.hoodlumLogoMesh=e)),n.TextureUtils.load(r(3363),!1).then((e=>this.lab2=e)),n.TextureUtils.generateProceduralNoise().then((e=>this.noise=e)),this.createProceduralTexture3().then((e=>this.particleTexture2=e))])}render(e,t){this.texturedRenderingPipeline.setCullFace(i.CullFace.BACK),e.setCullFace(i.CullFace.BACK),e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),e.setCullFace(i.CullFace.BACK),e.setTexture(this.lab2),this.drawBlenderScene9(e,t,this.particleTexture2);const r=new n.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}drawBlenderScene9(e,t,r){e.clearDepthBuffer();const i=o.Matrix4f.constructTranslationMatrix(0,0,7*(.5*Math.sin(7e-5*t)+.5)-34).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(.5*(.5*Math.sin(14e-5*t)+.5)-.2).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(2e-4*-t).multiplyMatrix(o.Matrix4f.constructTranslationMatrix(0,1.9,0))));let s=i.multiplyMatrix(o.Matrix4f.constructScaleMatrix(13,13,13));this.texturedRenderingPipeline.setModelViewMatrix(s),this.texturedRenderingPipeline.drawMeshArray(e,this.spaceLabMesh),s=i.multiplyMatrix(o.Matrix4f.constructTranslationMatrix(0,-5.5,0).multiplyMatrix(o.Matrix4f.constructScaleMatrix(413,413,413).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(.5*Math.PI))));const a=this.hoodlumLogoMesh[0];this.renderingPipeline.draw(e,a,s);const n=new Array;for(let r=0;r<10;r++)for(let i=0;i<6;i++){const s=(r+.001*t)%10*2.5-12,a=(1+4*e.interpolate(-10,10,s))*(.5*(.5*Math.sin(.0012*t+2*Math.PI/10*r*2)+.5)+.5),u=a*Math.sin(2*Math.PI/6*i+8e-4*t),c=a*Math.cos(2*Math.PI/6*i+8e-4*t);n.push(new o.Vector3f(u,s,c))}const u=i.multiplyMatrix(o.Matrix4f.constructTranslationMatrix(0,-0,0)),c=new Array(n.length);n.forEach((t=>{const r=e.project(u.multiply(t));c.push(r)})),c.sort(((e,t)=>e.z-t.z)),c.forEach((t=>{const i=192*-4.3/t.z;e.drawSoftParticle(Math.round(t.x-i/2),Math.round(t.y-i/2),Math.round(i),Math.round(i),r,1/t.z,.7)}))}createProceduralTexture3(){return new Promise((e=>{const t=new n.Texture;t.texture=new Uint32Array(65536),(new s.default).setSeed(100);for(let e=0;e<256;e++)for(let r=0;r<256;r++){const i=127-r,o=127-e,s=Math.sqrt(i*i+o*o)/127;let a=1-s;a*=a*a,s>1&&(a=0),a=Math.min(1,2.9*a),t.texture[r+256*e]=15466475|255*a<<24}t.width=256,t.height=256,e(t)}))}}t.HoodlumScene=l},54645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LedPlasmaScene=void 0;const i=r(96852),o=r(99999),s=r(20082);class a extends o.AbstractScene{ledTexture;init(e){return Promise.all([s.TextureUtils.load(r(35918),!1).then((e=>this.ledTexture=e))])}render(e,t){this.led(e,t,this.ledTexture)}led(e,t,r){const o=7e-4*t*1,s=new i.Vector3f(Math.sin(o),Math.cos(o),0),a=new i.Vector3f(20,17.5,0).add(new i.Vector3f(20*Math.sin(1.2*-o),17.5*Math.cos(1.2*-o),0)),n=new i.Vector3f(0,0,0),u=Math.ceil(e.width/8),c=Math.ceil(e.height/8);for(let t=0;t<c;t++)for(let i=0;i<u;i++){const u=.5*(Math.sin(.8*(i*s.x+t*s.y)+o)+1);n.x=i-a.x,n.y=t-a.y;const c=(.5*(.5*(Math.cos(.7*n.length())+1)+u)*15|0)%16;e.drawTextureRectNoAlpha(8*i,8*t,0,8*c,8,8,r)}}}t.LedPlasmaScene=a},54743:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelViewMatrix=void 0;const i=r(93081);t.ModelViewMatrix=class{currtentMatrix;tempMatrix;temp;transformation;constructor(){this.currtentMatrix=new i.Matrix4f,this.tempMatrix=new i.Matrix4f,this.temp=new i.Matrix4f,this.transformation=new i.Matrix4f}getMatrix(){return this.currtentMatrix}setIdentity(){this.currtentMatrix.setIdentityMatrix()}multMatrix(e){this.currtentMatrix=this.currtentMatrix.multiplyMatrix(e)}trans(e,t,r){this.transformation.setTranslationMatrix(e,t,r),this.applyMat()}scal(e,t,r){this.transformation.setScaleMatrix(e,t,r),this.applyMat()}xRotate(e){this.transformation.setXRotationMatrix(e),this.applyMat()}yRotate(e){this.transformation.setYRotationMatrix(e),this.applyMat()}applyMat(){this.tempMatrix.multiply2(this.currtentMatrix,this.transformation),this.temp=this.currtentMatrix,this.currtentMatrix=this.tempMatrix,this.tempMatrix=this.temp}}},25215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetalHeadzScene=void 0;const i=r(27574),o=r(93081),s=r(99999),a=r(84140),n=r(72499),u=r(73362),c=r(70518);class h extends s.AbstractScene{metalheadz;texture11;texture13;noise;dirt;skyBox;blenderObjMetal;accumulationBuffer;texturedRenderingPipeline;init(e){return this.texturedRenderingPipeline=new u.TexturingRenderingPipeline(e),this.accumulationBuffer=new Uint32Array(e.width*e.height),e.setCullFace(i.CullFace.BACK),this.skyBox=new a.SkyBox,Promise.all([this.skyBox.init(),c.BlenderLoader.loadWithTexture(r(49523)).then((e=>this.blenderObjMetal=e)),n.TextureUtils.load(r(7402),!1).then((e=>this.metalheadz=e)),n.TextureUtils.load(r(78618),!0).then((e=>this.texture11=e)),n.TextureUtils.load(r(98889),!0).then((e=>this.texture13=e)),n.TextureUtils.generateProceduralNoise().then((e=>this.noise=e)),n.TextureUtils.load(r(4934),!0).then((e=>this.dirt=e))])}render(e,t){this.texturedRenderingPipeline.setCullFace(i.CullFace.BACK);const r=.2*t;e.clearDepthBuffer();const s=this.computeCameraMovement(r),a=s.multiplyMatrix(o.Matrix4f.constructScaleMatrix(7,7,7));this.skyBox.draw(e,a),e.clearDepthBuffer(),e.setTexture(this.metalheadz);const u=this.texturedRenderingPipeline;u.setModelViewMatrix(a),u.drawMeshArray(e,this.blenderObjMetal);const c=e.project(s.getRotation().multiply(new o.Vector3f(22,40,-18)));e.drawLensFlare(c,1.2*r,[{tex:this.texture11,scale:2.3,alpha:.5},{tex:this.texture13,scale:1.6,alpha:.25},{tex:this.texture13,scale:.7,alpha:.22},{tex:this.texture13,scale:-.4,alpha:.22}],this.dirt);const h=new n.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,h,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}computeCameraMovement(e){return o.Matrix4f.constructTranslationMatrix(0,0,17*(.5*Math.sin(7e-5*e)+.5)-134).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(8e-4*e).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(9e-4*-e).multiplyMatrix(o.Matrix4f.constructTranslationMatrix(0,0,0))))}}t.MetalHeadzScene=h},48093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticleStreamsScene=void 0;const i=r(99999),o=r(93081),s=r(18931),a=r(72499);class n extends i.AbstractScene{blurred;particleTexture2;noise;accumulationBuffer;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),Promise.all([a.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e)),a.TextureUtils.generateProceduralParticleTexture().then((e=>this.particleTexture2=e)),a.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),this.drawParticleStreams(e,t,this.particleTexture2,!0);const r=new s.Texture(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.55),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}drawParticleStreams(e,t,r,i=!1){const s=new Array;for(let e=0;e<50;e++){const r=2.8,i=2.9+3*Math.sin(2*Math.PI*e/50-.002*t);for(let a=0;a<10;a++){const n=(2.1*(e-25)-.008*t)%105+52.5,u=Math.cos(2*Math.PI/10*a+.02*e+5e-4*t)*r+8+i,c=Math.sin(2*Math.PI/10*a+.02*e+5e-4*t)*r;s.push(o.Matrix3f.constructXRotationMatrix(2*Math.PI*e/50-Math.sin(3e-4*t+2*Math.PI*e/50)).multiply(new o.Vector3f(n,u,c)))}}for(let i=0;i<3;i++){const a=o.Matrix4f.constructTranslationMatrix(0,-0,-49).multiplyMatrix(o.Matrix4f.constructZRotationMatrix(.17*Math.PI).multiplyMatrix(o.Matrix4f.constructYRotationMatrix(15e-5*t).multiplyMatrix(o.Matrix4f.constructXRotationMatrix(2*Math.PI/3*i+6e-4*t)))),n=new Array(s.length);s.forEach((t=>{const r=e.project(a.multiply(t));n.push(r)})),n.sort(((e,t)=>e.z-t.z)),n.forEach((t=>{const i=192*-1.3/t.z;t.z<-4&&e.drawParticleNoDepth(Math.round(t.x-i/2),Math.round(t.y-i/2),Math.round(i),Math.round(i),r,e.interpolate(-90,-55,t.z))}))}}}t.ParticleStreamsScene=n},30010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaneDeformationScene=void 0;const i=r(72499),o=r(31829),s=r(80613);t.PlaneDeformationScene=class{effectStyle;texturePath;mLUT;texture;constructor(e,t){this.effectStyle=e,this.texturePath=t}onInit(){}init(e){return Promise.all([i.TextureUtils.load(this.texturePath,!1).then((t=>{this.texture=t,this.createLUT(this.effectStyle,e.width,e.height,this.texture.width,this.texture.height)}))])}createLUT(e,t,r,i,o){this.mLUT=new Int32Array(3*t*r);let a=0,n=0,u=0,c=0;for(let h=0;h<r;h++){const l=2*h/r-1;for(let r=0;r<t;r++){const h=2*r/t-1,f=Math.sqrt(h*h+l*l),d=Math.atan2(l,h),p=f;switch(e){case 1:n=Math.cos(d)/f,u=Math.sin(d)/f,c=2/(6*p+3*h)*-50;break;case 2:u=Math.sin(d+Math.cos(3*p))/Math.pow(p,.2),n=Math.cos(d+Math.cos(3*p))/Math.pow(p,.2),c=1;break;case 3:u=2/(6*p+3*h),n=3*d/Math.PI,c=25*-u;break;case 4:u=-.4/p+.1*Math.sin(8*d),n=.5+.5*d/Math.PI,c=0;break;case 5:n=(.02*l+.03)*Math.cos(3*d)/p,u=(.02*l+.03)*Math.sin(3*d)/p,c=0;break;case 6:n=1/(p+.5+.5*Math.sin(5*d)),u=3*d/Math.PI,c=0;break;case 7:n=.1*h/(.11+.5*p),u=.1*l/(.11+.5*p),c=0;break;case 8:n=h/Math.abs(l),u=1/Math.abs(l),c=40*-u;break;case 9:n=.5*d/Math.PI,u=Math.sin(2*p),c=0;break;case 10:u=Math.pow(p,.1),n=1*d/Math.PI+p,c=0;break;case 11:u=h*(3-Math.sqrt(4-5*p*p))/(p*p+1),n=l*(3-Math.sqrt(4-5*p*p))/(p*p+1),c=-130.9*(h+l+p*p-(h+l-1)*Math.sqrt(4-5*p*p)/3)/(p*p+1);break;default:n=h,u=l,c=0}this.mLUT[a++]=i*n&i-1,this.mLUT[a++]=o*u&o-1,this.mLUT[a++]=s.Utils.clamp(c,-255,255)}}return Promise.all([])}render(e,t){this.drawPlaneDeformation(e,t>>3,t>>3)}drawPlaneDeformation(e,t,r){for(let i=0;i<e.framebuffer.length;i++){const a=(i<<1)+i,n=this.mLUT[a+0]+r,u=this.mLUT[a+1]+t,c=this.mLUT[a+2];let h=this.texture.texture[this.texture.width*(u&this.texture.height-1)+(n&this.texture.width-1)];if(0!==c){let e=255&h,t=h>>8&255,r=h>>16&255;e+=c,t+=c,r+=c,e=s.Utils.clamp(e,0,255),t=s.Utils.clamp(t,0,255),r=s.Utils.clamp(r,0,255),h=new o.Color(e,t,r,255).toPackedFormat()}e.framebuffer[i]=h}}drawOldPlaneDeformationFloor(e,t){let r=0;for(let i=0;i<e.height;i++){const o=i-e.height/2,s=((1/Math.abs(o/100*.02)+.069*t)%256+256)%256,a=1-Math.min(1,1/Math.abs(o/10));for(let t=0;t<e.width;t++){const i=((t-e.width/2)/e.width/Math.abs(o/100*.02)%256+256)%256,n=this.texture.texture[(0|i)+256*(0|s)],u=(n>>0&255)*a|0,c=(n>>8&255)*a|0,h=(n>>16&255)*a|0;e.framebuffer[r++]=u|c<<8|h<<16|255<<24}}}drawOldPlaneDeformationStar(e,t){let r=0;for(let t=0;t<e.height;t++)for(let i=0;i<e.width;i++){const o=(i-e.width/2)/(e.width/2),s=(t-e.height/2)/(e.height/2),a=1,n=Math.atan2(s,o)+4e-4*Date.now(),u=128*(3*n/Math.PI+4e-4*Date.now())%256,c=(1/(Math.sqrt(o*o+s*s)+.5+.5*Math.sin(5*n))*32+.03*Date.now())%256,h=this.texture.texture[(0|c)+256*(0|u)],l=(h>>0&255)*a|0,f=(h>>8&255)*a|0,d=(h>>16&255)*a|0;e.framebuffer[r++]=l|f<<8|d<<16|255<<24}}}},11131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlasmaScene=void 0;const i=r(99999),o=r(93081),s=r(31829);class a extends i.AbstractScene{GRADIENTLEN=1500;SWINGLEN=3*this.GRADIENTLEN;SWINGMAX=this.GRADIENTLEN/2-1;colorGrad;swingCurve;init(e){return this.makeGradient(this.GRADIENTLEN),this.makeSwingCurve(this.SWINGLEN,this.SWINGMAX),Promise.all([])}render(e,t){this.drawPlasma(e,t)}makeSwingCurve(e,t){this.swingCurve=new Array(this.SWINGLEN);const r=t/2;for(let t=0;t<e;t++){const i=t*(2*Math.PI)/e;this.swingCurve[t]=Math.round(Math.cos(2*i)*Math.cos(3*i)*Math.cos(6*i)*r+r)}}makeGradient(e){this.colorGrad=new Array(this.GRADIENTLEN);for(let t=0;t<e;t++){const r=this.cos256(e/2,t+818),i=this.cos256(e/4,t+1095),o=this.cos256(e/4,t+1351);this.colorGrad[t]=new s.Color(r,i,o,255).toPackedFormat()}}cos256(e,t){return Math.trunc(127*Math.cos(t*(2*Math.PI)/e)+127)}swing(e){return this.swingCurve[e%this.SWINGLEN]}gradient(e){return this.colorGrad[e%this.GRADIENTLEN]}drawPlasma(e,t){let r=0;const i=Math.trunc(t>>3),o=this.swing(i);for(let t=0;t<e.height;t++){const s=this.swing(t),a=this.swing(t+i);for(let t=0;t<e.width;t++)e.framebuffer[r++]=this.gradient(this.swing(this.swing(t+o)+a)+this.swing(this.swing(t+i)+s))}}drawOldSchoolPlasma(e,t){const r=7e-4*t*1,i=new o.Vector3f(Math.sin(r),Math.cos(r),0),s=new o.Vector3f(235,115,0).add(new o.Vector3f(235*Math.sin(-r),115*Math.cos(-r),0)),a=new o.Vector3f(0,0,0);let n=0;for(let t=0;t<e.height;t++)for(let o=0;o<e.width;o++){const u=.5*Math.sin(.02*(o*i.x+t*i.y)+r+1);a.x=o-s.x,a.y=t-s.y;const c=.5*(.5*(Math.cos(.03*a.length())+1)+u),h=.5*(Math.cos(Math.PI*c/.5+r)+1)*255,l=.5*(Math.sin(Math.PI*c/.5+r)+1)*255,f=.5*(Math.sin(r)+1)*255;e.framebuffer[n++]=255<<24|f<<16|l<<8|h}}}t.PlasmaScene=a},42749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RazorScene=void 0;const i=r(27574),o=r(24377),s=r(92696),a=r(13802),n=r(21453),u=r(93081),c=r(99999),h=r(72499),l=r(31829),f=r(21762);class d extends c.AbstractScene{texture10;texture11;texture13;dirt;noise;cube;dodecahedron;pyramid;icosahedron;accumulationBuffer;renderingPipeline;init(e){return this.renderingPipeline=new f.GouraudShadingRenderingPipeline(e),this.accumulationBuffer=new Uint32Array(e.width*e.height),this.renderingPipeline.setCullFace(i.CullFace.BACK),this.cube=new o.Cube,this.dodecahedron=new s.Dodecahedron,this.pyramid=new a.Pyramid,this.icosahedron=new n.Sphere(6,10),Promise.all([h.TextureUtils.load(r(83514),!0).then((e=>this.texture10=e)),h.TextureUtils.load(r(52509),!0).then((e=>this.texture11=e)),h.TextureUtils.load(r(57825),!0).then((e=>this.texture13=e)),h.TextureUtils.load(r(65858),!0).then((e=>this.dirt=e)),h.TextureUtils.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){this.reproduceRazorScene(e,.0025*t,[{tex:this.texture10,scale:0,alpha:1},{tex:this.texture11,scale:2.3,alpha:.5},{tex:this.texture13,scale:1.6,alpha:.25},{tex:this.texture13,scale:.7,alpha:.22},{tex:this.texture13,scale:-.4,alpha:.22}],this.dirt);const r=new h.Texture(this.accumulationBuffer,e.width,e.height);e.drawScaledTextureClipBi(0,0,e.width,e.height,r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise,.04)}reproduceRazorScene(e,t,r,i){let o;e.clearColorBuffer(-13617080),e.clearDepthBuffer();const s=u.Matrix4f.constructTranslationMatrix(0,0,-6.4-5*(.5*Math.sin(.06*t)+.5)).multiplyMatrix(u.Matrix4f.constructXRotationMatrix(.5*(.5*Math.sin(.08*t)+.5)).multiplyMatrix(u.Matrix4f.constructYRotationMatrix(.1*t)));let a=2;o=u.Matrix4f.constructYRotationMatrix(.2*t).multiplyMatrix(u.Matrix4f.constructScaleMatrix(a,a,a)),o=u.Matrix4f.constructTranslationMatrix(0,1,0).multiplyMatrix(o.multiplyMatrix(u.Matrix4f.constructXRotationMatrix(.2*-t))),o=s.multiplyMatrix(o);let n=this.dodecahedron.getMesh();this.renderingPipeline.draw(e,n,o);const c=2.8;a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(c,-.5,c).multiplyMatrix(o),o=s.multiplyMatrix(o),n=this.icosahedron.getMesh(),this.renderingPipeline.draw(e,n,o),a=1,o=u.Matrix4f.constructScaleMatrix(.5*a,2*a,.5*a),o=u.Matrix4f.constructTranslationMatrix(-2.8,-.5,c).multiplyMatrix(o),o=s.multiplyMatrix(o),n=this.cube.getMesh(),this.renderingPipeline.draw(e,n,o),a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(c,-1,-2.8).multiplyMatrix(o),o=s.multiplyMatrix(o),n=this.cube.getMesh(),this.renderingPipeline.draw(e,n,o),a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(-2.8,-1,-2.8).multiplyMatrix(o),o=s.multiplyMatrix(o),n=this.pyramid.getMesh(),this.renderingPipeline.draw(e,n,o),this.renderingPipeline.enableLighting(!1),this.renderingPipeline.setColor(l.Color.DARK_GRAY),a=2,o=u.Matrix4f.constructYRotationMatrix(.2*t).multiplyMatrix(u.Matrix4f.constructScaleMatrix(a,a,a)),o=u.Matrix4f.constructTranslationMatrix(0,1,0).multiplyMatrix(o.multiplyMatrix(u.Matrix4f.constructXRotationMatrix(.2*-t))),o=s.multiplyMatrix(u.Matrix4f.constructShadowMatrix(o).multiplyMatrix(o)),this.renderingPipeline.draw(e,this.dodecahedron.getMesh(),o),a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(-2.8,-1,-2.8).multiplyMatrix(o),o=s.multiplyMatrix(u.Matrix4f.constructShadowMatrix(o).multiplyMatrix(o)),this.renderingPipeline.draw(e,this.pyramid.getMesh(),o),a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(c,-1,-2.8).multiplyMatrix(o),o=s.multiplyMatrix(u.Matrix4f.constructShadowMatrix(o).multiplyMatrix(o)),this.renderingPipeline.draw(e,this.cube.getMesh(),o),a=1,o=u.Matrix4f.constructScaleMatrix(.5*a,2*a,.5*a),o=u.Matrix4f.constructTranslationMatrix(-2.8,-.5,c).multiplyMatrix(o),o=s.multiplyMatrix(u.Matrix4f.constructShadowMatrix(o).multiplyMatrix(o)),this.renderingPipeline.draw(e,this.cube.getMesh(),o),a=1,o=u.Matrix4f.constructScaleMatrix(a,a,a),o=u.Matrix4f.constructTranslationMatrix(c,-.5,c).multiplyMatrix(o),o=s.multiplyMatrix(u.Matrix4f.constructShadowMatrix(o).multiplyMatrix(o)),this.renderingPipeline.draw(e,this.icosahedron.getMesh(),o),this.renderingPipeline.enableLighting(!0);const h=e.project(s.multiply(new u.Vector3f(12,4,0)));e.drawLensFlare(h,100*t,r,i)}}t.RazorScene=d},46846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RotoZoomerScene=void 0;const i=r(99999),o=r(72499);class s extends i.AbstractScene{logoTexture;init(e){return Promise.all([o.TextureUtils.load(r(15796),!1).then((e=>this.logoTexture=e))])}render(e,t){this.drawRotoZoomer(e,t)}drawRotoZoomer(e,t){const r=Math.sin(5e-4*t)+1.1,i=Math.sin(3e-4*t)*r,o=Math.cos(3e-4*t)*r,s=o,a=-i;let n=512*Math.sin(2e-4*t),u=512*Math.cos(2e-4*t),c=0,h=0,l=0;for(let t=0;t<e.height;t++){h=u,c=n;for(let t=0;t<e.width;t++)e.framebuffer[l++]=this.logoTexture.texture[(127&h)+128*(127&c)],h+=s,c+=a;u+=i,n+=o}}}t.RotoZoomerScene=s},24624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontRenderer=void 0;const i=r(72499);t.FontRenderer=class{framebuffer;width;height;file;fontTexture;charToIndex;constructor(e,t,r,i,o){this.framebuffer=e,this.width=t,this.height=r,this.file=o,this.charToIndex=new Map;for(let e=0;e<i.length;e++)this.addCharInex(i.charCodeAt(e),e)}init(){return Promise.all([i.TextureUtils.load(this.file,!0).then((e=>this.fontTexture=e))])}draw(){this.framebuffer.drawTextureRectFastAlpha(0,0,0,0,50,50,this.fontTexture)}drawText2(e,t,r){let i=e;const o=this.fontTexture.width/this.width;for(let e=0;e<r.length;e++){const s=r.charCodeAt(e),a=this.charToIndex.has(s)?this.charToIndex.get(s):0,n=Math.floor(a%o)*this.width,u=Math.floor(a/o)*this.height;this.framebuffer.drawTextureRectFastAlpha(i,t,n,u,this.width,this.height,this.fontTexture),i+=this.width}}drawText(e,t,r,i,o,s=!0){let a=t;const n=this.fontTexture.width/this.width,u=Math.floor(.07*o)%this.width,c=Math.floor(.07*o/this.width)%i.length;a-=u;for(let t=0;t<Math.floor(this.framebuffer.width/this.width+1);t++){const u=i.charCodeAt((t+c)%i.length),h=this.charToIndex.has(u)?this.charToIndex.get(u):0,l=Math.floor(h%n)*this.width,f=Math.floor(h/n)*this.height;this.drawTextureRectFastAlpha(e,a,r,l,f,this.width,this.height,this.fontTexture,o,s),a+=this.width}}drawTextureRectFastAlpha(e,t,r,i,o,s,a,n,u,c=!0){const h=Math.max(0,0-t),l=Math.min(t+s,e.width)-t;for(let s=h;s<l;s++){const h=c?Math.round(30*Math.sin(.004*u+.013*(t+s))):0;let l=i+s+o*n.width,f=t+s+(r+h)*e.width;for(let t=0;t<a;t++){const t=n.texture[l];4278190080&t&&(e.framebuffer[f]=t),l+=n.width,f+=this.framebuffer.width}}}addCharInex(e,t){this.charToIndex.set(e,t)}}},83659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SineScrollerScene=void 0;const i=r(31829),o=r(69823),s=r(69293),a=r(99999),n=r(20082),u=r(24624);class c extends a.AbstractScene{texture2;startTime;fontRenderer;fontRenderer2;init(e){return this.startTime=Date.now(),this.fontRenderer=new u.FontRenderer(e,32,34,"ABCDEFGHIJKLMNOPQRSTUVWXYZ@+# 0123456789!'()?-/.,",r(82492)),this.fontRenderer2=new u.FontRenderer(e,16,18,"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789*:?!-(),'.+~<>>#// ",r(65755)),Promise.all([n.TextureUtils.load(r(33520),!0).then((e=>this.texture2=e)),this.fontRenderer.init(),this.fontRenderer2.init()])}render(e,t){this.drawStarField(e,t),e.drawTexture(e.width/2-this.texture2.width/2,0,this.texture2,1),this.fontRenderer.drawText(e,0,102," # TEAM GENESIS # IS BACK IN 2018 WITH A NEW PC FIRST! 'STAR WARS - EMPIRE AT WAR' DO YOU LIKE THIS?    ",t),this.fontRenderer2.drawText(e,0,e.height-20,"   * WE REALLY LOVE SCROLLERS * HOW ABOUT YOU? THIS PRODUCTION IS FROM HOODLUM~< LETS GO ON WITH THE GENERAL BLAH BLAH      ",1.6*t,!1);const r=e.width/16;for(let i=0;i<r;i++){const o=.003*t,s=i/r*.6,a=.5*(Math.cos(Math.PI*s/.5+o)+1)*255,n=.5*(Math.sin(Math.PI*s/.5+o)+1)*255,u=255<<24|.5*(Math.sin(o)+1)*255<<16|n<<8|a;e.drawRect(16*i,68,16,u),e.drawRect(16*(r-1-i),168,16,u)}}drawStarField(e,t){const r=new s.default;r.setSeed(666);const a=new Array,n=new Array;for(let t=0;t<100;t++)a.push(new o.Vector2f(r.getFloat()*e.width,Math.round(100*r.getFloat()+68)));for(let t=0;t<60;t++)n.push(new o.Vector2f(r.getFloat()*e.width,Math.round(100*r.getFloat()+68)));e.clearColorBuffer(-16777216),e.drawRect2(0,68,e.width,100,i.Color.DARK_BLUE.toPackedFormat());for(let r=0;r<100;r++)e.drawPixel((a[r].x+.02*t|0)%e.width,a[r].y,-8355712);for(let r=0;r<60;r++)e.drawPixel((n[r].x+.04*t|0)%e.width,n[r].y,-1)}}t.SineScrollerScene=c},74766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TorusKnotTunnelScene=void 0;const i=r(27574),o=r(96436),s=r(7401),a=r(67552),n=r(99999),u=r(27615),c=r(18931),h=r(20082),l=r(69293),f=r(21762);class d extends n.AbstractScene{noise;particleTexture;cocoon;torusKnot=new o.TorusKnot(!0);fog=new u.LinearFog(-50,-240,new a.Vector4f(.67,.4,.5,1));renderingPipeline;init(e){return this.renderingPipeline=new f.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(i.CullFace.FRONT),this.renderingPipeline.setFog(this.fog),Promise.all([h.TextureUtils.generateProceduralNoise().then((e=>this.noise=e)),h.TextureUtils.load(r(38882),!1).then((e=>this.cocoon=e)),h.TextureUtils.generateProceduralParticleTexture2().then((e=>this.particleTexture=e))])}render(e,t){this.renderingPipeline.setCullFace(i.CullFace.FRONT),this.torusTunnel(e,.019*t,this.particleTexture),e.drawScaledTextureClipAdd(e.width/2-this.cocoon.width/2,e.height/2-this.cocoon.height/2,this.cocoon.width,this.cocoon.height,this.cocoon,.67),this.glitchScreen(e,5*t,this.noise)}glitchScreen(e,t,r,i=!0){const o=.9*Math.sin(2e-5*t)+.1,s=new l.default;s.setSeed(t/250|0);const a=new c.Texture;a.height=e.height,a.width=e.width,a.texture=e.framebuffer;const n=20,u=Math.floor(e.width/n),h=Math.floor(e.height/n);for(let t=0;t<u;t++)for(let r=0;r<h;r++)s.getFloat()>.25||e.drawTextureRect(n*(u-t),n*(u*s.getFloat()|0),n*t,n*r,n,n,a.texture,a.width,.03+.35*o);if(i)for(let i=0;i<u;i++)for(let s=0;s<h;s++)e.drawTextureRect(i*n,s*n,n*(Math.round(t/100+i+s)%12),0,n,n,r.texture,r.width,.1+.3*o);e.fastFramebufferCopy(e.tmpGlitch,e.framebuffer);const f=new l.default;for(let r=0;r<8;r++){let r=Math.round(180*s.getFloat());const i=3+Math.round(20*s.getFloat());f.setSeed(t/250|0);const a=f.getFloat()*o,n=s.getFloat()*o;for(let o=0;o<i;o++){const i=Math.abs(Math.round(25*n)+Math.round(3*f.getFloat())+Math.round(Math.cos(.01*o+.002*t+n)*a*5));let s=r*e.width,u=r*e.width+e.width-i;for(let t=0;t<Math.max(0,i);t++)e.framebuffer[s++]=e.tmpGlitch[u++];u=r*e.width;const c=e.width-i;for(let t=0;t<c;t++)e.framebuffer[s++]=e.tmpGlitch[u++];r++}}}torusTunnel(e,t,r){e.clearDepthBuffer();const i=this.torusFunction3(.02*t),o=this.torusFunction3(.02*t+.4),a=o.sub(i).normalize();let n=i.add(o).normalize();const u=a.cross(n).normalize();n=u.cross(a).normalize();const c=s.Matrix4f.constructIdentityMatrix();c.m14=-i.x,c.m24=-i.y,c.m34=-i.z;const h=s.Matrix4f.constructIdentityMatrix();h.m11=u.x,h.m21=u.y,h.m31=u.z,h.m12=n.x,h.m22=n.y,h.m32=n.z,h.m13=-a.x,h.m23=-a.y,h.m33=-a.z;const l=h.transpose().multiplyMatrix(c);let f=s.Matrix4f.constructScaleMatrix(1,1,1).multiplyMatrix(s.Matrix4f.constructYRotationMatrix(.035*t));f=s.Matrix4f.constructTranslationMatrix(0,0,-10).multiplyMatrix(f.multiplyMatrix(s.Matrix4f.constructXRotationMatrix(.04*t))),f=s.Matrix4f.constructZRotationMatrix(.01*t).multiplyMatrix(l),this.renderingPipeline.draw(e,this.torusKnot.getMesh(),f)}torusFunction3(e){const t=.5*(2+Math.sin(3*e));return new a.Vector4f(t*Math.cos(2*e),t*Math.cos(3*e),t*Math.sin(2*e)).mul(70)}}t.TorusKnotTunnelScene=d},40619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TorusScene=void 0;const i=r(27574),o=r(96107),s=r(7401),a=r(99999),n=r(20082),u=r(21762);class c extends a.AbstractScene{razorLogo;torus=new o.Torus;renderingPipeline;init(e){return this.renderingPipeline=new u.GouraudShadingRenderingPipeline(e),this.renderingPipeline.setCullFace(i.CullFace.BACK),Promise.all([n.TextureUtils.load(r(46957),!0).then((e=>this.razorLogo=e))])}render(e,t){this.drawTitanEffect(e,t),this.shadingTorus(e,.02*t),e.drawTexture(e.width/2-this.razorLogo.width/2,0,this.razorLogo,1)}shadingTorus(e,t){e.clearDepthBuffer();let r=s.Matrix4f.constructYRotationMatrix(.05*t);r=r.multiplyMatrix(s.Matrix4f.constructXRotationMatrix(.08*t)),r=s.Matrix4f.constructTranslationMatrix(0,0,-24).multiplyMatrix(r),this.renderingPipeline.draw(e,this.torus.getMesh(),r)}drawTitanEffect(e,t){e.clear();const r=e.width/20,i=e.height/20;for(let o=0;o<r;o++)for(let r=0;r<i;r++){const i=(Math.sin(.004*t+.7*o+.4*r)+1)/2,s=2*Math.round(8*i+1),a=10-s/2|0,n=255<<24|85*i<<16|55*i<<8|55*i;e.drawBox2(20*o+a,20*r+a,s,s,n)}}}t.TorusScene=c},78662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwisterScene=void 0;const i=r(99999),o=r(20082);class s extends i.AbstractScene{backgroundTexture;logoTexture;init(e){return Promise.all([o.TextureUtils.load(r(66017),!1).then((e=>this.backgroundTexture=e)),o.TextureUtils.load(r(77101),!1).then((e=>this.logoTexture=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.backgroundTexture,1),this.draw(e,this.logoTexture,t)}draw(e,t,r){const i=.001*r;for(let o=10;o<e.height-10;o++){const s=50*Math.sin(i+.01*o)|0,a=Math.sin(.4*i+.0021*o)*Math.PI*2;let n=42;const u=Math.sin(a)*n|0,c=Math.sin(2*Math.PI/4+a)*n|0,h=Math.sin(2*Math.PI/4*2+a)*n|0,l=Math.sin(2*Math.PI/4*3+a)*n|0;if(c>u){n=Math.max(0,Math.sin(2*Math.PI/4*1.5+a));const i=c-u,h=u+120+s;this.drawSpan(e,i,h,o,n,t,r)}if(h>c){n=Math.max(0,Math.sin(2*Math.PI/4*2.5+a));const i=h-c,u=c+120+s;this.drawSpan(e,i,u,o,n,t,r)}if(l>h){n=Math.max(0,Math.sin(2*Math.PI/4*3.5+a));const i=l-h,u=h+120+s;this.drawSpan(e,i,u,o,n,t,r)}if(u>l){n=Math.max(0,Math.sin(2*Math.PI/4*4.5+a));const i=u-l,c=l+120+s;this.drawSpan(e,i,c,o,n,t,r)}}}drawSpan(e,t,r,i,o,s,a){let n=r+i*e.width,u=(255&(i-.029*a|0))*s.width;const c=s.width/t,h=115*Math.pow(o,11);for(let r=0;r<t;r++){const t=s.texture[0|u],r=Math.min((t>>0&255)*o+h,255),i=Math.min((t>>8&255)*o+h,255),a=Math.min((t>>16&255)*o+h,255);e.framebuffer[n]=r|i<<8|a<<16|255<<24,n++,u+=c}}}t.TwisterScene=s},67075:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoxelBallsScene=void 0;const i=r(31829),o=r(27574),s=r(24377),a=r(93081),n=r(21762),u=r(99999),c=r(72499);class h extends u.AbstractScene{static BACKGROUND_COLOR=i.Color.YELLOW.toPackedFormat();renderingPipeline;cubeMesh=new s.Cube;blurred;accumulationBuffer;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),e.setCullFace(o.CullFace.BACK),this.renderingPipeline=new n.GouraudShadingRenderingPipeline(e),Promise.all([c.TextureUtils.load(r(9424),!1).then((e=>this.blurred=e))])}render(e,t){e.fastFramebufferCopy(e.framebuffer,this.blurred.texture),this.renderTransparent(e,t);const r=new c.Texture(this.accumulationBuffer,e.width,e.height);e.drawTextureFullscreen(r,.75),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer)}renderTransparent(e,t){e.clearDepthBuffer();for(let r=0;r<5;r++)for(let i=0;i<5;i++)for(let o=0;o<5;o++){let s=.5*(Math.sin(.3*r+9e-4*t)+1)*(Math.sin(.4*i+.002*t)+1)*.5*(Math.sin(.3*o+.001*t)+1)*.5;s=.8;const n=a.Matrix4f.constructTranslationMatrix(0,0,-11).multiplyMatrix(a.Matrix4f.constructYRotationMatrix(3e-4*t).multiplyMatrix(a.Matrix4f.constructXRotationMatrix(5e-4*t).multiplyMatrix(a.Matrix4f.constructZRotationMatrix(4e-4*t).multiplyMatrix(a.Matrix4f.constructTranslationMatrix(r-2.5+.5,i-2.5+.5,o-2.5+.5).multiplyMatrix(a.Matrix4f.constructScaleMatrix(s,s,s))))));this.renderingPipeline.draw(e,this.cubeMesh.getMesh(),n)}e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer)}}t.VoxelBallsScene=h},72646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullscreenUtils=void 0;class r{static toggleFullscreen(e){this.fullscreen?(r.exitFullscreen(),this.fullscreen=!1,this.setStyle(e,"cursor: zoom-in")):(r.enterFullscreen(e),this.fullscreen=!0,this.setStyle(e,"cursor: none"))}static setStyle(e,t){e.setAttribute("style",e.getAttribute("style")+";"+t)}static enterFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}static exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}static fullscreen=!1}t.FullscreenUtils=r},9941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractGeometricObject=void 0;const i=r(93081);t.AbstractGeometricObject=class{mesh;inverse;buildMesh(e,t,r=!1){this.inverse=r;const o=new Array;for(let r=0;r<t.length;r+=3){const i=e[t[r+1]].sub(e[t[r]]).cross(e[t[r+2]].sub(e[t[r]]));o.push(this.inverse?i.normalize().mul(-1):i.normalize())}const s=new Array;for(let e=0;e<t.length;e+=3)s.push({n1:e/3,n2:e/3,n3:e/3,v1:t[0+e],v2:t[1+e],v3:t[2+e]});this.mesh={points:e,normals:o,faces:s,transformedPoints:e.map((()=>new i.Vector4f(0,0,0,0))),transformedNormals:o.map((()=>new i.Vector4f(0,0,0,0)))}}getMesh(){return this.mesh}}},24377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cube=void 0;const i=r(67552),o=r(9941);class s extends o.AbstractGeometricObject{constructor(){super();const e=.5,t=[new i.Vector4f(-e,-e,-e),new i.Vector4f(e,-e,-e),new i.Vector4f(e,e,-e),new i.Vector4f(-e,e,-e),new i.Vector4f(-e,-e,e),new i.Vector4f(e,-e,e),new i.Vector4f(e,e,e),new i.Vector4f(-e,e,e)];this.buildMesh(t,[0,2,1,0,3,2,5,7,4,5,6,7,1,6,5,1,2,6,4,3,0,4,7,3,4,1,5,4,0,1,3,6,2,3,7,6])}}t.Cube=s},92696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dodecahedron=void 0;const i=r(9941),o=r(67552);class s extends i.AbstractGeometricObject{constructor(){super();const e=.5*(1+Math.sqrt(5)),t=1/e,r=2-e,i=[new o.Vector4f(r,0,1),new o.Vector4f(-r,0,1),new o.Vector4f(-t,t,t),new o.Vector4f(0,1,r),new o.Vector4f(t,t,t),new o.Vector4f(t,-t,t),new o.Vector4f(0,-1,r),new o.Vector4f(-t,-t,t),new o.Vector4f(r,0,-1),new o.Vector4f(-r,0,-1),new o.Vector4f(-t,-t,-t),new o.Vector4f(0,-1,-r),new o.Vector4f(t,-t,-t),new o.Vector4f(t,t,-t),new o.Vector4f(0,1,-r),new o.Vector4f(-t,t,-t),new o.Vector4f(1,r,0),new o.Vector4f(-1,r,0),new o.Vector4f(-1,-r,0),new o.Vector4f(1,-r,0)];this.buildMesh(i,[0,4,1,1,3,2,1,4,3,1,7,0,0,6,5,0,7,6,8,12,9,9,11,10,9,12,11,9,15,8,8,14,13,8,15,14,14,3,13,13,4,16,13,3,4,3,14,2,2,15,17,2,14,15,11,6,10,10,7,18,10,6,7,6,11,5,5,12,19,5,11,12,16,4,19,19,0,5,19,4,0,19,12,16,16,8,13,16,12,8,17,15,18,18,9,10,18,15,9,18,7,17,17,1,2,17,7,1])}}t.Dodecahedron=s},13802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pyramid=void 0;const i=r(67552),o=r(9941);class s extends o.AbstractGeometricObject{constructor(){super();const e=.5,t=(Math.sqrt(5),[new i.Vector4f(0,e,0),new i.Vector4f(e,-e,-e),new i.Vector4f(-e,-e,-e),new i.Vector4f(e,-e,e),new i.Vector4f(-e,-e,e)]);this.buildMesh(t,[0,1,2,0,3,1,0,4,3,0,2,4])}}t.Pyramid=s},21453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sphere=void 0;const i=r(67552),o=r(9941);class s extends o.AbstractGeometricObject{constructor(e=16,t=16){super();const r=[],i=e,o=t;for(let e=0;e<=i;e++)for(let t=0;t<o;t++)r.push(this.sphereFunction(-e*Math.PI/i-Math.PI/2,2*-t*Math.PI/o));const s=[];for(let e=0;e<i;e++)for(let t=0;t<o;t++)s.push(o*e+(1+t)%o),s.push(o*e+(0+t)%o),s.push(o*e+o+(1+t)%o),s.push(o*e+o+(0+t)%o),s.push(o*e+o+(1+t)%o),s.push(o*e+(0+t)%o);this.buildMesh(r,s)}sphereFunction(e,t){return new i.Vector4f(Math.cos(e)*Math.cos(t),Math.cos(e)*Math.sin(t),Math.sin(e),1)}}t.Sphere=s},96107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Torus=void 0;const i=r(67552),o=r(9941),s=r(96852);class a extends o.AbstractGeometricObject{constructor(e=!1){super();const t=[],r=12;this.inverse=e;for(let e=0;e<15;e++){const o=this.torusFunction(2*e*Math.PI/15),a=this.torusFunction(2*e*Math.PI/15+.1),n=new s.Vector3f(0,4,0),u=a.sub(o).cross(n);for(let e=0;e<r;e++){const s=n.mul(Math.sin(2*e*Math.PI/r)).add(u.mul(Math.cos(2*e*Math.PI/r))).add(o);t.push(new i.Vector4f(s.x,s.y,s.z,1))}}const o=[];for(let e=0;e<15;e++)for(let i=0;i<r;i++)o.push((r*e+(1+i)%r)%t.length),o.push((r*e+(0+i)%r)%t.length),o.push((r*e+r+(1+i)%r)%t.length),o.push((r*e+r+(0+i)%r)%t.length),o.push((r*e+r+(1+i)%r)%t.length),o.push((r*e+(0+i)%r)%t.length);this.buildMesh(t,o)}torusFunction(e){return new s.Vector3f(10*Math.sin(e),0,10*Math.cos(e))}}t.Torus=a},96436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TorusKnot=void 0;const i=r(67552),o=r(9941);class s extends o.AbstractGeometricObject{constructor(e=!1){super();const t=[];for(let e=0;e<80;e++){const r=this.torusFunction3(2*e*Math.PI/80),i=this.torusFunction3(2*e*Math.PI/80+.1),o=i.sub(r);let s=r.add(i).normalize();const a=o.cross(s).normalize().mul(26.4);s=a.cross(o).normalize().mul(26.4);for(let e=0;e<8;e++){const i=s.mul(Math.sin(2*e*Math.PI/8)).add(a.mul(Math.cos(2*e*Math.PI/8))).add(r);t.push(i.mul(1))}}const r=[];for(let e=0;e<80;e++)for(let i=0;i<8;i++)r.push((8*e+(1+i)%8)%t.length),r.push((8*e+(0+i)%8)%t.length),r.push((8*e+8+(1+i)%8)%t.length),r.push((8*e+8+(0+i)%8)%t.length),r.push((8*e+8+(1+i)%8)%t.length),r.push((8*e+(0+i)%8)%t.length);this.buildMesh(t,r,e)}torusFunction3(e){const t=.5*(2+Math.sin(3*e));return new i.Vector4f(t*Math.cos(2*e),t*Math.cos(3*e),t*Math.sin(2*e)).mul(70)}}t.TorusKnot=s},47758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComputationalGeometryUtils=void 0;const i=r(93081),o=r(46653);t.ComputationalGeometryUtils=class{computeBoundingSphere(e){if(0===e.length)throw new Error("More than one vertex required.");if(1===e.length)return new o.Sphere(e[0],0);let t=new i.Vector4f(0,0,0,0),r=0;return e.forEach((e=>{t=t.add(new i.Vector4f(e.x,e.y,e.z,0))})),t=t.mul(1/e.length),e.forEach((e=>{r=Math.max(r,t.sub(e).length())})),new o.Sphere(t,r)}}},82328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix3f=void 0;const i=r(96852);class o{m11;m12;m13;m21;m22;m23;m31;m32;m33;static constructXRotationMatrix(e){const t=new o,r=Math.cos(e),i=Math.sin(e);return t.m11=1,t.m12=0,t.m13=0,t.m21=0,t.m22=r,t.m23=-i,t.m31=0,t.m32=i,t.m33=r,t}static constructYRotationMatrix(e){const t=new o;return t.m11=Math.cos(e),t.m12=0,t.m13=Math.sin(e),t.m21=0,t.m22=1,t.m23=0,t.m31=-Math.sin(e),t.m32=0,t.m33=Math.cos(e),t}static constructZRotationMatrix(e){const t=new o;return t.m11=Math.cos(e),t.m12=-Math.sin(e),t.m13=0,t.m21=Math.sin(e),t.m22=Math.cos(e),t.m23=0,t.m31=0,t.m32=0,t.m33=1,t}static constructScaleMatrix(e,t,r){const i=new o;return i.m11=e,i.m12=0,i.m13=0,i.m21=0,i.m22=t,i.m23=0,i.m31=0,i.m32=0,i.m33=r,i}multiplyMatrix(e){const t=new o;return t.m11=this.m11*e.m11+this.m12*e.m21+this.m13*e.m31,t.m21=this.m21*e.m11+this.m22*e.m21+this.m23*e.m31,t.m31=this.m31*e.m11+this.m32*e.m21+this.m33*e.m31,t.m12=this.m11*e.m12+this.m12*e.m22+this.m13*e.m32,t.m22=this.m21*e.m12+this.m22*e.m22+this.m23*e.m32,t.m32=this.m31*e.m12+this.m32*e.m22+this.m33*e.m32,t.m13=this.m11*e.m13+this.m12*e.m23+this.m13*e.m33,t.m23=this.m21*e.m13+this.m22*e.m23+this.m23*e.m33,t.m33=this.m31*e.m13+this.m32*e.m23+this.m33*e.m33,t}multiply(e){return new i.Vector3f(this.m11*e.x+this.m12*e.y+this.m13*e.z,this.m21*e.x+this.m22*e.y+this.m23*e.z,this.m31*e.x+this.m32*e.y+this.m33*e.z)}}t.Matrix3f=o},7401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix4f=void 0;const i=r(96852),o=r(67552);class s{m11;m12;m13;m14;m21;m22;m23;m24;m31;m32;m33;m34;m41;m42;m43;m44;static constructIdentityMatrix(){const e=new s;return e.m11=1,e.m12=0,e.m13=0,e.m14=0,e.m21=0,e.m22=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=0,e.m42=0,e.m43=0,e.m44=1,e}setIdentityMatrix(){this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1}transpose(){const e=new s;return e.m11=this.m11,e.m12=this.m21,e.m13=this.m31,e.m14=this.m41,e.m21=this.m12,e.m22=this.m22,e.m23=this.m32,e.m24=this.m42,e.m31=this.m13,e.m32=this.m23,e.m33=this.m33,e.m34=this.m43,e.m41=this.m14,e.m42=this.m24,e.m43=this.m34,e.m44=this.m44,e}computeNormalMatrix(){return this.inverse().transpose()}inverse(){const e=s.constructIdentityMatrix();e.m14=-this.m14,e.m24=-this.m24,e.m34=-this.m34;const t=1/Math.sqrt(this.m11*this.m11+this.m12*this.m12+this.m13*this.m13),r=1/Math.sqrt(this.m21*this.m21+this.m22*this.m22+this.m23*this.m23),i=1/Math.sqrt(this.m31*this.m31+this.m32*this.m32+this.m33*this.m33),o=s.constructIdentityMatrix();return o.m11=this.m11*t,o.m21=this.m12*t,o.m31=this.m13*t,o.m12=this.m21*r,o.m22=this.m22*r,o.m32=this.m23*r,o.m13=this.m31*i,o.m23=this.m32*i,o.m33=this.m33*i,o.multiplyMatrix(e)}getInverseRotation(){const e=s.constructIdentityMatrix();return e.m11=1*this.m11,e.m21=1*this.m12,e.m31=1*this.m13,e.m12=1*this.m21,e.m22=1*this.m22,e.m32=1*this.m23,e.m13=1*this.m31,e.m23=1*this.m32,e.m33=1*this.m33,e}getRotation(){const e=s.constructIdentityMatrix();return e.m11=this.m11,e.m21=this.m21,e.m31=this.m31,e.m12=this.m12,e.m22=this.m22,e.m32=this.m32,e.m13=this.m13,e.m23=this.m23,e.m33=this.m33,e}static constructShadowMatrix(e){const t=new i.Vector3f(0,-1.5,0),r=new i.Vector3f(0,1,0),o=new i.Vector3f(0,11,0),a=-t.dot(r),n=r.x*o.x+r.y*o.y+r.z*o.z,u=new s;return u.m11=n+a-o.x*r.x,u.m12=-o.x*r.y,u.m13=-o.x*r.z,u.m14=-o.x*a,u.m21=-o.y*r.x,u.m22=n+a-o.y*r.y,u.m23=-o.y*r.z,u.m24=-o.y*a,u.m31=-o.z*r.x,u.m32=-o.z*r.y,u.m33=n+a-o.z*r.z,u.m34=-o.z*a,u.m41=-r.x,u.m42=-r.y,u.m43=-r.z,u.m44=n,u}static constructTranslationMatrix(e,t,r){const i=new s;return i.m11=1,i.m12=0,i.m13=0,i.m14=e,i.m21=0,i.m22=1,i.m23=0,i.m24=t,i.m31=0,i.m32=0,i.m33=1,i.m34=r,i.m41=0,i.m42=0,i.m43=0,i.m44=1,i}setTranslationMatrix(e,t,r){this.m11=1,this.m12=0,this.m13=0,this.m14=e,this.m21=0,this.m22=1,this.m23=0,this.m24=t,this.m31=0,this.m32=0,this.m33=1,this.m34=r,this.m41=0,this.m42=0,this.m43=0,this.m44=1}static constructXRotationMatrix(e){const t=new s;return t.m11=1,t.m12=0,t.m13=0,t.m14=0,t.m21=0,t.m22=Math.cos(e),t.m23=-Math.sin(e),t.m24=0,t.m31=0,t.m32=Math.sin(e),t.m33=Math.cos(e),t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,t}setXRotationMatrix(e){this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=Math.cos(e),this.m23=-Math.sin(e),this.m24=0,this.m31=0,this.m32=Math.sin(e),this.m33=Math.cos(e),this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1}setScaleMatrix(e,t,r){this.m11=e,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=t,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=r,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1}setYRotationMatrix(e){this.m11=Math.cos(e),this.m12=0,this.m13=Math.sin(e),this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=-Math.sin(e),this.m32=0,this.m33=Math.cos(e),this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1}static constructYRotationMatrix(e){const t=new s;return t.m11=Math.cos(e),t.m12=0,t.m13=Math.sin(e),t.m14=0,t.m21=0,t.m22=1,t.m23=0,t.m24=0,t.m31=-Math.sin(e),t.m32=0,t.m33=Math.cos(e),t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,t}static constructZRotationMatrix(e){const t=new s;return t.m11=Math.cos(e),t.m12=-Math.sin(e),t.m13=0,t.m14=0,t.m21=Math.sin(e),t.m22=Math.cos(e),t.m23=0,t.m24=0,t.m31=0,t.m32=0,t.m33=1,t.m34=0,t.m41=0,t.m42=0,t.m43=0,t.m44=1,t}static constructScaleMatrix(e,t=e,r=t){const i=new s;return i.m11=e,i.m12=0,i.m13=0,i.m14=0,i.m21=0,i.m22=t,i.m23=0,i.m24=0,i.m31=0,i.m32=0,i.m33=r,i.m34=0,i.m41=0,i.m42=0,i.m43=0,i.m44=1,i}multiplyMatrix(e){const t=new s;return t.m11=this.m11*e.m11+this.m12*e.m21+this.m13*e.m31+this.m14*e.m41,t.m21=this.m21*e.m11+this.m22*e.m21+this.m23*e.m31+this.m24*e.m41,t.m31=this.m31*e.m11+this.m32*e.m21+this.m33*e.m31+this.m34*e.m41,t.m41=this.m41*e.m11+this.m42*e.m21+this.m43*e.m31+this.m44*e.m41,t.m12=this.m11*e.m12+this.m12*e.m22+this.m13*e.m32+this.m14*e.m42,t.m22=this.m21*e.m12+this.m22*e.m22+this.m23*e.m32+this.m24*e.m42,t.m32=this.m31*e.m12+this.m32*e.m22+this.m33*e.m32+this.m34*e.m42,t.m42=this.m41*e.m12+this.m42*e.m22+this.m43*e.m32+this.m44*e.m42,t.m13=this.m11*e.m13+this.m12*e.m23+this.m13*e.m33+this.m14*e.m43,t.m23=this.m21*e.m13+this.m22*e.m23+this.m23*e.m33+this.m24*e.m43,t.m33=this.m31*e.m13+this.m32*e.m23+this.m33*e.m33+this.m34*e.m43,t.m43=this.m41*e.m13+this.m42*e.m23+this.m43*e.m33+this.m44*e.m43,t.m14=this.m11*e.m14+this.m12*e.m24+this.m13*e.m34+this.m14*e.m44,t.m24=this.m21*e.m14+this.m22*e.m24+this.m23*e.m34+this.m24*e.m44,t.m34=this.m31*e.m14+this.m32*e.m24+this.m33*e.m34+this.m34*e.m44,t.m44=this.m41*e.m14+this.m42*e.m24+this.m43*e.m34+this.m44*e.m44,t}multiply2(e,t){this.m11=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,this.m21=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,this.m31=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,this.m41=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,this.m12=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,this.m22=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,this.m32=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,this.m42=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,this.m13=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,this.m23=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,this.m33=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,this.m43=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,this.m14=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,this.m24=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,this.m34=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,this.m44=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44}multiply(e){return new i.Vector3f(this.m11*e.x+this.m12*e.y+this.m13*e.z+this.m14,this.m21*e.x+this.m22*e.y+this.m23*e.z+this.m24,this.m31*e.x+this.m32*e.y+this.m33*e.z+this.m34)}multiplyHom(e){return new o.Vector4f(this.m11*e.x+this.m12*e.y+this.m13*e.z+this.m14*e.w,this.m21*e.x+this.m22*e.y+this.m23*e.z+this.m24*e.w,this.m31*e.x+this.m32*e.y+this.m33*e.z+this.m34*e.w,this.m41*e.x+this.m42*e.y+this.m43*e.z+this.m44*e.w)}multiplyHomArr(e,t){t.x=this.m11*e.x+this.m12*e.y+this.m13*e.z+this.m14*e.w,t.y=this.m21*e.x+this.m22*e.y+this.m23*e.z+this.m24*e.w,t.z=this.m31*e.x+this.m32*e.y+this.m33*e.z+this.m34*e.w}multiplyHomArr2(e,t){t.x=this.m11*e.x+this.m12*e.y+this.m13*e.z+this.m14*e.w,t.y=this.m21*e.x+this.m22*e.y+this.m23*e.z+this.m24*e.w,t.z=this.m31*e.x+this.m32*e.y+this.m33*e.z+this.m34*e.w,t.w=this.m41*e.x+this.m42*e.y+this.m43*e.z+this.m44*e.w,t.x/=t.w,t.y/=t.w,t.z/=t.w}multiplyArr(e,t){t.x=this.m11*e.x+this.m12*e.y+this.m13*e.z+this.m14,t.y=this.m21*e.x+this.m22*e.y+this.m23*e.z+this.m24,t.z=this.m31*e.x+this.m32*e.y+this.m33*e.z+this.m34}}t.Matrix4f=s},46653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sphere=void 0,t.Sphere=class{center;radius;constructor(e,t){this.center=e,this.radius=t}isInsidePositiveHalfSpace(e){return e.getNormal().dot(this.center)-e.getDistance()>-this.radius}getTran(e){return e.multiplyHom(this.center)}getRadius(){return this.radius}getCenter(){return this.center}}},69823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2f=void 0;class r{x;y;constructor(e,t){this.x=e,this.y=t}perp(){return new r(-this.y,this.x)}sub(e){return new r(this.x-e.x,this.y-e.y)}mul(e){return new r(this.x*e,this.y*e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const e=1/this.length();return this.mul(e)}dot(e){return this.x*e.x+this.y*e.y}}t.Vector2f=r},96852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3f=void 0;class r{x;y;z;constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}mult(e){return new r(this.x*e,this.y*e,this.z*e)}sub(e){return new r(this.x-e.x,this.y-e.y,this.z-e.z)}sub2(e,t){this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z}mul(e){return new r(this.x*e,this.y*e,this.z*e)}add(e){return new r(this.x+e.x,this.y+e.y,this.z+e.z)}add2(e,t){this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z}cross(e){return new r(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}cross2(e,t){this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){const e=1/this.length();return this.mul(e)}normalize2(){const e=1/this.length();this.x*=e,this.y*=e,this.z*=e}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}}t.Vector3f=r},67552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector4f=void 0;class r{x;y;z;w;constructor(e,t,r,i=1){this.x=e,this.y=t,this.z=r,this.w=i}sub(e){return new r(this.x-e.x,this.y-e.y,this.z-e.z,this.w-e.w)}add(e){return new r(this.x+e.x,this.y+e.y,this.z+e.z,this.w+e.w)}cross(e){return new r(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x,0)}normalize(){const e=1/this.length();return this.mul(e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}sub2(e,t){this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z}add2(e,t){this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z}mul(e){return new r(this.x*e,this.y*e,this.z*e,this.w)}componentWiseMul(e){return new r(this.x*e.x,this.y*e.y,this.z*e.z,this.w*e.w)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}cross2(e,t){this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x}normalize2(){const e=1/this.length();this.x*=e,this.y*=e,this.z*=e}}t.Vector4f=r},93081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector2f=t.Matrix4f=t.Matrix3f=t.Vector3f=t.Vector4f=void 0;var i=r(67552);Object.defineProperty(t,"Vector4f",{enumerable:!0,get:function(){return i.Vector4f}});var o=r(96852);Object.defineProperty(t,"Vector3f",{enumerable:!0,get:function(){return o.Vector3f}});var s=r(82328);Object.defineProperty(t,"Matrix3f",{enumerable:!0,get:function(){return s.Matrix3f}});var a=r(7401);Object.defineProperty(t,"Matrix4f",{enumerable:!0,get:function(){return a.Matrix4f}});var n=r(69823);Object.defineProperty(t,"Vector2f",{enumerable:!0,get:function(){return n.Vector2f}})},70518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlenderLoader=void 0;const i=r(15710);t.BlenderLoader=class{static load(e){return fetch(e.default).then((e=>e.json())).then((e=>i.BlenderJsonParser.parse(e)))}static loadWithTexture(e){return fetch(e.default).then((e=>e.json())).then((e=>i.BlenderJsonParser.getBlenderScene(e,!1)))}constructor(){}}},69739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WavefrontLoader=void 0;const i=r(15710),o=r(80602);t.WavefrontLoader=class{static load(e){return fetch(e.default).then((e=>e.text())).then((e=>(0,o.convertToMeshArray)(e))).then((e=>i.BlenderJsonParser.parse(e)))}static loadWithTexture(e){return fetch(e.default).then((e=>e.text())).then((e=>(0,o.convertToMeshArray)(e))).then((e=>i.BlenderJsonParser.getBlenderScene(e)))}constructor(){}}},43611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTriangleRasterizer=void 0,t.AbstractTriangleRasterizer=class{}},312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorInterpolator=void 0;const i=r(31829);t.ColorInterpolator=class{startColor=new i.Color;colorSlope=new i.Color;setup(e,t,r){this.colorSlope.r=(t.r-e.r)/r,this.colorSlope.g=(t.g-e.g)/r,this.colorSlope.b=(t.b-e.b)/r,this.startColor.r=e.r,this.startColor.g=e.g,this.startColor.b=e.b}advance(){this.startColor.r+=this.colorSlope.r,this.startColor.g+=this.colorSlope.g,this.startColor.b+=this.colorSlope.b}}},82406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlatShadingTriangleRasterizer=void 0;const i=r(43611);class o extends i.AbstractTriangleRasterizer{framebuffer;temp=null;slope1;slope2;zslope1;zslope2;curz1;curz2;xPosition;xPosition2;yPosition;constructor(e){super(),this.framebuffer=e}drawTriangleDDA(e,t,r,i){t.projection.y>i.projection.y&&(this.temp=t,t=i,i=this.temp),t.projection.y>r.projection.y&&(this.temp=t,t=r,r=this.temp),r.projection.y>i.projection.y&&(this.temp=r,r=i,i=this.temp),t.projection.y!==i.projection.y&&(r.projection.y===i.projection.y?(r.projection.x>i.projection.x&&(this.temp=r,r=i,i=this.temp),this.fillBottomFlatTriangle(e,t,r,i)):t.projection.y===r.projection.y?(t.projection.x>r.projection.x&&(this.temp=t,t=r,r=this.temp),this.fillTopFlatTriangle(e,t,r,i)):(i.projection.x-t.projection.x)*(r.projection.y-t.projection.y)/(i.projection.y-t.projection.y)+t.projection.x>r.projection.x?this.fillLongRightTriangle(e,t,r,i):this.fillLongLeftTriangle(e,t,r,i))}fillBottomFlatTriangle(e,t,r,i){const o=t.color.toPackedFormat(),s=i.projection.y-t.projection.y;this.slope1=(r.projection.x-t.projection.x)/s,this.slope2=(i.projection.x-t.projection.x)/s,this.zslope1=(1/r.projection.z-1/t.projection.z)/s,this.zslope2=(1/i.projection.z-1/t.projection.z)/s,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,s,o)}fillTopFlatTriangle(e,t,r,i){const o=t.color.toPackedFormat(),s=i.projection.y-t.projection.y;this.slope1=(i.projection.x-t.projection.x)/s,this.slope2=(i.projection.x-r.projection.x)/s,this.zslope1=(1/i.projection.z-1/t.projection.z)/s,this.zslope2=(1/i.projection.z-1/r.projection.z)/s,this.curz1=1/t.projection.z,this.curz2=1/r.projection.z,this.xPosition=t.projection.x,this.xPosition2=r.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,s,o)}fillLongRightTriangle(e,t,r,i){const o=t.color.toPackedFormat();let s=r.projection.y-t.projection.y;const a=i.projection.y-t.projection.y;this.slope1=(r.projection.x-t.projection.x)/s,this.slope2=(i.projection.x-t.projection.x)/a,this.zslope1=(1/r.projection.z-1/t.projection.z)/s,this.zslope2=(1/i.projection.z-1/t.projection.z)/a,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,s,o),s=i.projection.y-r.projection.y,this.slope1=(i.projection.x-r.projection.x)/s,this.zslope1=(1/i.projection.z-1/r.projection.z)/s,this.xPosition=r.projection.x,this.yPosition=r.projection.y,this.drawSpan(e,s,o)}fillLongLeftTriangle(e,t,r,i){const o=t.color.toPackedFormat();let s=r.projection.y-t.projection.y;const a=i.projection.y-t.projection.y;this.slope2=(r.projection.x-t.projection.x)/s,this.slope1=(i.projection.x-t.projection.x)/a,this.zslope2=(1/r.projection.z-1/t.projection.z)/s,this.zslope1=(1/i.projection.z-1/t.projection.z)/a,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,s,o),s=i.projection.y-r.projection.y,this.slope2=(i.projection.x-r.projection.x)/s,this.zslope2=(1/i.projection.z-1/r.projection.z)/s,this.curz2=1/r.projection.z,this.xPosition2=r.projection.x,this.yPosition=r.projection.y,this.drawSpan(e,s,o)}drawSpan(e,t,r){for(let i=0;i<t;i++){const t=this.xPosition2-this.xPosition,i=Math.round(this.curz2-this.curz1)/t;let o=this.curz1;for(let s=0;s<t;s++){const t=Math.round(this.yPosition)*e.width+Math.round(this.xPosition+s);o<e.wBuffer[t]&&(e.wBuffer[t]=o,e.framebuffer[t]=r),o+=i}this.xPosition+=this.slope1,this.xPosition2+=this.slope2,this.yPosition++,this.curz1+=this.zslope1,this.curz2+=this.zslope2}}}t.FlatShadingTriangleRasterizer=o},75110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GouraudShadingTriangleRasterizer=void 0;const i=r(43611),o=r(312);class s extends i.AbstractTriangleRasterizer{framebuffer;temp=null;colorInterpolator1=new o.ColorInterpolator;colorInterpolator2=new o.ColorInterpolator;colorInterpolator3=new o.ColorInterpolator;rowColorInterpolator=new o.ColorInterpolator;slope1;slope2;zslope1;zslope2;curz1;curz2;xPosition;xPosition2;yPosition;constructor(e){super(),this.framebuffer=e}drawTriangleDDA(e,t,r,i){t.projection.y>i.projection.y&&(this.temp=t,t=i,i=this.temp),t.projection.y>r.projection.y&&(this.temp=t,t=r,r=this.temp),r.projection.y>i.projection.y&&(this.temp=r,r=i,i=this.temp),t.projection.y!==i.projection.y&&(r.projection.y===i.projection.y?(r.projection.x>i.projection.x&&(this.temp=r,r=i,i=this.temp),this.fillBottomFlatTriangle(e,t,r,i)):t.projection.y===r.projection.y?(t.projection.x>r.projection.x&&(this.temp=t,t=r,r=this.temp),this.fillTopFlatTriangle(e,t,r,i)):(i.projection.x-t.projection.x)*(r.projection.y-t.projection.y)/(i.projection.y-t.projection.y)+t.projection.x>r.projection.x?this.fillLongRightTriangle(e,t,r,i):this.fillLongLeftTriangle(e,t,r,i))}fillBottomFlatTriangle(e,t,r,i){const o=i.projection.y-t.projection.y;this.slope1=(r.projection.x-t.projection.x)/o,this.slope2=(i.projection.x-t.projection.x)/o,this.colorInterpolator1.setup(t.color,r.color,o),this.colorInterpolator2.setup(t.color,i.color,o),this.zslope1=(1/r.projection.z-1/t.projection.z)/o,this.zslope2=(1/i.projection.z-1/t.projection.z)/o,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,o,this.colorInterpolator1,this.colorInterpolator2)}fillTopFlatTriangle(e,t,r,i){const o=i.projection.y-t.projection.y;this.slope1=(i.projection.x-t.projection.x)/o,this.slope2=(i.projection.x-r.projection.x)/o,this.colorInterpolator1.setup(t.color,i.color,o),this.colorInterpolator2.setup(r.color,i.color,o),this.zslope1=(1/i.projection.z-1/t.projection.z)/o,this.zslope2=(1/i.projection.z-1/r.projection.z)/o,this.curz1=1/t.projection.z,this.curz2=1/r.projection.z,this.xPosition=t.projection.x,this.xPosition2=r.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,o,this.colorInterpolator1,this.colorInterpolator2)}fillLongRightTriangle(e,t,r,i){let o=r.projection.y-t.projection.y;const s=i.projection.y-t.projection.y;this.colorInterpolator1.setup(t.color,r.color,o),this.colorInterpolator2.setup(t.color,i.color,s),this.slope1=(r.projection.x-t.projection.x)/o,this.slope2=(i.projection.x-t.projection.x)/s,this.zslope1=(1/r.projection.z-1/t.projection.z)/o,this.zslope2=(1/i.projection.z-1/t.projection.z)/s,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,o,this.colorInterpolator1,this.colorInterpolator2),o=i.projection.y-r.projection.y,this.colorInterpolator3.setup(r.color,i.color,o),this.slope1=(i.projection.x-r.projection.x)/o,this.zslope1=(1/i.projection.z-1/r.projection.z)/o,this.xPosition=r.projection.x,this.yPosition=r.projection.y,this.drawSpan(e,o,this.colorInterpolator3,this.colorInterpolator2)}fillLongLeftTriangle(e,t,r,i){let o=r.projection.y-t.projection.y;const s=i.projection.y-t.projection.y;this.colorInterpolator2.setup(t.color,r.color,o),this.colorInterpolator1.setup(t.color,i.color,s),this.slope2=(r.projection.x-t.projection.x)/o,this.slope1=(i.projection.x-t.projection.x)/s,this.zslope2=(1/r.projection.z-1/t.projection.z)/o,this.zslope1=(1/i.projection.z-1/t.projection.z)/s,this.curz1=1/t.projection.z,this.curz2=1/t.projection.z,this.xPosition=t.projection.x,this.xPosition2=t.projection.x,this.yPosition=t.projection.y,this.drawSpan(e,o,this.colorInterpolator1,this.colorInterpolator2),o=i.projection.y-r.projection.y,this.colorInterpolator3.setup(r.color,i.color,o),this.slope2=(i.projection.x-r.projection.x)/o,this.zslope2=(1/i.projection.z-1/r.projection.z)/o,this.curz2=1/r.projection.z,this.xPosition2=r.projection.x,this.yPosition=r.projection.y,this.drawSpan(e,o,this.colorInterpolator1,this.colorInterpolator3)}drawSpan(e,t,r,i){for(let o=0;o<t;o++){const t=Math.round(this.xPosition2)-Math.round(this.xPosition);this.rowColorInterpolator.setup(r.startColor,i.startColor,t);let o=Math.round(this.yPosition)*e.width+Math.round(this.xPosition);const s=(this.curz2-this.curz1)/t;let a=this.curz1;for(let r=0;r<t;r++)a<e.wBuffer[o]&&(e.wBuffer[o]=a,e.framebuffer[o]=this.rowColorInterpolator.startColor.toPackedFormat()),o++,a+=s,this.rowColorInterpolator.startColor.r+=this.rowColorInterpolator.colorSlope.r,this.rowColorInterpolator.startColor.g+=this.rowColorInterpolator.colorSlope.g,this.rowColorInterpolator.startColor.b+=this.rowColorInterpolator.colorSlope.b;this.xPosition+=this.slope1,this.xPosition2+=this.slope2,this.yPosition++,r.startColor.r+=r.colorSlope.r,r.startColor.g+=r.colorSlope.g,r.startColor.b+=r.colorSlope.b,i.startColor.r+=i.colorSlope.r,i.startColor.g+=i.colorSlope.g,i.startColor.b+=i.colorSlope.b,this.curz1+=this.zslope1,this.curz2+=this.zslope2}}}t.GouraudShadingTriangleRasterizer=s},882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TexturedAlphaBlendingTriangleRasterizer=void 0;const i=r(96852);t.TexturedAlphaBlendingTriangleRasterizer=class{framebuffer;pipeline;temp=null;constructor(e,t){this.framebuffer=e,this.pipeline=t}drawTriangleDDA(e,t,r,o){if(t.position.y>o.position.y&&(this.temp=t,t=o,o=this.temp),t.position.y>r.position.y&&(this.temp=t,t=r,r=this.temp),r.position.y>o.position.y&&(this.temp=r,r=o,o=this.temp),t.position.y!==o.position.y)if((o.position.x-t.position.x)*(r.position.y-t.position.y)/(o.position.y-t.position.y)+t.position.x>r.position.x)this.fillLongRightTriangle2(e,t,r,o);else{const s=t.textureCoordinate,a=r.textureCoordinate,n=o.textureCoordinate;this.fillLongLeftTriangle2(e,t.position,r.position,o.position,new i.Vector3f(s.u,s.v,0),new i.Vector3f(a.u,a.v,0),new i.Vector3f(n.u,n.v,0))}}fillLongRightTriangle2(e,t,r,i){let o=r.position.y-t.position.y;const s=i.position.y-t.position.y;let a=(r.position.x-t.position.x)/o;const n=(i.position.x-t.position.x)/s;let u=(r.textureCoordinate.u/r.position.z-t.textureCoordinate.u/t.position.z)/o;const c=(i.textureCoordinate.u/i.position.z-t.textureCoordinate.u/t.position.z)/s;let h=(r.textureCoordinate.v/r.position.z-t.textureCoordinate.v/t.position.z)/o;const l=(i.textureCoordinate.v/i.position.z-t.textureCoordinate.v/t.position.z)/s;let f=(1/r.position.z-1/t.position.z)/o;const d=(1/i.position.z-1/t.position.z)/s;let p=1/t.position.z,m=1/t.position.z,g=t.textureCoordinate.u/t.position.z,v=t.textureCoordinate.v/t.position.z,y=t.textureCoordinate.u/t.position.z,x=t.textureCoordinate.v/t.position.z,w=t.position.x,D=t.position.x,b=t.position.y;for(let e=0;e<o;e++){const e=Math.round(D)-Math.round(w);let t=Math.round(b)*this.framebuffer.width+Math.round(w);const r=(m-p)/e,i=(y-g)/e,o=(x-v)/e;let s=p,A=g,E=v;for(let a=0;a<e;a++){const e=this.framebuffer.framebuffer[t];if(s<this.framebuffer.wBuffer[t]){this.framebuffer.wBuffer[t]=s;const r=1/s,i=0|Math.max(Math.min(A*r*this.framebuffer.bob.width,this.framebuffer.bob.width-1),0),o=0|Math.max(Math.min(E*r*this.framebuffer.bob.height,this.framebuffer.bob.height-1),0),a=this.framebuffer.bob.texture[i+o*this.framebuffer.bob.width],n=this.pipeline.alpha*(a>>24&255)/255,u=1-n,c=(e>>0&255)*u+(a>>0&255)*n,h=(e>>8&255)*u+(a>>8&255)*n,l=(e>>16&255)*u+(a>>16&255)*n;this.framebuffer.framebuffer[t]=c|h<<8|l<<16|255<<24}t++,s+=r,A+=i,E+=o}w+=a,D+=n,b++,p+=f,m+=d,g+=u,y+=c,v+=h,x+=l}if(o=i.position.y-r.position.y,0!==o){a=(i.position.x-r.position.x)/o,f=(1/i.position.z-1/r.position.z)/o,u=(i.textureCoordinate.u/i.position.z-r.textureCoordinate.u/r.position.z)/o,h=(i.textureCoordinate.v/i.position.z-r.textureCoordinate.v/r.position.z)/o,p=1/r.position.z,g=r.textureCoordinate.u/r.position.z,v=r.textureCoordinate.v/r.position.z,w=r.position.x,b=r.position.y;for(let e=0;e<o;e++){const e=Math.round(D)-Math.round(w);let t=Math.round(b)*this.framebuffer.width+Math.round(w);const r=(m-p)/e,i=(y-g)/e,o=(x-v)/e;let s=p,A=g,E=v;for(let a=0;a<e;a++){if(s<this.framebuffer.wBuffer[t]){this.framebuffer.wBuffer[t]=s;const e=1/s,r=0|Math.max(Math.min(A*e*this.framebuffer.bob.width,this.framebuffer.bob.width-1),0),i=0|Math.max(Math.min(E*e*this.framebuffer.bob.height,this.framebuffer.bob.height-1),0),o=this.framebuffer.bob.texture[r+i*this.framebuffer.bob.width],a=this.pipeline.alpha*(o>>24&255)/255,n=1-a,u=(this.framebuffer.framebuffer[t]>>0&255)*n+(o>>0&255)*a,c=(this.framebuffer.framebuffer[t]>>8&255)*n+(o>>8&255)*a,h=(this.framebuffer.framebuffer[t]>>16&255)*n+(o>>16&255)*a;this.framebuffer.framebuffer[t]=u|c<<8|h<<16|255<<24}t++,s+=r,A+=i,E+=o}w+=a,D+=n,b++,p+=f,m+=d,g+=u,y+=c,v+=h,x+=l}}}fillLongLeftTriangle2(e,t,r,i,o,s,a){let n=r.y-t.y;const u=i.y-t.y;let c=(r.x-t.x)/n;const h=(i.x-t.x)/u,l=(a.x/i.z-o.x/t.z)/u;let f=(s.x/r.z-o.x/t.z)/n;const d=(a.y/i.z-o.y/t.z)/u;let p=(s.y/r.z-o.y/t.z)/n,m=(1/r.z-1/t.z)/n;const g=(1/i.z-1/t.z)/u;let v=t.x,y=t.x,x=1/t.z,w=1/t.z,D=o.x/t.z,b=o.y/t.z,A=o.x/t.z,E=o.y/t.z,P=t.x,C=t.x,M=t.y;for(let e=0;e<n;e++){const e=Math.round(C)-Math.round(P);let t=Math.round(M)*this.framebuffer.width+Math.round(P);const r=(w-x)/e,i=(A-D)/e,o=(E-b)/e;let s=x,a=D,n=b;for(let u=0;u<e;u++){if(s<this.framebuffer.wBuffer[t]){this.framebuffer.wBuffer[t]=s;const e=1/s,r=0|Math.max(Math.min(a*e*this.framebuffer.bob.width,this.framebuffer.bob.width-1),0),i=0|Math.max(Math.min(n*e*this.framebuffer.bob.height,this.framebuffer.bob.height-1),0),o=this.framebuffer.bob.texture[r+i*this.framebuffer.bob.width],u=this.pipeline.alpha*(o>>24&255)/255,c=1-u,h=(this.framebuffer.framebuffer[t]>>0&255)*c+(o>>0&255)*u,l=(this.framebuffer.framebuffer[t]>>8&255)*c+(o>>8&255)*u,f=(this.framebuffer.framebuffer[t]>>16&255)*c+(o>>16&255)*u;this.framebuffer.framebuffer[t]=h|l<<8|f<<16|255<<24}t++,s+=r,a+=i,n+=o}P+=h,C+=c,M++,v+=h,y+=c,x+=g,w+=m,D+=l,A+=f,b+=d,E+=p}n=i.y-r.y,c=(i.x-r.x)/n,m=(1/i.z-1/r.z)/n,f=(a.x/i.z-s.x/r.z)/n,p=(a.y/i.z-s.y/r.z)/n,y=r.x,w=1/r.z,A=s.x/r.z,E=s.y/r.z,C=r.x,M=r.y;for(let e=0;e<n;e++){const e=Math.round(C)-Math.round(P);let t=Math.round(M)*this.framebuffer.width+Math.round(P);const r=(w-x)/e,i=(A-D)/e,o=(E-b)/e;let s=x,a=D,n=b;for(let u=0;u<e;u++){if(s<this.framebuffer.wBuffer[t]){this.framebuffer.wBuffer[t]=s;const e=1/s,r=0|Math.max(Math.min(a*e*this.framebuffer.bob.width,this.framebuffer.bob.width-1),0),i=0|Math.max(Math.min(n*e*this.framebuffer.bob.height,this.framebuffer.bob.height-1),0),o=this.framebuffer.bob.texture[r+i*this.framebuffer.bob.width],u=this.pipeline.alpha*(o>>24&255)/255,c=1-u,h=(this.framebuffer.framebuffer[t]>>0&255)*c+(o>>0&255)*u,l=(this.framebuffer.framebuffer[t]>>8&255)*c+(o>>8&255)*u,f=(this.framebuffer.framebuffer[t]>>16&255)*c+(o>>16&255)*u;this.framebuffer.framebuffer[t]=h|l<<8|f<<16|255<<24}t++,s+=r,a+=i,n+=o}P+=h,C+=c,M++,v+=h,y+=c,x+=g,w+=m,D+=l,A+=f,b+=d,E+=p}}}},68084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TexturedTriangleRasterizer=void 0;const i=r(96852);t.TexturedTriangleRasterizer=class{framebuffer;temp=null;constructor(e){this.framebuffer=e}drawTriangleDDA(e,t,r,o){if(t.position.y>o.position.y&&(this.temp=t,t=o,o=this.temp),t.position.y>r.position.y&&(this.temp=t,t=r,r=this.temp),r.position.y>o.position.y&&(this.temp=r,r=o,o=this.temp),t.position.y!==o.position.y)if((o.position.x-t.position.x)*(r.position.y-t.position.y)/(o.position.y-t.position.y)+t.position.x>r.position.x)this.fillLongRightTriangle2(e,t,r,o);else{const s=t.textureCoordinate,a=r.textureCoordinate,n=o.textureCoordinate;this.fillLongLeftTriangle2(e,t.position,r.position,o.position,new i.Vector3f(s.u,s.v,0),new i.Vector3f(a.u,a.v,0),new i.Vector3f(n.u,n.v,0))}}fillLongRightTriangle2(e,t,r,i){let o=r.position.y-t.position.y;const s=i.position.y-t.position.y;let a=(r.position.x-t.position.x)/o;const n=(i.position.x-t.position.x)/s;let u=(r.textureCoordinate.u/r.position.z-t.textureCoordinate.u/t.position.z)/o;const c=(i.textureCoordinate.u/i.position.z-t.textureCoordinate.u/t.position.z)/s;let h=(r.textureCoordinate.v/r.position.z-t.textureCoordinate.v/t.position.z)/o;const l=(i.textureCoordinate.v/i.position.z-t.textureCoordinate.v/t.position.z)/s;let f=(1/r.position.z-1/t.position.z)/o;const d=(1/i.position.z-1/t.position.z)/s;let p=1/t.position.z,m=1/t.position.z,g=t.textureCoordinate.u/t.position.z,v=t.textureCoordinate.v/t.position.z,y=t.textureCoordinate.u/t.position.z,x=t.textureCoordinate.v/t.position.z,w=t.position.x,D=t.position.x,b=t.position.y;for(let t=0;t<o;t++){const t=Math.round(D)-Math.round(w);let r=Math.round(b)*e.width+Math.round(w);const i=(m-p)/t,o=(y-g)/t,s=(x-v)/t;let A=p,E=g,P=v;for(let a=0;a<t;a++){if(A<e.wBuffer[r]){e.wBuffer[r]=A;const t=1/A,i=0|Math.max(Math.min(E*t*e.bob.width,e.bob.width-1),0),o=0|Math.max(Math.min(P*t*e.bob.height,e.bob.height-1),0),s=e.bob.texture[i+o*e.bob.width];e.framebuffer[r]=s}r++,A+=i,E+=o,P+=s}w+=a,D+=n,b++,p+=f,m+=d,g+=u,y+=c,v+=h,x+=l}if(o=i.position.y-r.position.y,0!==o){a=(i.position.x-r.position.x)/o,f=(1/i.position.z-1/r.position.z)/o,u=(i.textureCoordinate.u/i.position.z-r.textureCoordinate.u/r.position.z)/o,h=(i.textureCoordinate.v/i.position.z-r.textureCoordinate.v/r.position.z)/o,p=1/r.position.z,g=r.textureCoordinate.u/r.position.z,v=r.textureCoordinate.v/r.position.z,w=r.position.x,b=r.position.y;for(let t=0;t<o;t++){const t=Math.round(D)-Math.round(w);let r=Math.round(b)*e.width+Math.round(w);const i=(m-p)/t,o=(y-g)/t,s=(x-v)/t;let A=p,E=g,P=v;for(let a=0;a<t;a++){if(A<e.wBuffer[r]){e.wBuffer[r]=A;const t=1/A,i=0|Math.max(Math.min(E*t*e.bob.width,e.bob.width-1),0),o=0|Math.max(Math.min(P*t*e.bob.height,e.bob.height-1),0),s=e.bob.texture[i+o*e.bob.width];e.framebuffer[r]=s}r++,A+=i,E+=o,P+=s}w+=a,D+=n,b++,p+=f,m+=d,g+=u,y+=c,v+=h,x+=l}}}fillLongLeftTriangle2(e,t,r,i,o,s,a){let n=r.y-t.y;const u=i.y-t.y;let c=(r.x-t.x)/n;const h=(i.x-t.x)/u,l=(a.x/i.z-o.x/t.z)/u;let f=(s.x/r.z-o.x/t.z)/n;const d=(a.y/i.z-o.y/t.z)/u;let p=(s.y/r.z-o.y/t.z)/n,m=(1/r.z-1/t.z)/n;const g=(1/i.z-1/t.z)/u;let v=t.x,y=t.x,x=1/t.z,w=1/t.z,D=o.x/t.z,b=o.y/t.z,A=o.x/t.z,E=o.y/t.z,P=t.x,C=t.x,M=t.y;for(let t=0;t<n;t++){const t=Math.round(C)-Math.round(P);let r=Math.round(M)*e.width+Math.round(P);const i=(w-x)/t,o=(A-D)/t,s=(E-b)/t;let a=x,n=D,u=b;for(let c=0;c<t;c++){if(a<e.wBuffer[r]){e.wBuffer[r]=a;const t=1/a,i=0|Math.max(Math.min(n*t*e.bob.width,e.bob.width-1),0),o=0|Math.max(Math.min(u*t*e.bob.height,e.bob.height-1),0),s=e.bob.texture[i+o*e.bob.width];e.framebuffer[r]=s}r++,a+=i,n+=o,u+=s}P+=h,C+=c,M++,v+=h,y+=c,x+=g,w+=m,D+=l,A+=f,b+=d,E+=p}n=i.y-r.y,c=(i.x-r.x)/n,m=(1/i.z-1/r.z)/n,f=(a.x/i.z-s.x/r.z)/n,p=(a.y/i.z-s.y/r.z)/n,y=r.x,w=1/r.z,A=s.x/r.z,E=s.y/r.z,C=r.x,M=r.y;for(let t=0;t<n;t++){const t=Math.round(C)-Math.round(P);let r=Math.round(M)*e.width+Math.round(P);const i=(w-x)/t,o=(A-D)/t,s=(E-b)/t;let a=x,n=D,u=b;for(let c=0;c<t;c++){if(a<e.wBuffer[r]){e.wBuffer[r]=a;const t=1/a,i=0|Math.max(Math.min(n*t*e.bob.width,e.bob.width-1),0),o=0|Math.max(Math.min(u*t*e.bob.height,e.bob.height-1),0),s=e.bob.texture[i+o*e.bob.width];e.framebuffer[r]=s}r++,a+=i,n+=o,u+=s}P+=h,C+=c,M++,v+=h,y+=c,x+=g,w+=m,D+=l,A+=f,b+=d,E+=p}}}},66336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineRasterizerDda=void 0,t.LineRasterizerDda=class{framebuffer;constructor(e){this.framebuffer=e}drawLineDDA(e,t,r){const i=t.x-e.x,o=t.y-e.y;let s,a,n;Math.abs(i)>Math.abs(o)?(s=Math.sign(i),a=o/Math.abs(i),n=Math.abs(i)):(s=i/Math.abs(o),a=Math.sign(o),n=Math.abs(o));let u=e.x,c=e.y,h=1/e.z;const l=(1/t.z-1/e.z)/n;for(let e=0;e<=n;e++)h<this.framebuffer.wBuffer[Math.round(u)+Math.round(c)*this.framebuffer.width]&&(this.framebuffer.wBuffer[Math.round(u)+Math.round(c)*this.framebuffer.width]=h,this.framebuffer.drawPixel(Math.round(u),Math.round(c),r)),u+=s,c+=a,h+=l}}},23605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineRasterizerNoZ=void 0,t.LineRasterizerNoZ=class{framebuffer;constructor(e){this.framebuffer=e}drawLineDDANoZ(e,t,r){const i=t.x-e.x,o=t.y-e.y;let s,a,n;Math.abs(i)>Math.abs(o)?(s=Math.sign(i),a=o/Math.abs(i),n=Math.abs(i)):(s=i/Math.abs(o),a=Math.sign(o),n=Math.abs(o));let u=e.x,c=e.y;for(let e=0;e<=n;e++)this.framebuffer.drawPixel(Math.round(u),Math.round(c),r),u+=s,c+=a}}},5787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractRenderingPipeline=void 0;const i=r(27574);t.AbstractRenderingPipeline=class{framebuffer;NEAR_PLANE_Z=-1.7;alpha;cullMode=i.CullFace.BACK;constructor(e){this.framebuffer=e}setCullFace(e){this.cullMode=e}setAlpha(e){this.alpha=Math.max(Math.min(e,1),0)}isInFrontOfNearPlane(e){return e.z<this.NEAR_PLANE_Z}isTriangleCCW(e,t,r){const o=e.x*t.y-t.x*e.y+t.x*r.y-r.x*t.y+r.x*e.y-e.x*r.y;return this.cullMode===i.CullFace.BACK?o<0:o>0}isTriangleCCW2(e,t,r,o){const s=e.x*t.y-t.x*e.y+t.x*r.y-r.x*t.y+r.x*o.y-o.x*r.y+o.x*e.y-e.x*o.y;return this.cullMode===i.CullFace.BACK?s<0:s>0}}},21762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GouraudShadingRenderingPipeline=void 0;const i=r(31829),o=r(93081),s=r(80160),a=r(49166),n=r(65084),u=r(35335),c=r(97569),h=r(5787),l=r(75110);class f extends h.AbstractRenderingPipeline{fog=null;lights=null;material=null;lighting=!0;color=i.Color.WHITE;triangleRasterizer=null;clipper;projectedVertices=new Array(new o.Vector4f(0,0,0,1),new o.Vector4f(0,0,0,1),new o.Vector4f(0,0,0,1));vertexArray=new Array(new c.Vertex,new c.Vertex,new c.Vertex);constructor(e){super(e),this.clipper=new s.SutherlandHodgman2DClipper(e);const t=new n.PointLight;t.ambientIntensity=new o.Vector4f(1,1,1,1),t.diffuseIntensity=new o.Vector4f(1,1,1,1),t.specularIntensity=new o.Vector4f(1,1,1,1),t.position=new o.Vector4f(3,0,-2,1);const r=new n.PointLight;r.ambientIntensity=new o.Vector4f(0,0,1,1),r.diffuseIntensity=new o.Vector4f(0,.6,1,1),r.specularIntensity=new o.Vector4f(.8,.8,.8,1),r.position=new o.Vector4f(0,-380,-180,1),this.lights=[t,r];const i=new u.Material;i.ambientColor=new o.Vector4f(.12,.14,.1,0),i.diffuseColor=new o.Vector4f(.38,.4,.4,1),i.specularColor=new o.Vector4f(.8,.5,.5,0),i.shininess=2,this.material=i,this.triangleRasterizer=new l.GouraudShadingTriangleRasterizer(e)}setFramebuffer(e){this.framebuffer=e}setFog(e){this.fog=e}setLights(e){this.lights=e}enableLighting(e){this.lighting=e}setMaterial(e){this.material=e}setColor(e){this.color=e}draw(e,t,r){const i=r.computeNormalMatrix();for(let e=0;e<t.normals.length;e++)i.multiplyHomArr(t.normals[e],t.transformedNormals[e]);for(let e=0;e<t.points.length;e++)r.multiplyHomArr(t.points[e],t.transformedPoints[e]);for(let r=0;r<t.faces.length;r++){const i=t.transformedPoints[t.faces[r].v1],o=t.transformedPoints[t.faces[r].v2],s=t.transformedPoints[t.faces[r].v3],a=t.transformedNormals[t.faces[r].n1],n=t.transformedNormals[t.faces[r].n2],u=t.transformedNormals[t.faces[r].n3];if(this.isInFrontOfNearPlane(i)&&this.isInFrontOfNearPlane(o)&&this.isInFrontOfNearPlane(s))this.project2(i,this.projectedVertices[0]),this.project2(o,this.projectedVertices[1]),this.project2(s,this.projectedVertices[2]),this.vertexArray[0].position=i,this.vertexArray[0].projection=this.projectedVertices[0],this.vertexArray[0].normal=a,this.vertexArray[1].position=o,this.vertexArray[1].projection=this.projectedVertices[1],this.vertexArray[1].normal=n,this.vertexArray[2].position=s,this.vertexArray[2].projection=this.projectedVertices[2],this.vertexArray[2].normal=u,this.renderConvexPolygon(e,this.vertexArray,!0);else{if(!(this.isInFrontOfNearPlane(i)||this.isInFrontOfNearPlane(o)||this.isInFrontOfNearPlane(s)))continue;{this.vertexArray[0].position=i,this.vertexArray[1].position=o,this.vertexArray[2].position=s,this.lighting?(this.vertexArray[0].color=this.computeColor(a,i),this.vertexArray[1].color=this.computeColor(n,o),this.vertexArray[2].color=this.computeColor(u,s)):(this.vertexArray[0].color=this.color,this.vertexArray[1].color=this.color,this.vertexArray[2].color=this.color);const t=this.zClipTriangle(this.vertexArray);if(t.length<3)return;for(let e=0;e<t.length;e++)t[e].projection=this.project(t[e].position);this.renderConvexPolygon(e,t,!1)}}}}project(e){return new o.Vector4f(Math.round(this.framebuffer.width/2+292*e.x/-e.z),Math.round(this.framebuffer.height/2-292*e.y/-e.z),e.z)}project2(e,t){t.x=Math.round(this.framebuffer.width/2+292*e.x/-e.z),t.y=Math.round(this.framebuffer.height/2-292*e.y/-e.z),t.z=e.z}computeNearPlaneIntersection(e,t){const r=(this.NEAR_PLANE_Z-e.position.z)/(t.position.z-e.position.z),i=new c.Vertex;return i.position=new o.Vector4f(r*(t.position.x-e.position.x)+e.position.x,r*(t.position.y-e.position.y)+e.position.y,this.NEAR_PLANE_Z),i.color=t.color.sub(e.color).mul(r).add(e.color),i}zClipTriangle(e){const t=e,r=new Array;let i=t[t.length-1];for(let e=0;e<t.length;e++){const o=t[e];this.isInFrontOfNearPlane(o.position)?(this.isInFrontOfNearPlane(i.position)||r.push(this.computeNearPlaneIntersection(i,o)),r.push(o)):this.isInFrontOfNearPlane(i.position)&&r.push(this.computeNearPlaneIntersection(i,o)),i=o}return r}renderConvexPolygon(e,t,r=!1){if(3===t.length&&!this.isTriangleCCW(t[0].projection,t[1].projection,t[2].projection))return;if(r&&(this.lighting?(this.vertexArray[0].color=this.computeColor(this.vertexArray[0].normal,this.vertexArray[0].position),this.vertexArray[1].color=this.computeColor(this.vertexArray[1].normal,this.vertexArray[1].position),this.vertexArray[2].color=this.computeColor(this.vertexArray[2].normal,this.vertexArray[2].position)):(this.vertexArray[0].color=this.color,this.vertexArray[1].color=this.color,this.vertexArray[2].color=this.color)),4===t.length&&!this.isTriangleCCW2(t[0].projection,t[1].projection,t[2].projection,t[3].projection))return;const i=this.clipper.clipConvexPolygon(t);i.length<3||this.triangulateConvexPolygon(e,i)}triangulateConvexPolygon(e,t){for(let r=0;r<t.length-2;r++)this.triangleRasterizer.drawTriangleDDA(e,t[0],t[1+r],t[2+r])}computeColor(e,t){let r=(new a.PhongLighting).computeColor(this.material,this.lights,e,t);return null!==this.fog&&(r=this.fog.computeVertexColor(r,t)),new i.Color(Math.min(255,255*r.x),Math.min(255,255*r.y),Math.min(255,255*r.z),255)}}t.GouraudShadingRenderingPipeline=f},73362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TexturingRenderingPipeline=void 0;const i=r(67552),o=r(882),s=r(68084),a=r(96075),n=r(97569),u=r(5787);class c extends u.AbstractRenderingPipeline{triangleRasterizer=null;vertexArray=new Array(new n.Vertex,new n.Vertex,new n.Vertex);modelViewMatrix;projectedVertices=new Array(new i.Vector4f(0,0,0,1),new i.Vector4f(0,0,0,1),new i.Vector4f(0,0,0,1));constructor(e){super(e),this.setAlpha(1),this.triangleRasterizer=new s.TexturedTriangleRasterizer(e)}setFramebuffer(e){this.framebuffer=e}enableAlphaBlending(){this.triangleRasterizer=new o.TexturedAlphaBlendingTriangleRasterizer(this.framebuffer,this)}disableAlphaBlending(){this.triangleRasterizer=new s.TexturedTriangleRasterizer(this.framebuffer)}setModelViewMatrix(e){this.modelViewMatrix=e}drawMeshArray(e,t){for(let r=0;r<t.length;r++){const i=t[r];this.draw(e,i)}}draw(e,t){for(let e=0;e<t.points.length;e++)this.modelViewMatrix.multiplyHomArr(t.points[e],t.points2[e]);for(let r=0;r<t.faces.length;r++){const i=t.points2[t.faces[r].vertices[0]],o=t.points2[t.faces[r].vertices[1]],s=t.points2[t.faces[r].vertices[2]];if(this.isInFrontOfNearPlane(i)&&this.isInFrontOfNearPlane(o)&&this.isInFrontOfNearPlane(s))this.project2(i,this.projectedVertices[0]),this.project2(o,this.projectedVertices[1]),this.project2(s,this.projectedVertices[2]),this.isTriangleCCW(this.projectedVertices[0],this.projectedVertices[1],this.projectedVertices[2])&&(this.vertexArray[0].position=this.projectedVertices[0],this.vertexArray[0].textureCoordinate=t.uv[t.faces[r].uv[0]],this.vertexArray[1].position=this.projectedVertices[1],this.vertexArray[1].textureCoordinate=t.uv[t.faces[r].uv[1]],this.vertexArray[2].position=this.projectedVertices[2],this.vertexArray[2].textureCoordinate=t.uv[t.faces[r].uv[2]],this.clipConvexPolygon2(e,this.vertexArray));else{if(!(this.isInFrontOfNearPlane(i)||this.isInFrontOfNearPlane(o)||this.isInFrontOfNearPlane(s)))continue;this.vertexArray[0].position=i,this.vertexArray[0].textureCoordinate=t.uv[t.faces[r].uv[0]],this.vertexArray[1].position=o,this.vertexArray[1].textureCoordinate=t.uv[t.faces[r].uv[1]],this.vertexArray[2].position=s,this.vertexArray[2].textureCoordinate=t.uv[t.faces[r].uv[2]],this.zClipTriangle2(e,this.vertexArray)}}}project(e){return new i.Vector4f(Math.round(this.framebuffer.width/2+292*e.x/-e.z),Math.round(this.framebuffer.height/2-292*e.y/-e.z),e.z)}project2(e,t){t.x=Math.round(this.framebuffer.width/2+292*e.x/-e.z),t.y=Math.round(this.framebuffer.height/2-292*e.y/-e.z),t.z=e.z}computeNearPlaneIntersection2(e,t){const r=(this.NEAR_PLANE_Z-e.position.z)/(t.position.z-e.position.z),o=new n.Vertex;return o.position=new i.Vector4f(r*(t.position.x-e.position.x)+e.position.x,r*(t.position.y-e.position.y)+e.position.y,this.NEAR_PLANE_Z),o.textureCoordinate=new a.TextureCoordinate(r*(t.textureCoordinate.u-e.textureCoordinate.u)+e.textureCoordinate.u,r*(t.textureCoordinate.v-e.textureCoordinate.v)+e.textureCoordinate.v),o}zClipTriangle2(e,t){const r=t,i=new Array;let o=r[r.length-1];for(let e=0;e<r.length;e++){const t=r[e];this.isInFrontOfNearPlane(t.position)?(this.isInFrontOfNearPlane(o.position)||i.push(this.computeNearPlaneIntersection2(o,t)),i.push(t)):this.isInFrontOfNearPlane(o.position)&&i.push(this.computeNearPlaneIntersection2(o,t)),o=t}if(i.length<3)return;const s=i.map((e=>(e.position=this.project(e.position),e)));(3!==i.length||this.isTriangleCCW(s[0].position,s[1].position,s[2].position))&&(4!==i.length||this.isTriangleCCW2(s[0].position,s[1].position,s[2].position,s[3].position))&&this.clipConvexPolygon2(e,s)}clipConvexPolygon2(e,t){let r=t;for(let t=0;t<e.clipRegion.length;t++){const i=e.clipRegion[t],o=r;r=new Array;let s=o[o.length-1];for(let e=0;e<o.length;e++){const t=o[e];i.isInside2(t)?(i.isInside2(s)||r.push(i.computeIntersection2(s,t)),r.push(t)):i.isInside2(s)&&r.push(i.computeIntersection2(s,t)),s=t}}if(!(r.length<3))for(let t=0;t<r.length-2;t++)this.triangleRasterizer.drawTriangleDDA(e,r[0],r[1+t],r[2+t])}}t.TexturingRenderingPipeline=c},99999:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractScene=void 0,t.AbstractScene=class{init(e){return Promise.all([])}onInit(){}}},91109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractClipEdge=void 0,t.AbstractClipEdge=class{}},56076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BottomClipEdge=void 0;const i=r(93081),o=r(96075),s=r(97569),a=r(91109);class n extends a.AbstractClipEdge{framebuffer;constructor(e){super(),this.framebuffer=e}isInside(e){return e.projection.y>=this.framebuffer.minWindow.y}isInside2(e){return e.position.y>=this.framebuffer.minWindow.y}computeIntersection(e,t){const r=new s.Vertex,o=(this.framebuffer.minWindow.y-e.projection.y)/(t.projection.y-e.projection.y);return r.color=t.color.sub(e.color).mul(o).add(e.color),r.projection=new i.Vector4f(Math.round(e.projection.x+(t.projection.x-e.projection.x)*o),this.framebuffer.minWindow.y,1/(1/e.projection.z+(1/t.projection.z-1/e.projection.z)*o)),r}computeIntersection2(e,t){const r=new s.Vertex;r.position=new i.Vector4f(Math.round(e.position.x+(t.position.x-e.position.x)*(this.framebuffer.minWindow.y-e.position.y)/(t.position.y-e.position.y)),this.framebuffer.minWindow.y,1/(1/e.position.z+(1/t.position.z-1/e.position.z)*(this.framebuffer.minWindow.y-e.position.y)/(t.position.y-e.position.y)));const a=new o.TextureCoordinate,n=r.position.z;return a.u=(e.textureCoordinate.u/e.position.z+(t.textureCoordinate.u/t.position.z-e.textureCoordinate.u/e.position.z)*(this.framebuffer.minWindow.y-e.position.y)/(t.position.y-e.position.y))*n,a.v=(e.textureCoordinate.v/e.position.z+(t.textureCoordinate.v/t.position.z-e.textureCoordinate.v/e.position.z)*(this.framebuffer.minWindow.y-e.position.y)/(t.position.y-e.position.y))*n,r.textureCoordinate=a,r}}t.BottomClipEdge=n},33975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CohenSutherlandLineClipper=void 0;const i=r(96852);class o{framebuffer;static REGION_CODE_CENTER=0;static REGION_CODE_LEFT=1;static REGION_CODE_RIGHT=2;static REGION_CODE_BOTTOM=4;static REGION_CODE_TOP=8;constructor(e){this.framebuffer=e}cohenSutherlandLineClipper(e,t,r){let s=new i.Vector3f(e.x,e.y,e.z),a=new i.Vector3f(t.x,t.y,t.z),n=this.computeRegionCode(s),u=this.computeRegionCode(a),c=!1,h=!1;for(;!h;)if(this.isTrivialAccept(n,u))c=!0,h=!0;else if(this.isTrivialReject(n,u))h=!0;else{if(n===o.REGION_CODE_CENTER){const e=n;n=u,u=e;const t=s;s=a,a=t}(n&o.REGION_CODE_TOP)!==o.REGION_CODE_CENTER?(s.x=s.x+(a.x-s.x)*(this.framebuffer.maxWindow.y-s.y)/(a.y-s.y),s.y=this.framebuffer.maxWindow.y):(n&o.REGION_CODE_BOTTOM)!==o.REGION_CODE_CENTER?(s.x=s.x+(a.x-s.x)*(this.framebuffer.minWindow.y-s.y)/(a.y-s.y),s.y=this.framebuffer.minWindow.y):(n&o.REGION_CODE_RIGHT)!==o.REGION_CODE_CENTER?(s.y=s.y+(a.y-s.y)*(this.framebuffer.maxWindow.x-s.x)/(a.x-s.x),s.x=this.framebuffer.maxWindow.x):(n&o.REGION_CODE_LEFT)!==o.REGION_CODE_CENTER&&(s.y=s.y+(a.y-s.y)*(this.framebuffer.minWindow.x-s.x)/(a.x-s.x),s.x=this.framebuffer.minWindow.x),n=this.computeRegionCode(s)}c&&this.framebuffer.drawLineDDA(s,a,r)}isTrivialAccept(e,t){return(e|t)===o.REGION_CODE_CENTER}isTrivialReject(e,t){return(e&t)!==o.REGION_CODE_CENTER}computeRegionCode(e){let t=o.REGION_CODE_CENTER;return e.x<this.framebuffer.minWindow.x?t|=o.REGION_CODE_LEFT:e.x>this.framebuffer.maxWindow.x&&(t|=o.REGION_CODE_RIGHT),e.y<this.framebuffer.minWindow.y?t|=o.REGION_CODE_BOTTOM:e.y>this.framebuffer.maxWindow.y&&(t|=o.REGION_CODE_TOP),t}}t.CohenSutherlandLineClipper=o},50477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftClipEdge=void 0;const i=r(91109),o=r(96075),s=r(97569),a=r(67552);class n extends i.AbstractClipEdge{framebuffer;constructor(e){super(),this.framebuffer=e}isInside(e){return e.projection.x>=0}isInside2(e){return e.position.x>=0}computeIntersection(e,t){const r=new s.Vertex,i=(this.framebuffer.minWindow.x-e.projection.x)/(t.projection.x-e.projection.x);return r.color=t.color.sub(e.color).mul(i).add(e.color),r.projection=new a.Vector4f(this.framebuffer.minWindow.x,Math.round(e.projection.y+(t.projection.y-e.projection.y)*i),1/(1/e.projection.z+(1/t.projection.z-1/e.projection.z)*i)),r}computeIntersection2(e,t){const r=new s.Vertex;r.position=new a.Vector4f(this.framebuffer.minWindow.x,Math.round(e.position.y+(t.position.y-e.position.y)*(this.framebuffer.minWindow.x-e.position.x)/(t.position.x-e.position.x)),1/(1/e.position.z+(1/t.position.z-1/e.position.z)*(this.framebuffer.minWindow.x-e.position.x)/(t.position.x-e.position.x)));const i=new o.TextureCoordinate,n=r.position.z;return i.u=(e.textureCoordinate.u/e.position.z+(t.textureCoordinate.u/t.position.z-e.textureCoordinate.u/e.position.z)*(this.framebuffer.minWindow.x-e.position.x)/(t.position.x-e.position.x))*n,i.v=(e.textureCoordinate.v/e.position.z+(t.textureCoordinate.v/t.position.z-e.textureCoordinate.v/e.position.z)*(this.framebuffer.minWindow.x-e.position.x)/(t.position.x-e.position.x))*n,r.textureCoordinate=i,r}}t.LeftClipEdge=n},39137:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RightClipEdge=void 0;const i=r(96075),o=r(97569),s=r(91109),a=r(67552);class n extends s.AbstractClipEdge{framebuffer;constructor(e){super(),this.framebuffer=e}isInside(e){return e.projection.x<this.framebuffer.width}isInside2(e){return e.position.x<this.framebuffer.width}computeIntersection(e,t){const r=new o.Vertex,i=(this.framebuffer.maxWindow.x+1-e.projection.x)/(t.projection.x-e.projection.x);return r.color=t.color.sub(e.color).mul(i).add(e.color),r.projection=new a.Vector4f(this.framebuffer.maxWindow.x+1,Math.round(e.projection.y+(t.projection.y-e.projection.y)*i),1/(1/e.projection.z+(1/t.projection.z-1/e.projection.z)*i)),r}computeIntersection2(e,t){const r=new o.Vertex;r.position=new a.Vector4f(this.framebuffer.maxWindow.x+1,Math.round(e.position.y+(t.position.y-e.position.y)*(this.framebuffer.maxWindow.x+1-e.position.x)/(t.position.x-e.position.x)),1/(1/e.position.z+(1/t.position.z-1/e.position.z)*(this.framebuffer.maxWindow.x+1-e.position.x)/(t.position.x-e.position.x)));const s=new i.TextureCoordinate,n=r.position.z;return s.u=(e.textureCoordinate.u/e.position.z+(t.textureCoordinate.u/t.position.z-e.textureCoordinate.u/e.position.z)*(this.framebuffer.maxWindow.x+1-e.position.x)/(t.position.x-e.position.x))*n,s.v=(e.textureCoordinate.v/e.position.z+(t.textureCoordinate.v/t.position.z-e.textureCoordinate.v/e.position.z)*(this.framebuffer.maxWindow.x+1-e.position.x)/(t.position.x-e.position.x))*n,r.textureCoordinate=s,r}}t.RightClipEdge=n},80160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SutherlandHodgman2DClipper=void 0;const i=r(39137),o=r(50477),s=r(56076),a=r(19936);t.SutherlandHodgman2DClipper=class{framebuffer;clipRegion;constructor(e){this.framebuffer=e,this.clipRegion=new Array(new i.RightClipEdge(e),new o.LeftClipEdge(e),new s.BottomClipEdge(e),new a.TopClipEdge(e))}clipConvexPolygon(e){let t=e;for(let e=0;e<this.clipRegion.length;e++){const r=this.clipRegion[e],i=t;t=new Array;let o=i[i.length-1];for(let e=0;e<i.length;e++){const s=i[e];r.isInside(s)?(r.isInside(o)||t.push(r.computeIntersection(o,s)),t.push(s)):r.isInside(o)&&t.push(r.computeIntersection(o,s)),o=s}}return t}}},19936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopClipEdge=void 0;const i=r(93081),o=r(96075),s=r(97569),a=r(91109);class n extends a.AbstractClipEdge{framebuffer;constructor(e){super(),this.framebuffer=e}isInside(e){return e.projection.y<this.framebuffer.maxWindow.y+1}isInside2(e){return e.position.y<this.framebuffer.maxWindow.y+1}computeIntersection(e,t){const r=new s.Vertex,o=(this.framebuffer.maxWindow.y+1-e.projection.y)/(t.projection.y-e.projection.y);return r.color=t.color.sub(e.color).mul(o).add(e.color),r.projection=new i.Vector4f(Math.round(e.projection.x+(t.projection.x-e.projection.x)*o),this.framebuffer.maxWindow.y+1,1/(1/e.projection.z+(1/t.projection.z-1/e.projection.z)*o)),r}computeIntersection2(e,t){const r=new s.Vertex;r.position=new i.Vector4f(Math.round(e.position.x+(t.position.x-e.position.x)*(this.framebuffer.maxWindow.y+1-e.position.y)/(t.position.y-e.position.y)),this.framebuffer.maxWindow.y+1,1/(1/e.position.z+(1/t.position.z-1/e.position.z)*(this.framebuffer.maxWindow.y+1-e.position.y)/(t.position.y-e.position.y)));const a=new o.TextureCoordinate,n=r.position.z;return a.u=(e.textureCoordinate.u/e.position.z+(t.textureCoordinate.u/t.position.z-e.textureCoordinate.u/e.position.z)*(this.framebuffer.maxWindow.y+1-e.position.y)/(t.position.y-e.position.y))*n,a.v=(e.textureCoordinate.v/e.position.z+(t.textureCoordinate.v/t.position.z-e.textureCoordinate.v/e.position.z)*(this.framebuffer.maxWindow.y+1-e.position.y)/(t.position.y-e.position.y))*n,r.textureCoordinate=a,r}}t.TopClipEdge=n},72925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fog=void 0,t.Fog=class{}},27615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinearFog=void 0;const i=r(93081),o=r(72925);class s extends o.Fog{zStart;zEnd;fogColor;constructor(e,t,r){super(),this.zStart=e,this.zEnd=t,this.fogColor=r}computeVertexColor(e,t){if(t.z>=this.zStart)return e;if(t.z<=this.zEnd)return this.fogColor;{const r=(this.zEnd-t.z)/(this.zEnd-this.zStart);return new i.Vector4f(e.x*r+this.fogColor.x*(1-r),e.y*r+this.fogColor.y*(1-r),e.z*r+this.fogColor.z*(1-r))}}}t.LinearFog=s},49166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhongLighting=void 0;const i=r(93081);t.PhongLighting=class{computeColor(e,t,r,o){let s=new i.Vector4f(0,0,0);for(let i=0;i<t.length;i++){const a=t[i],n=this.computeAmbientIntensity(e,a),u=this.computeDiffuseIntensity(e,a,r,o),c=this.computeSpecularIntensity(e,a,r,o);s=s.add(n).add(u).add(c)}return s}computeAmbientIntensity(e,t){return e.ambientColor.componentWiseMul(t.ambientIntensity)}computeDiffuseIntensity(e,t,r,i){const o=t.position.sub(i).normalize(),s=Math.min(Math.max(r.dot(o),0),1);return e.diffuseColor.componentWiseMul(t.diffuseIntensity).mul(s)}computeSpecularIntensity(e,t,r,i){const o=t.position.sub(i).normalize(),s=r.mul(2*r.dot(o)).sub(o),a=i.mul(-1).normalize(),n=Math.pow(Math.max(s.dot(a),0),e.shininess);return e.specularColor.componentWiseMul(t.specularIntensity).mul(n)}}},79866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Light=void 0,t.Light=class{ambientIntensity;diffuseIntensity;specularIntensity}},65084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointLight=void 0;const i=r(79866);class o extends i.Light{position}t.PointLight=o},35335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0,t.Material=class{ambientColor;diffuseColor;specularColor;emissiveColor;shininess}},71227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundManager=void 0,r(89402),r(57151),r(50901),t.SoundManager=class{audioContext;songLengthSeconds;_syncDevice;_audio=new Audio;isPlaying=!1;_demoMode=!0;_row=0;musicProperties;sceneData;constructor(){this._syncDevice=new JSRocket.SyncDevice,this._syncDevice.connected=!1,this.musicProperties={BPM:0,ROWS_PER_BEAT:0,ROW_RATE:0,timeSeconds:0,timeMilliseconds:0,sceneData:{effect:0,transitionType:0,transitionValue:0,snare:0,bass:0}},this.sceneData={effect:null,transitionType:null,transitionValue:null,snare:null,bass:null}}playExtendedModule(e){return fetch(e).then((e=>e.arrayBuffer())).then((t=>{t?(XMPlayer.init(),XMPlayer.load(t),XMPlayer.play()):console.log("unable to load",e)}))}initXM(){XMPlayer.init(),this.audioContext=XMPlayer.audioctx}playOgg(e){return fetch(e).then((e=>e.arrayBuffer())).then((t=>{t?this.audioContext.decodeAudioData(t,(e=>{const t=this.audioContext.createBufferSource();console.info("ogg create buffer"),t.buffer=e,t.connect(this.audioContext.destination),console.info("ogg connect"),t.loop=!0,t.start(this.audioContext.currentTime),console.info("ogg ready")})):console.log("unable to load",e)}))}loadOgg(e){return fetch(e).then((t=>{this._audio.src=e,this._audio.load(),this._audio.preload="auto",this._audio.loop=!0,this._audio.autoplay=!1}))}prepareSync(e,t){return this._demoMode=t,new Promise((t=>{this._demoMode?(this._syncDevice.setConfig({rocketXML:e}),this._syncDevice.init("demo")):this._syncDevice.init(),this._syncDevice.on("ready",(()=>this.onSyncReady())),this._syncDevice.on("update",(e=>this.onSyncUpdate(e))),this._syncDevice.on("play",(()=>this.onPlay())),this._syncDevice.on("pause",(()=>this.onPause())),t()}))}onSyncReady(){this.musicProperties.BPM=120,this.musicProperties.ROWS_PER_BEAT=8,this.musicProperties.ROW_RATE=this.musicProperties.BPM/60*this.musicProperties.ROWS_PER_BEAT,this._syncDevice.connected=!0,this.sceneData.effect=this._syncDevice.getTrack("effect"),this.sceneData.snare=this._syncDevice.getTrack("snare"),this.sceneData.bass=this._syncDevice.getTrack("bass"),this.sceneData.transitionType=this._syncDevice.getTrack("transitionType"),this.sceneData.transitionValue=this._syncDevice.getTrack("transitionValue"),this._audio.onpause=()=>{this.isPlaying=!1},this._audio.onplay=()=>{this.isPlaying=!0}}onSyncUpdate(e){isNaN(e)||(this._row=e),this._audio.currentTime=e/this.musicProperties.ROW_RATE}updateMusic(){(this._syncDevice.connected||this._demoMode)&&(this.musicProperties.timeSeconds=this._audio.currentTime,this.musicProperties.timeMilliseconds=1e3*this.musicProperties.timeSeconds,this._row=this.musicProperties.timeSeconds*this.musicProperties.ROW_RATE,this.musicProperties.sceneData={effect:this.sceneData.effect.getValue(this._row),transitionType:this.sceneData.transitionType.getValue(this._row),transitionValue:this.sceneData.transitionValue.getValue(this._row),snare:this.sceneData.snare.getValue(this._row),bass:this.sceneData.bass.getValue(this._row)},!1===this._audio.paused&&this._syncDevice.update(this._row))}onPlay(){if(console.log("[onPlay]"),this._audio.currentTime=this._row/this.musicProperties.ROW_RATE,!this.isPlaying){const e=this._audio.play();void 0!==e&&e.then((e=>{this.isPlaying=!0})).catch((e=>{}))}}onPause(){console.info("[onPause]"),this._row=this._audio.currentTime*this.musicProperties.ROW_RATE,!this._audio.paused&&this.isPlaying&&this._audio.pause()}}},18931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=void 0,t.Texture=class{texture;width;height;constructor(e,t,r){this.texture=e,this.width=t,this.height=r}getPixel(e,t,r){return e.texture[(255&t)+256*(255&r)]}getBilinearFilteredPixel(e,t){const r=((0|e)%256+256)%256,i=((e+1|0)%256+256)%256,o=((0|t)%256+256)%256,s=((t+1|0)%256+256)%256,a=255&this.getPixel(this,r,o),n=255&this.getPixel(this,i,o),u=255&this.getPixel(this,r,s),c=255&this.getPixel(this,i,s),h=a*(1-(e-Math.floor(e)))+n*(e-Math.floor(e)),l=u*(1-(e-Math.floor(e)))+c*(e-Math.floor(e));return h*(1-(t-Math.floor(t)))+l*(t-Math.floor(t))}getBilinearFilteredPixel2(e,t){const r=Math.min(0|e,this.width-1),i=Math.min(1+(0|e),this.width-1),o=Math.min(0|t,this.height-1),s=Math.min(1+(0|t),this.height-1),a=this.getPixel2(this,r,o),n=this.getPixel2(this,i,o),u=this.getPixel2(this,r,s),c=this.getPixel2(this,i,s);return this.interpolateComp(e,t,255&a,255&n,255&u,255&c)|this.interpolateComp(e,t,a>>8&255,n>>8&255,u>>8&255,c>>8&255)<<8|this.interpolateComp(e,t,a>>16&255,n>>16&255,u>>16&255,c>>16&255)<<16}getPixel2(e,t,r){return this.texture[t+r*this.width]}getPixel3(e,t,r){return this.texture[(t%this.width+this.width)%this.width+(r%this.height+this.height)%this.height*this.width]}interpolateComp(e,t,r,i,o,s){const a=r*(1-(e-Math.floor(e)))+i*(e-Math.floor(e)),n=o*(1-(e-Math.floor(e)))+s*(e-Math.floor(e));return a*(1-(t-Math.floor(t)))+n*(t-Math.floor(t))}}},20082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureUtils=void 0;const i=r(69293),o=r(18931);t.TextureUtils=class{static generateProceduralNoise(){return new Promise((e=>{const t=new o.Texture;t.texture=new Uint32Array(65536);const r=new i.default;r.setSeed(100);for(let e=0;e<65536;e++){const i=r.getFloat();t.texture[e]=200*i|255*i<<8|205*i<<16|255<<24}t.width=256,t.height=256,e(t)}))}static generateProceduralParticleTexture(){return new Promise((e=>{const t=new o.Texture;t.texture=new Uint32Array(65536),(new i.default).setSeed(100);for(let e=0;e<256;e++)for(let r=0;r<256;r++){const i=127-r,o=127-e,s=Math.sqrt(i*i+o*o)/127;let a=1-s;a*=a*a,s>1&&(a=0),a=Math.min(1,2.9*a),t.texture[r+256*e]=15466475|255*a<<24}t.width=256,t.height=256,e(t)}))}static generateProceduralParticleTexture2(){return new Promise((e=>{const t=new o.Texture;t.texture=new Uint32Array(65536),(new i.default).setSeed(100);for(let e=0;e<256;e++)for(let r=0;r<256;r++){const i=127-r,o=127-e,s=Math.sqrt(i*i+o*o)/127;let a=1-s;a*=a,s>1&&(a=0),a=Math.min(1,40*a),t.texture[r+256*e]=16764415|255*a<<24}t.width=256,t.height=256,e(t)}))}static load(e,t){return new Promise((r=>{const i=new Image;i.onload=()=>{const e=new o.Texture;e.texture=this.getImageData(i,t),e.width=i.width,e.height=i.height,r(e)},i.onerror=()=>r(),i.src=e.default}))}static getImageData(e,t=!1){const r=document.createElement("canvas");r.width=e.width,r.height=e.height;const i=r.getContext("2d");i.drawImage(e,0,0);const o=i.getImageData(0,0,e.width,e.height).data,s=new Uint32Array(o.length/4);let a=0;for(let e=0;e<o.length;e+=4)s[a]=t?o[e+3]<<24|o[e+2]<<16|o[e+1]<<8|o[e+0]:255<<24|o[e+2]<<16|o[e+1]<<8|o[e+0],a++;return s}}},72499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureUtils=t.Texture=void 0;var i=r(18931);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return i.Texture}});var o=r(20082);Object.defineProperty(t,"TextureUtils",{enumerable:!0,get:function(){return o.TextureUtils}})},60540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,o=1;o<i;++o)t[o]=t[o].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function s(e){var i="[A-Za-z]",o="[0-9]",s=t(o,"[A-Fa-f]"),a=r(r("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+r("%[89A-Fa-f]"+s+"%"+s+s)+"|"+r("%"+s+s)),n="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",n),c=e?"[\\uE000-\\uF8FF]":"[]",h=t(i,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=r(i+t(i,o,"[\\+\\-\\.]")+"*"),f=r(r(a+"|"+t(h,n,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+o),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+o)),p=r(d+"\\."+d+"\\."+d+"\\."+d),m=r(s+"{1,4}"),g=r(r(m+"\\:"+m)+"|"+p),v=r(r(m+"\\:")+"{6}"+g),y=r("\\:\\:"+r(m+"\\:")+"{5}"+g),x=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+g),w=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+g),D=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+g),b=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),A=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),E=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),P=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),C=r([v,y,x,w,D,b,A,E,P].join("|")),M=r(r(h+"|"+a)+"+"),F=(r(C+"\\%25"+M),r(C+r("\\%25|\\%(?!"+s+"{2})")+M)),S=r("[vV]"+s+"+\\."+t(h,n,"[\\:]")+"+"),B=r("\\["+r(F+"|"+C+"|"+S)+"\\]"),_=r(r(a+"|"+t(h,n))+"*"),I=r(B+"|"+p+"(?!"+_+")|"+_),j=r("[0-9]*"),R=r(r(f+"@")+"?"+I+r("\\:"+j)+"?"),T=r(a+"|"+t(h,n,"[\\:\\@]")),z=r(T+"*"),O=r(T+"+"),k=r(r(a+"|"+t(h,n,"[\\@]"))+"+"),$=r(r("\\/"+z)+"*"),V=r("\\/"+r(O+$)+"?"),N=r(k+$),L=r(O+$),U="(?!"+T+")",q=(r($+"|"+V+"|"+N+"|"+L+"|"+U),r(r(T+"|"+t("[\\/\\?]",c))+"*")),Q=r(r(T+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+R+$)+"|"+V+"|"+L+"|"+U),G=r(l+"\\:"+W+r("\\?"+q)+"?"+r("\\#"+Q)+"?"),H=r(r("\\/\\/"+R+$)+"|"+V+"|"+N+"|"+U),K=r(H+r("\\?"+q)+"?"+r("\\#"+Q)+"?");return r(G+"|"+K),r(l+"\\:"+W+r("\\?"+q)+"?"),r(r("\\/\\/("+r("("+f+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+$+"|"+V+"|"+L+"|"+U+")"),r("\\?("+q+")"),r("\\#("+Q+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+$+"|"+V+"|"+N+"|"+U+")"),r("\\?("+q+")"),r("\\#("+Q+")"),r(r("\\/\\/("+r("("+f+")@")+"?("+I+")"+r("\\:("+j+")")+"?)")+"?("+$+"|"+V+"|"+L+"|"+U+")"),r("\\?("+q+")"),r("\\#("+Q+")"),r("("+f+")@"),r("\\:("+j+")"),{NOT_SCHEME:new RegExp(t("[^]",i,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",h,n),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",h,n),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",h,n),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",h,n),"g"),NOT_QUERY:new RegExp(t("[^\\%]",h,n,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",h,n,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",h,n),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",h,u),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+C+")"+r(r("\\%25|\\%(?!"+s+"{2})")+"("+M+")")+"?\\]?$")}}var a=s(!1),n=s(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,o=!1,s=void 0;try{for(var a,n=e[Symbol.iterator]();!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){o=!0,s=e}finally{try{!i&&n.return&&n.return()}finally{if(o)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,h=36,l=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(p[e])}function y(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+function(e,t){for(var r=[],i=e.length;i--;)r[i]=t(e[i]);return r}((e=e.replace(d,".")).split("."),t).join(".")}function x(e){for(var t=[],r=0,i=e.length;r<i;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<i){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&o)<<10)+(1023&s)+65536):(t.push(o),r--)}else t.push(o)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},D=function(e,t,r){var i=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;i+=h)e=m(e/35);return m(i+36*e/(e+38))},b=function(e){var t,r=[],i=e.length,o=0,s=128,a=72,n=e.lastIndexOf("-");n<0&&(n=0);for(var u=0;u<n;++u)e.charCodeAt(u)>=128&&v("not-basic"),r.push(e.charCodeAt(u));for(var l=n>0?n+1:0;l<i;){for(var f=o,d=1,p=h;;p+=h){l>=i&&v("invalid-input");var g=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:h;(g>=h||g>m((c-o)/d))&&v("overflow"),o+=g*d;var y=p<=a?1:p>=a+26?26:p-a;if(g<y)break;var x=h-y;d>m(c/x)&&v("overflow"),d*=x}var w=r.length+1;a=D(o-f,w,0==f),m(o/w)>c-s&&v("overflow"),s+=m(o/w),o%=w,r.splice(o++,0,s)}return String.fromCodePoint.apply(String,r)},A=function(e){var t=[],r=(e=x(e)).length,i=128,o=0,s=72,a=!0,n=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=l.value;d<128&&t.push(g(d))}}catch(e){n=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(n)throw u}}var p=t.length,y=p;for(p&&t.push("-");y<r;){var b=c,A=!0,E=!1,P=void 0;try{for(var C,M=e[Symbol.iterator]();!(A=(C=M.next()).done);A=!0){var F=C.value;F>=i&&F<b&&(b=F)}}catch(e){E=!0,P=e}finally{try{!A&&M.return&&M.return()}finally{if(E)throw P}}var S=y+1;b-i>m((c-o)/S)&&v("overflow"),o+=(b-i)*S,i=b;var B=!0,_=!1,I=void 0;try{for(var j,R=e[Symbol.iterator]();!(B=(j=R.next()).done);B=!0){var T=j.value;if(T<i&&++o>c&&v("overflow"),T==i){for(var z=o,O=h;;O+=h){var k=O<=s?1:O>=s+26?26:O-s;if(z<k)break;var $=z-k,V=h-k;t.push(g(w(k+$%V,0))),z=m($/V)}t.push(g(w(z,0))),s=D(o,S,y==p),o=0,++y}}}catch(e){_=!0,I=e}finally{try{!B&&R.return&&R.return()}finally{if(_)throw I}}++o,++i}return t.join("")},E=function(e){return y(e,(function(e){return f.test(e)?"xn--"+A(e):e}))},P=function(e){return y(e,(function(e){return l.test(e)?b(e.slice(4).toLowerCase()):e}))},C={};function M(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function F(e){for(var t="",r=0,i=e.length;r<i;){var o=parseInt(e.substr(r+1,2),16);if(o<128)t+=String.fromCharCode(o),r+=3;else if(o>=194&&o<224){if(i-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&o)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(o>=224){if(i-r>=9){var a=parseInt(e.substr(r+4,2),16),n=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&n)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function S(e,t){function r(e){var r=F(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,M).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,M).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,M).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,M).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,M).replace(t.PCT_ENCODED,o)),e}function B(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _(e,t){var r=e.match(t.IPV4ADDRESS)||[],i=u(r,2)[1];return i?i.split(".").map(B).join("."):e}function I(e,t){var r=e.match(t.IPV6ADDRESS)||[],i=u(r,3),o=i[1],s=i[2];if(o){for(var a=o.toLowerCase().split("::").reverse(),n=u(a,2),c=n[0],h=n[1],l=h?h.split(":").map(B):[],f=c.split(":").map(B),d=t.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,m=f.length-p,g=Array(p),v=0;v<p;++v)g[v]=l[v]||f[m+v]||"";d&&(g[p-1]=_(g[p-1],t));var y=g.reduce((function(e,t,r){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===r?i.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],x=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),D=g.slice(y.index+y.length);x=w.join(":")+"::"+D.join(":")}else x=g.join(":");return s&&(x+="%"+s),x}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R=void 0==="".match(/(){0}/)[1];function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==t.iri?n:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(j);if(o){R?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=I(_(r.host,i),i)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=C[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)S(r,i);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=E(r.host.replace(i.PCT_ENCODED,F).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}S(r,a)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function z(e,t){var r=!1!==t.iri?n:a,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(I(_(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var O=/^\.\.?\//,k=/^\/\.(\/|$)/,$=/^\/\.\.(\/|$)/,V=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var t=[];e.length;)if(e.match(O))e=e.replace(O,"");else if(e.match(k))e=e.replace(k,"/");else if(e.match($))e=e.replace($,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(V);if(!r)throw new Error("Unexpected dot segment condition");var i=r[0];e=e.slice(i.length),t.push(i)}return t.join("")}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?n:a,i=[],o=C[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?P(e.host):E(e.host.replace(r.PCT_ENCODED,F).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}S(e,r),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var s=z(e,t);if(void 0!==s&&("suffix"!==t.reference&&i.push("//"),i.push(s),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||o&&o.absolutePath||(u=N(u)),void 0===s&&(u=u.replace(/^\/\//,"/%2F")),i.push(u)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=T(L(e,r),r),t=T(L(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=N(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=N(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=N(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=N(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function q(e,t){return e&&e.toString().replace(t&&t.iri?n.PCT_ENCODED:a.PCT_ENCODED,F)}var Q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),i=u(r,2),o=i[0],s=i[1];e.path=o&&"/"!==o?o:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},J={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",Y=r(r("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+r("%"+Z+Z)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(X,"g"),re=new RegExp(Y,"g"),ie=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),oe=new RegExp(t("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),se=oe;function ae(e){var t=F(e);return t.match(te)?t:e}var ne={scheme:"mailto",parse:function(e,t){var r=e,i=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var o=!1,s={},a=r.query.split("&"),n=0,u=a.length;n<u;++n){var c=a[n].split("=");switch(c[0]){case"to":for(var h=c[1].split(","),l=0,f=h.length;l<f;++l)i.push(h[l]);break;case"subject":r.subject=q(c[1],t);break;case"body":r.body=q(c[1],t);break;default:o=!0,s[q(c[0],t)]=q(c[1],t)}}o&&(r.headers=s)}r.query=void 0;for(var d=0,p=i.length;d<p;++d){var m=i[d].split("@");if(m[0]=q(m[0]),t.unicodeSupport)m[1]=q(m[1],t).toLowerCase();else try{m[1]=E(q(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[d]=m.join("@")}return r},serialize:function(e,t){var r,i=e,s=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(s){for(var a=0,n=s.length;a<n;++a){var u=String(s[a]),c=u.lastIndexOf("@"),h=u.slice(0,c).replace(re,ae).replace(re,o).replace(ie,M),l=u.slice(c+1);try{l=t.iri?P(l):E(q(l,t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}s[a]=h+"@"+l}i.path=s.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var p in f)f[p]!==J[p]&&d.push(p.replace(re,ae).replace(re,o).replace(oe,M)+"="+f[p].replace(re,ae).replace(re,o).replace(se,M));return d.length&&(i.query=d.join("&")),i}},ue=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ue),i=e;if(r){var o=t.scheme||i.scheme||"urn",s=r[1].toLowerCase(),a=r[2],n=o+":"+(t.nid||s),u=C[n];i.nid=s,i.nss=a,i.path=void 0,u&&(i=u.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",i=e.nid,o=r+":"+(t.nid||i),s=C[o];s&&(e=s.serialize(e,t));var a=e,n=e.nss;return a.path=(i||t.nid)+":"+n,a}},he=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(he)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};C[Q.scheme]=Q,C[W.scheme]=W,C[H.scheme]=H,C[K.scheme]=K,C[ne.scheme]=ne,C[ce.scheme]=ce,C[le.scheme]=le,e.SCHEMES=C,e.pctEncChar=M,e.pctDecChars=F,e.parse=T,e.removeDotSegments=N,e.serialize=L,e.resolveComponents=U,e.resolve=function(e,t,r){var i=function(e,t){var r=e;if(t)for(var i in t)r[i]=t[i];return r}({scheme:"null"},r);return L(U(T(e,i),T(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=L(T(e,t),t):"object"===i(e)&&(e=T(L(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=L(T(e,r),r):"object"===i(e)&&(e=L(e,r)),"string"==typeof t?t=L(T(t,r),r):"object"===i(t)&&(t=L(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?n.ESCAPE:a.ESCAPE,M)},e.unescapeComponent=q,Object.defineProperty(e,"__esModule",{value:!0})}(t)},50901:()=>{!function(e){e.JSRocket||(e.JSRocket={}),JSRocket.SyncData=function(){"use strict";var e=[];return{getTrack:function(t){return e[t]},getIndexForName:function(t){for(var r=0;r<e.length;r++)if(e[r].name===t)return r;return-1},getTrackLength:function(){return e.length},createIndex:function(t){var r=new JSRocket.Track;r.name=t,e.push(r)}}},JSRocket.Track=function(){"use strict";var e=[];return{getValue:function(t){var r=Object.keys(e);if(!r.length)return 0;var i=function(e,t){for(var r=0,i=e.length;r<i;){var o=(i+r)/2|0;if(e[o]<t)r=o+1;else{if(!(e[o]>t))return o;i=o}}return r-1}(r,Math.floor(t));if(i<0)return e[r[0]].value;if(i>r.length-2)return e[r[r.length-1]].value;var o=r[i],s=r[i+1],a=e[o].value,n=e[s].value,u=(t-o)/(s-o);switch(e[o].interpolation){case 0:return a;case 1:return a+(n-a)*u;case 2:return a+(n-a)*u*u*(3-2*u);case 3:return a+(n-a)*Math.pow(u,2)}},add:function(t,r,i){e[t]={value:r,interpolation:i}},remove:function(t){delete e[t]}}},JSRocket.SyncDevicePlayer=function(e){"use strict";var t,r=new JSRocket.SyncData,i={ready:function(){},error:function(){}};function o(e){null!==(t=new XMLHttpRequest)?(t.open("GET",e,!0),t.onreadystatechange=s,t.send()):i.error()}function s(){4===t.readyState&&(t.status<300?function(e){var t,r,o,s=0,n=0,u=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tracks")[0].getElementsByTagName("track");for(r=u.length;s<r;s++){var c=a(u[s].getAttribute("name")),h=u[s].getElementsByTagName("key");for(n=0,o=h.length;n<o;n++)t=h[n],c.add(parseInt(t.getAttribute("row"),10),parseFloat(t.getAttribute("value")),parseInt(t.getAttribute("interpolation"),10))}i.ready()}(t.responseText):i.error())}function a(e){var t=r.getIndexForName(e);return t>-1?r.getTrack(t):(r.createIndex(e),r.getTrack(r.getTrackLength()-1))}if(""===e.rocketXML||void 0===e.rocketXML||void 0===e.rocketXML)throw"[jsRocket] rocketXML is not set, try _syncDevice.setConfig({'rocketXML':'url/To/RocketXML.rocket'})";return o(e.rocketXML),{load:o,getTrack:a,update:function(){},on:function(e,t){i[e]=t}}},JSRocket.SyncDeviceClient=function(e){"use strict";var t=new WebSocket(e.socketURL),r=new JSRocket.SyncData,i={ready:function(){},update:function(){},play:function(){},pause:function(){},save:function(){}};function o(e){for(var t=0,r=new DataView(new ArrayBuffer(e.length));t<e.length;t++)r.setUint8(t,e[t]);return 1===r.byteLength?r.getInt8(0):r.getInt32(0)}return t.onopen=function(){t.binaryType="arraybuffer",t.send("hello, synctracker!")},t.onmessage=function(e){var t,s,a,n,u,c,h=new Uint8Array(e.data),l=h[0];104===l?i.ready():4===l?1===h[1]?i.pause():i.play():3===l?(s=o(h.subarray(1,5)),i.update(s)):0===l?(t=o(h.subarray(1,5)),s=o(h.subarray(5,9)),u=h.subarray(9,13),(c=new DataView(new ArrayBuffer(4))).setUint8(0,u[0]),c.setUint8(1,u[1]),c.setUint8(2,u[2]),c.setUint8(3,u[3]),a=c.getFloat32(0),n=o(h.subarray(13,14)),r.getTrack(t).add(s,a,n)):1===l?(t=o(h.subarray(1,5)),s=o(h.subarray(5,9)),r.getTrack(t).remove(s)):5===l&&i.save()},t.onclose=function(e){console.warn(">> connection closed",e)},t.onerror=function(e){console.error(">> connection error'd",e)},{getTrack:function(e){var i=r.getIndexForName(e);if(i>-1)return r.getTrack(i);for(var o=encodeURIComponent(e).replace(/%([\dA-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})),s=[2,o.length>>24&255,o.length>>16&255,o.length>>8&255,255&o.length],a=0;a<o.length;a++)s.push(o.charCodeAt(a));return t.send(new Uint8Array(s).buffer),r.createIndex(e),r.getTrack(r.getTrackLength()-1)},update:function(e){var r=[e>>24&255,e>>16&255,e>>8&255,255&e];t.send(new Uint8Array([3,r[0],r[1],r[2],r[3]]).buffer)},on:function(e,t){i[e]=t}}},JSRocket.SyncDevice=function(){"use strict";var e,t,r=!1,i={socketURL:"ws://localhost:1339",rocketXML:""},o={ready:function(){},update:function(){},play:function(){},pause:function(){}};function s(){r=!0,o.ready()}function a(e){o.update(e)}function n(){o.play()}function u(){o.pause()}return{init:function(t){(e="demo"===t?new JSRocket.SyncDevicePlayer(i):new JSRocket.SyncDeviceClient(i)).on("ready",s),e.on("update",a),e.on("play",n),e.on("pause",u)},setConfig:function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i},getConfig:function(){return i},getTrack:function(t){return r?e.getTrack(t):null},update:function(r){Math.floor(r)!==t&&(t=Math.floor(r),e.update(t))},on:function(e,t){o[e]=t}}}}(window)},5534:()=>{},67036:()=>{},54502:()=>{},894:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},6680:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},50639:e=>{"use strict";e.exports=JSON.parse('{"additionalProperties":true,"properties":{"name":{"description":"The filename template for the target file(s) (https://github.com/webpack-contrib/file-loader#name).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"outputPath":{"description":"A filesystem path where the target file(s) will be placed (https://github.com/webpack-contrib/file-loader#outputpath).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"publicPath":{"description":"A custom public path for the target file(s) (https://github.com/webpack-contrib/file-loader#publicpath).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"postTransformPublicPath":{"description":"A custom transformation function for post-processing the publicPath (https://github.com/webpack-contrib/file-loader#posttransformpublicpath).","instanceof":"Function"},"context":{"description":"A custom file context (https://github.com/webpack-contrib/file-loader#context).","type":"string"},"emitFile":{"description":"Enables/Disables emit files (https://github.com/webpack-contrib/file-loader#emitfile).","type":"boolean"},"regExp":{"description":"A Regular Expression to one or many parts of the target file path. The capture groups can be reused in the name property using [N] placeholder (https://github.com/webpack-contrib/file-loader#regexp).","anyOf":[{"type":"string"},{"instanceof":"RegExp"}]},"esModule":{"description":"By default, file-loader generates JS modules that use the ES modules syntax.","type":"boolean"}},"type":"object"}')}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,r),s.exports}r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";const e=r(68629),t=r(40416);class i{static CANVAS_WIDTH=384;static CANVAS_HEIGHT=216;static main(){new e.Canvas(i.CANVAS_WIDTH,i.CANVAS_HEIGHT,new t.DemoScene).init()}}i.main()})()})();