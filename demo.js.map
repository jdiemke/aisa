{"version":3,"file":"demo.js","mappings":"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,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,KACA,OACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,KACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,MACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,MACA,QACA,iBACA,iBACA,iBACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,QACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,WACA,WACA,QACA,cACA,WACA,cACA,cACA,WACA,cACA,WACA,cACA,cACA,WACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WACA,cACA,KACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,WACA,WACA,QACA,cACA,WACA,cACA,cACA,WACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WACA,WACA,cACA,cACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,MACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,SACA,SACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,OACA,OACA,OACA,OACA,OACA,KACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,KACA,eACA,OACA,eACA,eACA,OACA,eACA,eACA,eACA,OACA,eACA,eACA,eACA,eACA,OACA,eACA,eACA,eACA,eACA,eACA,OACA,WACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,QACA,QACA,KACA,QACA,QACA,KACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,IACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,SACA,SACA,MACA,SACA,SACA,MACA,SACA,SACA,MACA,SACA,SACA,MACA,SACA,SACA,MACA,QACA,QACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,IACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,IACA,IACA,IACA,KACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,6BC7/FFD,EAAOC,QAAU,SAASgQ,EAAMyS,EAAGC,GACjC,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAExK,cAAgByK,EAAEzK,YAAa,OAAO,EAE5C,IAAItY,EAAQD,EAAG2D,EACf,GAAI7D,MAAMC,QAAQgjB,GAAI,CAEpB,IADA9iB,EAAS8iB,EAAE9iB,SACG+iB,EAAE/iB,OAAQ,OAAO,EAC/B,IAAKD,EAAIC,EAAgB,GAARD,KACf,IAAKsQ,EAAMyS,EAAE/iB,GAAIgjB,EAAEhjB,IAAK,OAAO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","sources":["webpack://aisa/./node_modules/ajv-keywords/index.js","webpack://aisa/./node_modules/ajv-keywords/keywords/_formatLimit.js","webpack://aisa/./node_modules/ajv-keywords/keywords/_util.js","webpack://aisa/./node_modules/ajv-keywords/keywords/allRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/anyRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/deepProperties.js","webpack://aisa/./node_modules/ajv-keywords/keywords/deepRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/dotjs/_formatLimit.js","webpack://aisa/./node_modules/ajv-keywords/keywords/dotjs/patternRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/dotjs/switch.js","webpack://aisa/./node_modules/ajv-keywords/keywords/dynamicDefaults.js","webpack://aisa/./node_modules/ajv-keywords/keywords/formatMaximum.js","webpack://aisa/./node_modules/ajv-keywords/keywords/formatMinimum.js","webpack://aisa/./node_modules/ajv-keywords/keywords/index.js","webpack://aisa/./node_modules/ajv-keywords/keywords/instanceof.js","webpack://aisa/./node_modules/ajv-keywords/keywords/oneRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/patternRequired.js","webpack://aisa/./node_modules/ajv-keywords/keywords/prohibited.js","webpack://aisa/./node_modules/ajv-keywords/keywords/range.js","webpack://aisa/./node_modules/ajv-keywords/keywords/regexp.js","webpack://aisa/./node_modules/ajv-keywords/keywords/select.js","webpack://aisa/./node_modules/ajv-keywords/keywords/switch.js","webpack://aisa/./node_modules/ajv-keywords/keywords/transform.js","webpack://aisa/./node_modules/ajv-keywords/keywords/typeof.js","webpack://aisa/./node_modules/ajv-keywords/keywords/uniqueItemProperties.js","webpack://aisa/./node_modules/ajv/lib/ajv.js","webpack://aisa/./node_modules/ajv/lib/cache.js","webpack://aisa/./node_modules/ajv/lib/compile/async.js","webpack://aisa/./node_modules/ajv/lib/compile/error_classes.js","webpack://aisa/./node_modules/ajv/lib/compile/formats.js","webpack://aisa/./node_modules/ajv/lib/compile/index.js","webpack://aisa/./node_modules/ajv/lib/compile/resolve.js","webpack://aisa/./node_modules/ajv/lib/compile/rules.js","webpack://aisa/./node_modules/ajv/lib/compile/schema_obj.js","webpack://aisa/./node_modules/ajv/lib/compile/ucs2length.js","webpack://aisa/./node_modules/ajv/lib/compile/util.js","webpack://aisa/./node_modules/ajv/lib/data.js","webpack://aisa/./node_modules/ajv/lib/definition_schema.js","webpack://aisa/./node_modules/ajv/lib/dotjs/_limit.js","webpack://aisa/./node_modules/ajv/lib/dotjs/_limitItems.js","webpack://aisa/./node_modules/ajv/lib/dotjs/_limitLength.js","webpack://aisa/./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack://aisa/./node_modules/ajv/lib/dotjs/allOf.js","webpack://aisa/./node_modules/ajv/lib/dotjs/anyOf.js","webpack://aisa/./node_modules/ajv/lib/dotjs/comment.js","webpack://aisa/./node_modules/ajv/lib/dotjs/const.js","webpack://aisa/./node_modules/ajv/lib/dotjs/contains.js","webpack://aisa/./node_modules/ajv/lib/dotjs/custom.js","webpack://aisa/./node_modules/ajv/lib/dotjs/dependencies.js","webpack://aisa/./node_modules/ajv/lib/dotjs/enum.js","webpack://aisa/./node_modules/ajv/lib/dotjs/format.js","webpack://aisa/./node_modules/ajv/lib/dotjs/if.js","webpack://aisa/./node_modules/ajv/lib/dotjs/index.js","webpack://aisa/./node_modules/ajv/lib/dotjs/items.js","webpack://aisa/./node_modules/ajv/lib/dotjs/multipleOf.js","webpack://aisa/./node_modules/ajv/lib/dotjs/not.js","webpack://aisa/./node_modules/ajv/lib/dotjs/oneOf.js","webpack://aisa/./node_modules/ajv/lib/dotjs/pattern.js","webpack://aisa/./node_modules/ajv/lib/dotjs/properties.js","webpack://aisa/./node_modules/ajv/lib/dotjs/propertyNames.js","webpack://aisa/./node_modules/ajv/lib/dotjs/ref.js","webpack://aisa/./node_modules/ajv/lib/dotjs/required.js","webpack://aisa/./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack://aisa/./node_modules/ajv/lib/dotjs/validate.js","webpack://aisa/./node_modules/ajv/lib/keyword.js","webpack://aisa/./node_modules/big.js/big.js","webpack://aisa/./node_modules/emojis-list/index.js","webpack://aisa/./node_modules/fast-deep-equal/index.js","webpack://aisa/./node_modules/fast-json-stable-stringify/index.js","webpack://aisa/./node_modules/file-loader/dist/cjs.js","webpack://aisa/./src/assets/Backed.png","webpack://aisa/./src/assets/atlantis.png","webpack://aisa/./src/assets/blurredBackground.png","webpack://aisa/./src/assets/bokeh.png","webpack://aisa/./src/assets/camera-path.jsx","webpack://aisa/./src/assets/cocoon.png","webpack://aisa/./src/assets/dirt.png","webpack://aisa/./src/assets/envmap.png","webpack://aisa/./src/assets/font.png","webpack://aisa/./src/assets/ground.png","webpack://aisa/./src/assets/heightmapSphere.png","webpack://aisa/./src/assets/hoodlumLogo.png","webpack://aisa/./src/assets/jsx/abstract.jsx","webpack://aisa/./src/assets/jsx/gear.jsx","webpack://aisa/./src/assets/jsx/hoodlum2018.jsx","webpack://aisa/./src/assets/jsx/lab2.jsx","webpack://aisa/./src/assets/jsx/metalheadz.jsx","webpack://aisa/./src/assets/jsx/stravaganza.jsx","webpack://aisa/./src/assets/lab2.png","webpack://aisa/./src/assets/led.png","webpack://aisa/./src/assets/logo.png","webpack://aisa/./src/assets/logos/chick-on-phone.png","webpack://aisa/./src/assets/logos/drug-chick-2.png","webpack://aisa/./src/assets/logos/drug-chick.png","webpack://aisa/./src/assets/logos/pizza-delivery.png","webpack://aisa/./src/assets/logos/pizza_express.png","webpack://aisa/./src/assets/lsd.png","webpack://aisa/./src/assets/metalheadz.png","webpack://aisa/./src/assets/monkey.obj","webpack://aisa/./src/assets/ring.png","webpack://aisa/./src/assets/skybox/skybox_back.png","webpack://aisa/./src/assets/skybox/skybox_down.png","webpack://aisa/./src/assets/skybox/skybox_front.png","webpack://aisa/./src/assets/skybox/skybox_left.png","webpack://aisa/./src/assets/skybox/skybox_right.png","webpack://aisa/./src/assets/skybox/skybox_up.png","webpack://aisa/./src/assets/sound/NotMixedorMastered.ogg","webpack://aisa/./src/assets/sound/demo.rocket","webpack://aisa/./src/assets/spriteBlur.png","webpack://aisa/./src/assets/textures/checker.png","webpack://aisa/./src/assets/xray.png","webpack://aisa/./src/examples/razor/assets/bokeh.png","webpack://aisa/./src/examples/razor/assets/dirt.png","webpack://aisa/./src/examples/razor/assets/ring.png","webpack://aisa/./src/examples/razor/assets/spark.png","webpack://aisa/./src/examples/sine-scroller/assets/anarchyFont.png","webpack://aisa/./src/examples/sine-scroller/assets/fraxionFont.png","webpack://aisa/./src/examples/torus/assets/razor1911.png","webpack://aisa/./node_modules/file-loader/dist/index.js","webpack://aisa/./node_modules/file-loader/dist/utils.js","webpack://aisa/./node_modules/json-schema-traverse/index.js","webpack://aisa/./node_modules/json5/dist/index.js","webpack://aisa/./node_modules/jsxm/xm.js","webpack://aisa/./node_modules/jsxm/xmeffects.js","webpack://aisa/./node_modules/loader-utils/lib/getCurrentRequest.js","webpack://aisa/./node_modules/loader-utils/lib/getHashDigest.js","webpack://aisa/./node_modules/loader-utils/lib/getOptions.js","webpack://aisa/./node_modules/loader-utils/lib/getRemainingRequest.js","webpack://aisa/./node_modules/loader-utils/lib/hash/BatchedHash.js","webpack://aisa/./node_modules/loader-utils/lib/hash/md4.js","webpack://aisa/./node_modules/loader-utils/lib/hash/wasm-hash.js","webpack://aisa/./node_modules/loader-utils/lib/index.js","webpack://aisa/./node_modules/loader-utils/lib/interpolateName.js","webpack://aisa/./node_modules/loader-utils/lib/isUrlRequest.js","webpack://aisa/./node_modules/loader-utils/lib/parseQuery.js","webpack://aisa/./node_modules/loader-utils/lib/parseString.js","webpack://aisa/./node_modules/loader-utils/lib/stringifyRequest.js","webpack://aisa/./node_modules/loader-utils/lib/urlToRequest.js","webpack://aisa/./node_modules/schema-utils/dist/ValidationError.js","webpack://aisa/./node_modules/schema-utils/dist/index.js","webpack://aisa/./node_modules/schema-utils/dist/keywords/absolutePath.js","webpack://aisa/./node_modules/schema-utils/dist/util/Range.js","webpack://aisa/./node_modules/schema-utils/dist/util/hints.js","webpack://aisa/./node_modules/schema-utils/dist/validate.js","webpack://aisa/./node_modules/stats.js/build/stats.min.js","webpack://aisa/./src/Canvas.ts","webpack://aisa/./src/CullFace.ts","webpack://aisa/./src/Framebuffer.ts","webpack://aisa/./src/RandomNumberGenerator.ts","webpack://aisa/./src/SkyBox.ts","webpack://aisa/./src/TextureCoordinate.ts","webpack://aisa/./src/Vertex.ts","webpack://aisa/./src/animation/BlenderCameraAnimator.ts","webpack://aisa/./src/animation/CameraKeyFrame.ts","webpack://aisa/./src/blender/BlenderJsonParser.ts","webpack://aisa/./src/blender/face.ts","webpack://aisa/./src/blender/mesh.ts","webpack://aisa/./src/blender/parseUtils.ts","webpack://aisa/./src/blender/tex-coord.ts","webpack://aisa/./src/blender/vector.ts","webpack://aisa/./src/blitter/ScaleClipBlitter.ts","webpack://aisa/./src/camera/CameraFrame.ts","webpack://aisa/./src/camera/CameraLoader.ts","webpack://aisa/./src/camera/CameraPath.ts","webpack://aisa/./src/camera/EulerAngleCamera.ts","webpack://aisa/./src/core/Color.ts","webpack://aisa/./src/core/LinkedList.ts","webpack://aisa/./src/core/Node.ts","webpack://aisa/./src/core/Utils.ts","webpack://aisa/./src/examples/abstract-cube/AbstractCube.ts","webpack://aisa/./src/examples/baked-lighting/BakedLighting.ts","webpack://aisa/./src/examples/blender-camera-animation/WavefrontScene.ts","webpack://aisa/./src/examples/block-fade/BlockFade.ts","webpack://aisa/./src/examples/cube/CubeScene.ts","webpack://aisa/./src/examples/demo/DemoScene.ts","webpack://aisa/./src/examples/demo/canvas-record.ts","webpack://aisa/./src/examples/demo/parts/Scene1.ts","webpack://aisa/./src/examples/demo/parts/Scene10.ts","webpack://aisa/./src/examples/demo/parts/Scene11.ts","webpack://aisa/./src/examples/demo/parts/Scene12.ts","webpack://aisa/./src/examples/demo/parts/Scene13.ts","webpack://aisa/./src/examples/demo/parts/Scene14.ts","webpack://aisa/./src/examples/demo/parts/Scene15.ts","webpack://aisa/./src/examples/demo/parts/Scene16.ts","webpack://aisa/./src/examples/demo/parts/Scene17.ts","webpack://aisa/./src/examples/demo/parts/Scene18.ts","webpack://aisa/./src/examples/demo/parts/Scene19.ts","webpack://aisa/./src/examples/demo/parts/Scene2.ts","webpack://aisa/./src/examples/demo/parts/Scene20.ts","webpack://aisa/./src/examples/demo/parts/Scene3.ts","webpack://aisa/./src/examples/demo/parts/Scene4.ts","webpack://aisa/./src/examples/demo/parts/Scene5.ts","webpack://aisa/./src/examples/demo/parts/Scene6.ts","webpack://aisa/./src/examples/demo/parts/Scene7.ts","webpack://aisa/./src/examples/demo/parts/Scene8.ts","webpack://aisa/./src/examples/demo/parts/Scene9.ts","webpack://aisa/./src/examples/distorted-sphere/DistortedSphereScene.ts","webpack://aisa/./src/examples/dof-balls/DofBallsScene.ts","webpack://aisa/./src/examples/gears/GearsScene.ts","webpack://aisa/./src/examples/hoodlum/HoodlumScene.ts","webpack://aisa/./src/examples/led-plasma/LedPlasmaScene.ts","webpack://aisa/./src/examples/md2/ModelViewMatrix.ts","webpack://aisa/./src/examples/metalheadz/MetalHeadzScene.ts","webpack://aisa/./src/examples/particle-streams/ParticleStreamsScene.ts","webpack://aisa/./src/examples/plane-deformation/PlaneDeformationScene.ts","webpack://aisa/./src/examples/plasma/PlasmaScene.ts","webpack://aisa/./src/examples/razor/RazorScene.ts","webpack://aisa/./src/examples/roto-zoomer/RotoZoomerScene.ts","webpack://aisa/./src/examples/sine-scroller/FontRenderer.ts","webpack://aisa/./src/examples/sine-scroller/SineScrollerScene.ts","webpack://aisa/./src/examples/torus-knot-tunnel/TorusKnotTunnelScene.ts","webpack://aisa/./src/examples/torus/TorusScene.ts","webpack://aisa/./src/examples/twister/TwisterScene.ts","webpack://aisa/./src/examples/voxel-balls/VoxelBallsScene.ts","webpack://aisa/./src/fullscreen/FullscreenUtils.ts","webpack://aisa/./src/geometrical-objects/AbstractGeometricObject.ts","webpack://aisa/./src/geometrical-objects/Cube.ts","webpack://aisa/./src/geometrical-objects/Dodecahedron.ts","webpack://aisa/./src/geometrical-objects/Pyramid.ts","webpack://aisa/./src/geometrical-objects/Sphere.ts","webpack://aisa/./src/geometrical-objects/Torus.ts","webpack://aisa/./src/geometrical-objects/TorusKnot.ts","webpack://aisa/./src/math/Geometry.ts","webpack://aisa/./src/math/Matrix3.ts","webpack://aisa/./src/math/Matrix4f.ts","webpack://aisa/./src/math/Sphere.ts","webpack://aisa/./src/math/Vector2f.ts","webpack://aisa/./src/math/Vector3f.ts","webpack://aisa/./src/math/Vector4f.ts","webpack://aisa/./src/math/index.ts","webpack://aisa/./src/model/blender/BlenderLoader.ts","webpack://aisa/./src/model/wavefront-obj/WavefrontLoader.ts","webpack://aisa/./src/rasterizer/AbstractScanlineTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/AbstractTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/ColorInterpolator.ts","webpack://aisa/./src/rasterizer/FlatShadingTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/GouraudShadingTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/SlopeInterpolator.ts","webpack://aisa/./src/rasterizer/TexturedAlphaBlendingTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/TexturedTriangleRasterizer.ts","webpack://aisa/./src/rasterizer/line/LineRasterizer.ts","webpack://aisa/./src/rasterizer/line/LineRasterizerNoZ.ts","webpack://aisa/./src/rendering-pipelines/AbstractRenderingPipeline.ts","webpack://aisa/./src/rendering-pipelines/GouraudShadingRenderingPipeline.ts","webpack://aisa/./src/rendering-pipelines/TexturingRenderingPipeline.ts","webpack://aisa/./src/scenes/AbstractScene.ts","webpack://aisa/./src/screen-space-clipping/AbstractClipEdge.ts","webpack://aisa/./src/screen-space-clipping/BottomClipEdge.ts","webpack://aisa/./src/screen-space-clipping/CohenSutherlandLineClipper.ts","webpack://aisa/./src/screen-space-clipping/LeftClipEdge.ts","webpack://aisa/./src/screen-space-clipping/RightClipEdge.ts","webpack://aisa/./src/screen-space-clipping/SutherlandHodgman2DClipper.ts","webpack://aisa/./src/screen-space-clipping/TopClipEdge.ts","webpack://aisa/./src/shading/fog/Fog.ts","webpack://aisa/./src/shading/fog/LinearFog.ts","webpack://aisa/./src/shading/illumination-models/PhongLighting.ts","webpack://aisa/./src/shading/light/Light.ts","webpack://aisa/./src/shading/light/PointLight.ts","webpack://aisa/./src/shading/material/Material.ts","webpack://aisa/./src/sound/SoundManager.ts","webpack://aisa/./src/texture/Texture.ts","webpack://aisa/./src/texture/TextureUtils.ts","webpack://aisa/./src/texture/index.ts","webpack://aisa/./node_modules/uri-js/dist/es5/uri.all.js","webpack://aisa/./src/sound/JSRocket.js","webpack://aisa/webpack/bootstrap","webpack://aisa/webpack/runtime/define property getters","webpack://aisa/webpack/runtime/global","webpack://aisa/webpack/runtime/hasOwnProperty shorthand","webpack://aisa/webpack/runtime/make namespace object","webpack://aisa/webpack/runtime/publicPath","webpack://aisa/./src/examples/demo/Application.ts"],"sourcesContent":["'use strict';\n\nvar KEYWORDS = require('./keywords');\n\nmodule.exports = defineKeywords;\n\n\n/**\n * Defines one or several keywords in ajv instance\n * @param  {Ajv} ajv validator instance\n * @param  {String|Array<String>|undefined} keyword keyword(s) to define\n * @return {Ajv} ajv instance (for chaining)\n */\nfunction defineKeywords(ajv, keyword) {\n  if (Array.isArray(keyword)) {\n    for (var i=0; i<keyword.length; i++)\n      get(keyword[i])(ajv);\n    return ajv;\n  }\n  if (keyword) {\n    get(keyword)(ajv);\n    return ajv;\n  }\n  for (keyword in KEYWORDS) get(keyword)(ajv);\n  return ajv;\n}\n\n\ndefineKeywords.get = get;\n\nfunction get(keyword) {\n  var defFunc = KEYWORDS[keyword];\n  if (!defFunc) throw new Error('Unknown keyword ' + keyword);\n  return defFunc;\n}\n","'use strict';\n\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\n\nvar COMPARE_FORMATS = {\n  date: compareDate,\n  time: compareTime,\n  'date-time': compareDateTime\n};\n\nvar $dataMetaSchema = {\n  type: 'object',\n  required: [ '$data' ],\n  properties: {\n    $data: {\n      type: 'string',\n      anyOf: [\n        { format: 'relative-json-pointer' },\n        { format: 'json-pointer' }\n      ]\n    }\n  },\n  additionalProperties: false\n};\n\nmodule.exports = function (minMax) {\n  var keyword = 'format' + minMax;\n  return function defFunc(ajv) {\n    defFunc.definition = {\n      type: 'string',\n      inline: require('./dotjs/_formatLimit'),\n      statements: true,\n      errors: 'full',\n      dependencies: ['format'],\n      metaSchema: {\n        anyOf: [\n          {type: 'string'},\n          $dataMetaSchema\n        ]\n      }\n    };\n\n    ajv.addKeyword(keyword, defFunc.definition);\n    ajv.addKeyword('formatExclusive' + minMax, {\n      dependencies: ['format' + minMax],\n      metaSchema: {\n        anyOf: [\n          {type: 'boolean'},\n          $dataMetaSchema\n        ]\n      }\n    });\n    extendFormats(ajv);\n    return ajv;\n  };\n};\n\n\nfunction extendFormats(ajv) {\n  var formats = ajv._formats;\n  for (var name in COMPARE_FORMATS) {\n    var format = formats[name];\n    // the last condition is needed if it's RegExp from another window\n    if (typeof format != 'object' || format instanceof RegExp || !format.validate)\n      format = formats[name] = { validate: format };\n    if (!format.compare)\n      format.compare = COMPARE_FORMATS[name];\n  }\n}\n\n\nfunction compareDate(d1, d2) {\n  if (!(d1 && d2)) return;\n  if (d1 > d2) return 1;\n  if (d1 < d2) return -1;\n  if (d1 === d2) return 0;\n}\n\n\nfunction compareTime(t1, t2) {\n  if (!(t1 && t2)) return;\n  t1 = t1.match(TIME);\n  t2 = t2.match(TIME);\n  if (!(t1 && t2)) return;\n  t1 = t1[1] + t1[2] + t1[3] + (t1[4]||'');\n  t2 = t2[1] + t2[2] + t2[3] + (t2[4]||'');\n  if (t1 > t2) return 1;\n  if (t1 < t2) return -1;\n  if (t1 === t2) return 0;\n}\n\n\nfunction compareDateTime(dt1, dt2) {\n  if (!(dt1 && dt2)) return;\n  dt1 = dt1.split(DATE_TIME_SEPARATOR);\n  dt2 = dt2.split(DATE_TIME_SEPARATOR);\n  var res = compareDate(dt1[0], dt2[0]);\n  if (res === undefined) return;\n  return res || compareTime(dt1[1], dt2[1]);\n}\n","'use strict';\n\nmodule.exports = {\n  metaSchemaRef: metaSchemaRef\n};\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nfunction metaSchemaRef(ajv) {\n  var defaultMeta = ajv._opts.defaultMeta;\n  if (typeof defaultMeta == 'string') return { $ref: defaultMeta };\n  if (ajv.getSchema(META_SCHEMA_ID)) return { $ref: META_SCHEMA_ID };\n  console.warn('meta schema not defined');\n  return {};\n}\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema, parentSchema) {\n      if (!schema) return true;\n      var properties = Object.keys(parentSchema.properties);\n      if (properties.length == 0) return true;\n      return {required: properties};\n    },\n    metaSchema: {type: 'boolean'},\n    dependencies: ['properties']\n  };\n\n  ajv.addKeyword('allRequired', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema) {\n      if (schema.length == 0) return true;\n      if (schema.length == 1) return {required: schema};\n      var schemas = schema.map(function (prop) {\n        return {required: [prop]};\n      });\n      return {anyOf: schemas};\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    }\n  };\n\n  ajv.addKeyword('anyRequired', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nvar util = require('./_util');\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema) {\n      var schemas = [];\n      for (var pointer in schema)\n        schemas.push(getSchema(pointer, schema[pointer]));\n      return {'allOf': schemas};\n    },\n    metaSchema: {\n      type: 'object',\n      propertyNames: {\n        type: 'string',\n        format: 'json-pointer'\n      },\n      additionalProperties: util.metaSchemaRef(ajv)\n    }\n  };\n\n  ajv.addKeyword('deepProperties', defFunc.definition);\n  return ajv;\n};\n\n\nfunction getSchema(jsonPointer, schema) {\n  var segments = jsonPointer.split('/');\n  var rootSchema = {};\n  var pointerSchema = rootSchema;\n  for (var i=1; i<segments.length; i++) {\n    var segment = segments[i];\n    var isLast = i == segments.length - 1;\n    segment = unescapeJsonPointer(segment);\n    var properties = pointerSchema.properties = {};\n    var items = undefined;\n    if (/[0-9]+/.test(segment)) {\n      var count = +segment;\n      items = pointerSchema.items = [];\n      while (count--) items.push({});\n    }\n    pointerSchema = isLast ? schema : {};\n    properties[segment] = pointerSchema;\n    if (items) items.push(pointerSchema);\n  }\n  return rootSchema;\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    inline: function (it, keyword, schema) {\n      var expr = '';\n      for (var i=0; i<schema.length; i++) {\n        if (i) expr += ' && ';\n        expr += '(' + getData(schema[i], it.dataLevel) + ' !== undefined)';\n      }\n      return expr;\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string',\n        format: 'json-pointer'\n      }\n    }\n  };\n\n  ajv.addKeyword('deepRequired', defFunc.definition);\n  return ajv;\n};\n\n\nfunction getData(jsonPointer, lvl) {\n  var data = 'data' + (lvl || '');\n  if (!jsonPointer) return data;\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=1; i<segments.length; i++) {\n    var segment = segments[i];\n    data += getProperty(unescapeJsonPointer(segment));\n    expr += ' && ' + data;\n  }\n  return expr;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar INTEGER = /^[0-9]+$/;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return INTEGER.test(key)\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + key.replace(SINGLE_QUOTE, '\\\\$&') + \"']\";\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\nmodule.exports = function generate__formatLimit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  out += 'var ' + ($valid) + ' = undefined;';\n  if (it.opts.format === false) {\n    out += ' ' + ($valid) + ' = true; ';\n    return out;\n  }\n  var $schemaFormat = it.schema.format,\n    $isDataFormat = it.opts.$data && $schemaFormat.$data,\n    $closingBraces = '';\n  if ($isDataFormat) {\n    var $schemaValueFormat = it.util.getData($schemaFormat.$data, $dataLvl, it.dataPathArr),\n      $format = 'format' + $lvl,\n      $compare = 'compare' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValueFormat) + '] , ' + ($compare) + ' = ' + ($format) + ' && ' + ($format) + '.compare;';\n  } else {\n    var $format = it.formats[$schemaFormat];\n    if (!($format && $format.compare)) {\n      out += '  ' + ($valid) + ' = true; ';\n      return out;\n    }\n    var $compare = 'formats' + it.util.getProperty($schemaFormat) + '.compare';\n  }\n  var $isMax = $keyword == 'formatMaximum',\n    $exclusiveKeyword = 'formatExclusive' + ($isMax ? 'Maximum' : 'Minimum'),\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $result = 'result' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' if (typeof ' + ($schemaValueExcl) + ' != \\'boolean\\' && ' + ($schemaValueExcl) + ' !== undefined) { ' + ($valid) + ' = false; ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_formatExclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      $closingBraces += '}';\n      out += ' else { ';\n    }\n    if ($isData) {\n      out += ' if (' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'string\\') ' + ($valid) + ' = false; else { ';\n      $closingBraces += '}';\n    }\n    if ($isDataFormat) {\n      out += ' if (!' + ($compare) + ') ' + ($valid) + ' = true; else { ';\n      $closingBraces += '}';\n    }\n    out += ' var ' + ($result) + ' = ' + ($compare) + '(' + ($data) + ',  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += ' ); if (' + ($result) + ' === undefined) ' + ($valid) + ' = false; var ' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true; if (' + ($valid) + ' === undefined) { ' + ($valid) + ' = ' + ($exclusive) + ' ? ' + ($result) + ' ' + ($op) + ' 0 : ' + ($result) + ' ' + ($op) + '= 0; } if (!' + ($valid) + ') var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\';';\n  } else {\n    var $exclusive = $schemaExcl === true,\n      $opStr = $op;\n    if (!$exclusive) $opStr += '=';\n    var $opExpr = '\\'' + $opStr + '\\'';\n    if ($isData) {\n      out += ' if (' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'string\\') ' + ($valid) + ' = false; else { ';\n      $closingBraces += '}';\n    }\n    if ($isDataFormat) {\n      out += ' if (!' + ($compare) + ') ' + ($valid) + ' = true; else { ';\n      $closingBraces += '}';\n    }\n    out += ' var ' + ($result) + ' = ' + ($compare) + '(' + ($data) + ',  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += ' ); if (' + ($result) + ' === undefined) ' + ($valid) + ' = false; if (' + ($valid) + ' === undefined) ' + ($valid) + ' = ' + ($result) + ' ' + ($op);\n    if (!$exclusive) {\n      out += '=';\n    }\n    out += ' 0;';\n  }\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_formatLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += ' , exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '}';\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_patternRequired(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $matched = 'patternMatched' + $lvl,\n    $dataProperties = 'dataProperties' + $lvl,\n    $closingBraces = '',\n    $ownProperties = it.opts.ownProperties;\n  out += 'var ' + ($valid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  var arr1 = $schema;\n  if (arr1) {\n    var $pProperty, i1 = -1,\n      l1 = arr1.length - 1;\n    while (i1 < l1) {\n      $pProperty = arr1[i1 += 1];\n      out += ' var ' + ($matched) + ' = false;  ';\n      if ($ownProperties) {\n        out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n      } else {\n        out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n      }\n      out += ' ' + ($matched) + ' = ' + (it.usePattern($pProperty)) + '.test(' + ($key) + '); if (' + ($matched) + ') break; } ';\n      var $missingPattern = it.util.escapeQuotes($pProperty);\n      out += ' if (!' + ($matched) + ') { ' + ($valid) + ' = false;  var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('patternRequired') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingPattern: \\'' + ($missingPattern) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should have property matching pattern \\\\\\'' + ($missingPattern) + '\\\\\\'\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  out += '' + ($closingBraces);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_switch(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $ifPassed = 'ifPassed' + it.level,\n    $currentBaseId = $it.baseId,\n    $shouldContinue;\n  out += 'var ' + ($ifPassed) + ';';\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $caseIndex = -1,\n      l1 = arr1.length - 1;\n    while ($caseIndex < l1) {\n      $sch = arr1[$caseIndex += 1];\n      if ($caseIndex && !$shouldContinue) {\n        out += ' if (!' + ($ifPassed) + ') { ';\n        $closingBraces += '}';\n      }\n      if ($sch.if && (it.opts.strictKeywords ? typeof $sch.if == 'object' && Object.keys($sch.if).length > 0 : it.util.schemaHasRules($sch.if, it.RULES.all))) {\n        out += ' var ' + ($errs) + ' = errors;   ';\n        var $wasComposite = it.compositeRule;\n        it.compositeRule = $it.compositeRule = true;\n        $it.createErrors = false;\n        $it.schema = $sch.if;\n        $it.schemaPath = $schemaPath + '[' + $caseIndex + '].if';\n        $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/if';\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        $it.createErrors = true;\n        it.compositeRule = $it.compositeRule = $wasComposite;\n        out += ' ' + ($ifPassed) + ' = ' + ($nextValid) + '; if (' + ($ifPassed) + ') {  ';\n        if (typeof $sch.then == 'boolean') {\n          if ($sch.then === false) {\n            var $$outStack = $$outStack || [];\n            $$outStack.push(out);\n            out = ''; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('switch') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { caseIndex: ' + ($caseIndex) + ' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should pass \"switch\" keyword validation\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            var __err = out;\n            out = $$outStack.pop();\n            if (!it.compositeRule && $breakOnError) {\n              /* istanbul ignore if */\n              if (it.async) {\n                out += ' throw new ValidationError([' + (__err) + ']); ';\n              } else {\n                out += ' validate.errors = [' + (__err) + ']; return false; ';\n              }\n            } else {\n              out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n            }\n          }\n          out += ' var ' + ($nextValid) + ' = ' + ($sch.then) + '; ';\n        } else {\n          $it.schema = $sch.then;\n          $it.schemaPath = $schemaPath + '[' + $caseIndex + '].then';\n          $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/then';\n          out += '  ' + (it.validate($it)) + ' ';\n          $it.baseId = $currentBaseId;\n        }\n        out += '  } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } } ';\n      } else {\n        out += ' ' + ($ifPassed) + ' = true;  ';\n        if (typeof $sch.then == 'boolean') {\n          if ($sch.then === false) {\n            var $$outStack = $$outStack || [];\n            $$outStack.push(out);\n            out = ''; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('switch') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { caseIndex: ' + ($caseIndex) + ' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should pass \"switch\" keyword validation\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            var __err = out;\n            out = $$outStack.pop();\n            if (!it.compositeRule && $breakOnError) {\n              /* istanbul ignore if */\n              if (it.async) {\n                out += ' throw new ValidationError([' + (__err) + ']); ';\n              } else {\n                out += ' validate.errors = [' + (__err) + ']; return false; ';\n              }\n            } else {\n              out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n            }\n          }\n          out += ' var ' + ($nextValid) + ' = ' + ($sch.then) + '; ';\n        } else {\n          $it.schema = $sch.then;\n          $it.schemaPath = $schemaPath + '[' + $caseIndex + '].then';\n          $it.errSchemaPath = $errSchemaPath + '/' + $caseIndex + '/then';\n          out += '  ' + (it.validate($it)) + ' ';\n          $it.baseId = $currentBaseId;\n        }\n      }\n      $shouldContinue = $sch.continue\n    }\n  }\n  out += '' + ($closingBraces) + 'var ' + ($valid) + ' = ' + ($nextValid) + ';';\n  return out;\n}\n","'use strict';\n\nvar sequences = {};\n\nvar DEFAULTS = {\n  timestamp: function() { return Date.now(); },\n  datetime: function() { return (new Date).toISOString(); },\n  date: function() { return (new Date).toISOString().slice(0, 10); },\n  time: function() { return (new Date).toISOString().slice(11); },\n  random: function() { return Math.random(); },\n  randomint: function (args) {\n    var limit = args && args.max || 2;\n    return function() { return Math.floor(Math.random() * limit); };\n  },\n  seq: function (args) {\n    var name = args && args.name || '';\n    sequences[name] = sequences[name] || 0;\n    return function() { return sequences[name]++; };\n  }\n};\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    compile: function (schema, parentSchema, it) {\n      var funcs = {};\n\n      for (var key in schema) {\n        var d = schema[key];\n        var func = getDefault(typeof d == 'string' ? d : d.func);\n        funcs[key] = func.length ? func(d.args) : func;\n      }\n\n      return it.opts.useDefaults && !it.compositeRule\n              ? assignDefaults\n              : noop;\n\n      function assignDefaults(data) {\n        for (var prop in schema){\n          if (data[prop] === undefined\n            || (it.opts.useDefaults == 'empty'\n            && (data[prop] === null || data[prop] === '')))\n            data[prop] = funcs[prop]();\n        }\n        return true;\n      }\n\n      function noop() { return true; }\n    },\n    DEFAULTS: DEFAULTS,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: ['string', 'object'],\n        additionalProperties: false,\n        required: ['func', 'args'],\n        properties: {\n          func: { type: 'string' },\n          args: { type: 'object' }\n        }\n      }\n    }\n  };\n\n  ajv.addKeyword('dynamicDefaults', defFunc.definition);\n  return ajv;\n\n  function getDefault(d) {\n    var def = DEFAULTS[d];\n    if (def) return def;\n    throw new Error('invalid \"dynamicDefaults\" keyword property value: ' + d);\n  }\n};\n","'use strict';\n\nmodule.exports = require('./_formatLimit')('Maximum');\n","'use strict';\n\nmodule.exports = require('./_formatLimit')('Minimum');\n","'use strict';\n\nmodule.exports = {\n  'instanceof': require('./instanceof'),\n  range: require('./range'),\n  regexp: require('./regexp'),\n  'typeof': require('./typeof'),\n  dynamicDefaults: require('./dynamicDefaults'),\n  allRequired: require('./allRequired'),\n  anyRequired: require('./anyRequired'),\n  oneRequired: require('./oneRequired'),\n  prohibited: require('./prohibited'),\n  uniqueItemProperties: require('./uniqueItemProperties'),\n  deepProperties: require('./deepProperties'),\n  deepRequired: require('./deepRequired'),\n  formatMinimum: require('./formatMinimum'),\n  formatMaximum: require('./formatMaximum'),\n  patternRequired: require('./patternRequired'),\n  'switch': require('./switch'),\n  select: require('./select'),\n  transform: require('./transform')\n};\n","'use strict';\n\nvar CONSTRUCTORS = {\n  Object: Object,\n  Array: Array,\n  Function: Function,\n  Number: Number,\n  String: String,\n  Date: Date,\n  RegExp: RegExp\n};\n\nmodule.exports = function defFunc(ajv) {\n  /* istanbul ignore else */\n  if (typeof Buffer != 'undefined')\n    CONSTRUCTORS.Buffer = Buffer;\n\n  /* istanbul ignore else */\n  if (typeof Promise != 'undefined')\n    CONSTRUCTORS.Promise = Promise;\n\n  defFunc.definition = {\n    compile: function (schema) {\n      if (typeof schema == 'string') {\n        var Constructor = getConstructor(schema);\n        return function (data) {\n          return data instanceof Constructor;\n        };\n      }\n\n      var constructors = schema.map(getConstructor);\n      return function (data) {\n        for (var i=0; i<constructors.length; i++)\n          if (data instanceof constructors[i]) return true;\n        return false;\n      };\n    },\n    CONSTRUCTORS: CONSTRUCTORS,\n    metaSchema: {\n      anyOf: [\n        { type: 'string' },\n        {\n          type: 'array',\n          items: { type: 'string' }\n        }\n      ]\n    }\n  };\n\n  ajv.addKeyword('instanceof', defFunc.definition);\n  return ajv;\n\n  function getConstructor(c) {\n    var Constructor = CONSTRUCTORS[c];\n    if (Constructor) return Constructor;\n    throw new Error('invalid \"instanceof\" keyword value ' + c);\n  }\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema) {\n      if (schema.length == 0) return true;\n      if (schema.length == 1) return {required: schema};\n      var schemas = schema.map(function (prop) {\n        return {required: [prop]};\n      });\n      return {oneOf: schemas};\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    }\n  };\n\n  ajv.addKeyword('oneRequired', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    inline: require('./dotjs/patternRequired'),\n    statements: true,\n    errors: 'full',\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string',\n        format: 'regex'\n      },\n      uniqueItems: true\n    }\n  };\n\n  ajv.addKeyword('patternRequired', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema) {\n      if (schema.length == 0) return true;\n      if (schema.length == 1) return {not: {required: schema}};\n      var schemas = schema.map(function (prop) {\n        return {required: [prop]};\n      });\n      return {not: {anyOf: schemas}};\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    }\n  };\n\n  ajv.addKeyword('prohibited', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'number',\n    macro: function (schema, parentSchema) {\n      var min = schema[0]\n        , max = schema[1]\n        , exclusive = parentSchema.exclusiveRange;\n\n      validateRangeSchema(min, max, exclusive);\n\n      return exclusive === true\n              ? {exclusiveMinimum: min, exclusiveMaximum: max}\n              : {minimum: min, maximum: max};\n    },\n    metaSchema: {\n      type: 'array',\n      minItems: 2,\n      maxItems: 2,\n      items: { type: 'number' }\n    }\n  };\n\n  ajv.addKeyword('range', defFunc.definition);\n  ajv.addKeyword('exclusiveRange');\n  return ajv;\n\n  function validateRangeSchema(min, max, exclusive) {\n    if (exclusive !== undefined && typeof exclusive != 'boolean')\n      throw new Error('Invalid schema for exclusiveRange keyword, should be boolean');\n\n    if (min > max || (exclusive && min == max))\n      throw new Error('There are no numbers in range');\n  }\n};\n","'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'string',\n    inline: function (it, keyword, schema) {\n      return getRegExp() + '.test(data' + (it.dataLevel || '') + ')';\n\n      function getRegExp() {\n        try {\n          if (typeof schema == 'object')\n            return new RegExp(schema.pattern, schema.flags);\n\n          var rx = schema.match(/^\\/(.*)\\/([gimuy]*)$/);\n          if (rx) return new RegExp(rx[1], rx[2]);\n          throw new Error('cannot parse string into RegExp');\n        } catch(e) {\n          console.error('regular expression', schema, 'is invalid');\n          throw e;\n        }\n      }\n    },\n    metaSchema: {\n      type: ['string', 'object'],\n      properties: {\n        pattern: { type: 'string' },\n        flags: { type: 'string' }\n      },\n      required: ['pattern'],\n      additionalProperties: false\n    }\n  };\n\n  ajv.addKeyword('regexp', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nvar util = require('./_util');\n\nmodule.exports = function defFunc(ajv) {\n  if (!ajv._opts.$data) {\n    console.warn('keyword select requires $data option');\n    return ajv;\n  }\n  var metaSchemaRef = util.metaSchemaRef(ajv);\n  var compiledCaseSchemas = [];\n\n  defFunc.definition = {\n    validate: function v(schema, data, parentSchema) {\n      if (parentSchema.selectCases === undefined)\n        throw new Error('keyword \"selectCases\" is absent');\n      var compiled = getCompiledSchemas(parentSchema, false);\n      var validate = compiled.cases[schema];\n      if (validate === undefined) validate = compiled.default;\n      if (typeof validate == 'boolean') return validate;\n      var valid = validate(data);\n      if (!valid) v.errors = validate.errors;\n      return valid;\n    },\n    $data: true,\n    metaSchema: { type: ['string', 'number', 'boolean', 'null'] }\n  };\n\n  ajv.addKeyword('select', defFunc.definition);\n  ajv.addKeyword('selectCases', {\n    compile: function (schemas, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      for (var value in schemas)\n        compiled.cases[value] = compileOrBoolean(schemas[value]);\n      return function() { return true; };\n    },\n    valid: true,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: metaSchemaRef\n    }\n  });\n  ajv.addKeyword('selectDefault', {\n    compile: function (schema, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      compiled.default = compileOrBoolean(schema);\n      return function() { return true; };\n    },\n    valid: true,\n    metaSchema: metaSchemaRef\n  });\n  return ajv;\n\n\n  function getCompiledSchemas(parentSchema, create) {\n    var compiled;\n    compiledCaseSchemas.some(function (c) {\n      if (c.parentSchema === parentSchema) {\n        compiled = c;\n        return true;\n      }\n    });\n    if (!compiled && create !== false) {\n      compiled = {\n        parentSchema: parentSchema,\n        cases: {},\n        default: true\n      };\n      compiledCaseSchemas.push(compiled);\n    }\n    return compiled;\n  }\n\n  function compileOrBoolean(schema) {\n    return typeof schema == 'boolean'\n            ? schema\n            : ajv.compile(schema);\n  }\n};\n","'use strict';\n\nvar util = require('./_util');\n\nmodule.exports = function defFunc(ajv) {\n  if (ajv.RULES.keywords.switch && ajv.RULES.keywords.if) return;\n\n  var metaSchemaRef = util.metaSchemaRef(ajv);\n\n  defFunc.definition = {\n    inline: require('./dotjs/switch'),\n    statements: true,\n    errors: 'full',\n    metaSchema: {\n      type: 'array',\n      items: {\n        required: [ 'then' ],\n        properties: {\n          'if': metaSchemaRef,\n          'then': {\n            anyOf: [\n              { type: 'boolean' },\n              metaSchemaRef\n            ]\n          },\n          'continue': { type: 'boolean' }\n        },\n        additionalProperties: false,\n        dependencies: {\n          'continue': [ 'if' ]\n        }\n      }\n    }\n  };\n\n  ajv.addKeyword('switch', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nmodule.exports = function defFunc (ajv) {\n  var transform = {\n    trimLeft: function (value) {\n      return value.replace(/^[\\s]+/, '');\n    },\n    trimRight: function (value) {\n      return value.replace(/[\\s]+$/, '');\n    },\n    trim: function (value) {\n      return value.trim();\n    },\n    toLowerCase: function (value) {\n      return value.toLowerCase();\n    },\n    toUpperCase: function (value) {\n      return value.toUpperCase();\n    },\n    toEnumCase: function (value, cfg) {\n      return cfg.hash[makeHashTableKey(value)] || value;\n    }\n  };\n\n  defFunc.definition = {\n    type: 'string',\n    errors: false,\n    modifying: true,\n    valid: true,\n    compile: function (schema, parentSchema) {\n      var cfg;\n\n      if (schema.indexOf('toEnumCase') !== -1) {\n        // build hash table to enum values\n        cfg = {hash: {}};\n\n        // requires `enum` in schema\n        if (!parentSchema.enum)\n          throw new Error('Missing enum. To use `transform:[\"toEnumCase\"]`, `enum:[...]` is required.');\n        for (var i = parentSchema.enum.length; i--; i) {\n          var v = parentSchema.enum[i];\n          if (typeof v !== 'string') continue;\n          var k = makeHashTableKey(v);\n          // requires all `enum` values have unique keys\n          if (cfg.hash[k])\n            throw new Error('Invalid enum uniqueness. To use `transform:[\"toEnumCase\"]`, all values must be unique when case insensitive.');\n          cfg.hash[k] = v;\n        }\n      }\n\n      return function (data, dataPath, object, key) {\n        // skip if value only\n        if (!object) return;\n\n        // apply transform in order provided\n        for (var j = 0, l = schema.length; j < l; j++)\n          data = transform[schema[j]](data, cfg);\n\n        object[key] = data;\n      };\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string',\n        enum: [\n          'trimLeft', 'trimRight', 'trim',\n          'toLowerCase', 'toUpperCase', 'toEnumCase'\n        ]\n      }\n    }\n  };\n\n  ajv.addKeyword('transform', defFunc.definition);\n  return ajv;\n\n  function makeHashTableKey (value) {\n    return value.toLowerCase();\n  }\n};\n","'use strict';\n\nvar KNOWN_TYPES = ['undefined', 'string', 'number', 'object', 'function', 'boolean', 'symbol'];\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    inline: function (it, keyword, schema) {\n      var data = 'data' + (it.dataLevel || '');\n      if (typeof schema == 'string') return 'typeof ' + data + ' == \"' + schema + '\"';\n      schema = 'validate.schema' + it.schemaPath + '.' + keyword;\n      return schema + '.indexOf(typeof ' + data + ') >= 0';\n    },\n    metaSchema: {\n      anyOf: [\n        {\n          type: 'string',\n          enum: KNOWN_TYPES\n        },\n        {\n          type: 'array',\n          items: {\n            type: 'string',\n            enum: KNOWN_TYPES\n          }\n        }\n      ]\n    }\n  };\n\n  ajv.addKeyword('typeof', defFunc.definition);\n  return ajv;\n};\n","'use strict';\n\nvar SCALAR_TYPES = ['number', 'integer', 'string', 'boolean', 'null'];\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'array',\n    compile: function(keys, parentSchema, it) {\n      var equal = it.util.equal;\n      var scalar = getScalarKeys(keys, parentSchema);\n\n      return function(data) {\n        if (data.length > 1) {\n          for (var k=0; k < keys.length; k++) {\n            var i, key = keys[k];\n            if (scalar[k]) {\n              var hash = {};\n              for (i = data.length; i--;) {\n                if (!data[i] || typeof data[i] != 'object') continue;\n                var prop = data[i][key];\n                if (prop && typeof prop == 'object') continue;\n                if (typeof prop == 'string') prop = '\"' + prop;\n                if (hash[prop]) return false;\n                hash[prop] = true;\n              }\n            } else {\n              for (i = data.length; i--;) {\n                if (!data[i] || typeof data[i] != 'object') continue;\n                for (var j = i; j--;) {\n                  if (data[j] && typeof data[j] == 'object' && equal(data[i][key], data[j][key]))\n                    return false;\n                }\n              }\n            }\n          }\n        }\n        return true;\n      };\n    },\n    metaSchema: {\n      type: 'array',\n      items: {type: 'string'}\n    }\n  };\n\n  ajv.addKeyword('uniqueItemProperties', defFunc.definition);\n  return ajv;\n};\n\n\nfunction getScalarKeys(keys, schema) {\n  return keys.map(function(key) {\n    var properties = schema.items && schema.items.properties;\n    var propType = properties && properties[key] && properties[key].type;\n    return Array.isArray(propType)\n            ? propType.indexOf('object') < 0 && propType.indexOf('array') < 0\n            : SCALAR_TYPES.indexOf(propType) >= 0;\n  });\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? (typeof $thenSch == 'object' && Object.keys($thenSch).length > 0) || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? (typeof $elseSch == 'object' && Object.keys($elseSch).length > 0) || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? (typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0) || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? (typeof $propertySch == 'object' && Object.keys($propertySch).length > 0) || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [\"\"];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; var ' + ($coerced) + ' = undefined; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ') && ' + ($data) + '.length == 1) { ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + '; if (' + (it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers)) + ') ' + ($coerced) + ' = ' + ($data) + '; } ';\n        }\n        out += ' if (' + ($coerced) + ' !== undefined) ; ';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($type == 'string') {\n              out += ' else if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' else if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' else if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' else if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' else if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' else {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } if (' + ($coerced) + ' !== undefined) {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","/*\r\n *  big.js v5.2.2\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2018 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *  https://github.com/MikeMcl/big.js/LICENCE\r\n */\r\n;(function (GLOBAL) {\r\n  'use strict';\r\n  var Big,\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n    // The default values below must be integers within the stated ranges.\r\n\r\n    /*\r\n     * The maximum number of decimal places (DP) of the results of operations involving division:\r\n     * div and sqrt, and pow with negative exponents.\r\n     */\r\n    DP = 20,          // 0 to MAX_DP\r\n\r\n    /*\r\n     * The rounding mode (RM) used when rounding to the above decimal places.\r\n     *\r\n     *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n     *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n     *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n     *  3  Away from zero.                                  (ROUND_UP)\r\n     */\r\n    RM = 1,             // 0, 1, 2 or 3\r\n\r\n    // The maximum value of DP and Big.DP.\r\n    MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n    // The maximum magnitude of the exponent argument to the pow method.\r\n    MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n    /*\r\n     * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n     * (JavaScript numbers: -7)\r\n     * -1000000 is the minimum recommended exponent value of a Big.\r\n     */\r\n    NE = -7,            // 0 to -1000000\r\n\r\n    /*\r\n     * The positive exponent (PE) at and above which toString returns exponential notation.\r\n     * (JavaScript numbers: 21)\r\n     * 1000000 is the maximum recommended exponent value of a Big.\r\n     * (This limit is not enforced or checked.)\r\n     */\r\n    PE = 21,            // 0 to 1000000\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n    // Error messages.\r\n    NAME = '[big.js] ',\r\n    INVALID = NAME + 'Invalid ',\r\n    INVALID_DP = INVALID + 'decimal places',\r\n    INVALID_RM = INVALID + 'rounding mode',\r\n    DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n    // The shared prototype object.\r\n    P = {},\r\n    UNDEFINED = void 0,\r\n    NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n  /*\r\n   * Create and return a Big constructor.\r\n   *\r\n   */\r\n  function _Big_() {\r\n\r\n    /*\r\n     * The Big constructor and exported function.\r\n     * Create and return a new instance of a Big number object.\r\n     *\r\n     * n {number|string|Big} A numeric value.\r\n     */\r\n    function Big(n) {\r\n      var x = this;\r\n\r\n      // Enable constructor usage without new.\r\n      if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\r\n\r\n      // Duplicate.\r\n      if (n instanceof Big) {\r\n        x.s = n.s;\r\n        x.e = n.e;\r\n        x.c = n.c.slice();\r\n      } else {\r\n        parse(x, n);\r\n      }\r\n\r\n      /*\r\n       * Retain a reference to this Big constructor, and shadow Big.prototype.constructor which\r\n       * points to Object.\r\n       */\r\n      x.constructor = Big;\r\n    }\r\n\r\n    Big.prototype = P;\r\n    Big.DP = DP;\r\n    Big.RM = RM;\r\n    Big.NE = NE;\r\n    Big.PE = PE;\r\n    Big.version = '5.2.2';\r\n\r\n    return Big;\r\n  }\r\n\r\n\r\n  /*\r\n   * Parse the number or string value passed to a Big constructor.\r\n   *\r\n   * x {Big} A Big number instance.\r\n   * n {number|string} A numeric value.\r\n   */\r\n  function parse(x, n) {\r\n    var e, i, nl;\r\n\r\n    // Minus zero?\r\n    if (n === 0 && 1 / n < 0) n = '-0';\r\n    else if (!NUMERIC.test(n += '')) throw Error(INVALID + 'number');\r\n\r\n    // Determine sign.\r\n    x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n    // Decimal point?\r\n    if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n    // Exponential form?\r\n    if ((i = n.search(/e/i)) > 0) {\r\n\r\n      // Determine exponent.\r\n      if (e < 0) e = i;\r\n      e += +n.slice(i + 1);\r\n      n = n.substring(0, i);\r\n    } else if (e < 0) {\r\n\r\n      // Integer.\r\n      e = n.length;\r\n    }\r\n\r\n    nl = n.length;\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n    if (i == nl) {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    } else {\r\n\r\n      // Determine trailing zeros.\r\n      for (; nl > 0 && n.charAt(--nl) == '0';);\r\n      x.e = e - i - 1;\r\n      x.c = [];\r\n\r\n      // Convert string to array of digits without leading/trailing zeros.\r\n      for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Round Big x to a maximum of dp decimal places using rounding mode rm.\r\n   * Called by stringify, P.div, P.round and P.sqrt.\r\n   *\r\n   * x {Big} The Big to round.\r\n   * dp {number} Integer, 0 to MAX_DP inclusive.\r\n   * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\r\n   * [more] {boolean} Whether the result of division was truncated.\r\n   */\r\n  function round(x, dp, rm, more) {\r\n    var xc = x.c,\r\n      i = x.e + dp + 1;\r\n\r\n    if (i < xc.length) {\r\n      if (rm === 1) {\r\n\r\n        // xc[i] is the digit after the digit that may be rounded up.\r\n        more = xc[i] >= 5;\r\n      } else if (rm === 2) {\r\n        more = xc[i] > 5 || xc[i] == 5 &&\r\n          (more || i < 0 || xc[i + 1] !== UNDEFINED || xc[i - 1] & 1);\r\n      } else if (rm === 3) {\r\n        more = more || !!xc[0];\r\n      } else {\r\n        more = false;\r\n        if (rm !== 0) throw Error(INVALID_RM);\r\n      }\r\n\r\n      if (i < 1) {\r\n        xc.length = 1;\r\n\r\n        if (more) {\r\n\r\n          // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n          x.e = -dp;\r\n          xc[0] = 1;\r\n        } else {\r\n\r\n          // Zero.\r\n          xc[0] = x.e = 0;\r\n        }\r\n      } else {\r\n\r\n        // Remove any digits after the required decimal places.\r\n        xc.length = i--;\r\n\r\n        // Round up?\r\n        if (more) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up.\r\n          for (; ++xc[i] > 9;) {\r\n            xc[i] = 0;\r\n            if (!i--) {\r\n              ++x.e;\r\n              xc.unshift(1);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; !xc[--i];) xc.pop();\r\n      }\r\n    } else if (rm < 0 || rm > 3 || rm !== ~~rm) {\r\n      throw Error(INVALID_RM);\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of Big x in normal or exponential notation.\r\n   * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n   *\r\n   * x {Big}\r\n   * id? {number} Caller id.\r\n   *         1 toExponential\r\n   *         2 toFixed\r\n   *         3 toPrecision\r\n   *         4 valueOf\r\n   * n? {number|undefined} Caller's argument.\r\n   * k? {number|undefined}\r\n   */\r\n  function stringify(x, id, n, k) {\r\n    var e, s,\r\n      Big = x.constructor,\r\n      z = !x.c[0];\r\n\r\n    if (n !== UNDEFINED) {\r\n      if (n !== ~~n || n < (id == 3) || n > MAX_DP) {\r\n        throw Error(id == 3 ? INVALID + 'precision' : INVALID_DP);\r\n      }\r\n\r\n      x = new Big(x);\r\n\r\n      // The index of the digit that may be rounded up.\r\n      n = k - x.e;\r\n\r\n      // Round?\r\n      if (x.c.length > ++k) round(x, n, Big.RM);\r\n\r\n      // toFixed: recalculate k as x.e may have changed if value rounded up.\r\n      if (id == 2) k = x.e + n + 1;\r\n\r\n      // Append zeros?\r\n      for (; x.c.length < k;) x.c.push(0);\r\n    }\r\n\r\n    e = x.e;\r\n    s = x.c.join('');\r\n    n = s.length;\r\n\r\n    // Exponential notation?\r\n    if (id != 2 && (id == 1 || id == 3 && k <= e || e <= Big.NE || e >= Big.PE)) {\r\n      s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n    // Normal notation.\r\n    } else if (e < 0) {\r\n      for (; ++e;) s = '0' + s;\r\n      s = '0.' + s;\r\n    } else if (e > 0) {\r\n      if (++e > n) for (e -= n; e--;) s += '0';\r\n      else if (e < n) s = s.slice(0, e) + '.' + s.slice(e);\r\n    } else if (n > 1) {\r\n      s = s.charAt(0) + '.' + s.slice(1);\r\n    }\r\n\r\n    return x.s < 0 && (!z || id == 4) ? '-' + s : s;\r\n  }\r\n\r\n\r\n  // Prototype/instance methods\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the absolute value of this Big.\r\n   */\r\n  P.abs = function () {\r\n    var x = new this.constructor(this);\r\n    x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return 1 if the value of this Big is greater than the value of Big y,\r\n   *       -1 if the value of this Big is less than the value of Big y, or\r\n   *        0 if they have the same value.\r\n  */\r\n  P.cmp = function (y) {\r\n    var isneg,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new x.constructor(y)).c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either zero?\r\n    if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    isneg = i < 0;\r\n\r\n    // Compare exponents.\r\n    if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = -1; ++i < j;) {\r\n      if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n    }\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n   * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n   */\r\n  P.div = function (y) {\r\n    var x = this,\r\n      Big = x.constructor,\r\n      a = x.c,                  // dividend\r\n      b = (y = new Big(y)).c,   // divisor\r\n      k = x.s == y.s ? 1 : -1,\r\n      dp = Big.DP;\r\n\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) throw Error(INVALID_DP);\r\n\r\n    // Divisor is zero?\r\n    if (!b[0]) throw Error(DIV_BY_ZERO);\r\n\r\n    // Dividend is 0? Return +-0.\r\n    if (!a[0]) return new Big(k * 0);\r\n\r\n    var bl, bt, n, cmp, ri,\r\n      bz = b.slice(),\r\n      ai = bl = b.length,\r\n      al = a.length,\r\n      r = a.slice(0, bl),   // remainder\r\n      rl = r.length,\r\n      q = y,                // quotient\r\n      qc = q.c = [],\r\n      qi = 0,\r\n      d = dp + (q.e = x.e - y.e) + 1;    // number of digits of the result\r\n\r\n    q.s = k;\r\n    k = d < 0 ? 0 : d;\r\n\r\n    // Create version of divisor with leading zero.\r\n    bz.unshift(0);\r\n\r\n    // Add zeros to make remainder as long as divisor.\r\n    for (; rl++ < bl;) r.push(0);\r\n\r\n    do {\r\n\r\n      // n is how many times the divisor goes into current remainder.\r\n      for (n = 0; n < 10; n++) {\r\n\r\n        // Compare divisor and remainder.\r\n        if (bl != (rl = r.length)) {\r\n          cmp = bl > rl ? 1 : -1;\r\n        } else {\r\n          for (ri = -1, cmp = 0; ++ri < bl;) {\r\n            if (b[ri] != r[ri]) {\r\n              cmp = b[ri] > r[ri] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        // If divisor < remainder, subtract divisor from remainder.\r\n        if (cmp < 0) {\r\n\r\n          // Remainder can't be more than 1 digit longer than divisor.\r\n          // Equalise lengths using divisor with extra leading zero?\r\n          for (bt = rl == bl ? b : bz; rl;) {\r\n            if (r[--rl] < bt[rl]) {\r\n              ri = rl;\r\n              for (; ri && !r[--ri];) r[ri] = 9;\r\n              --r[ri];\r\n              r[rl] += 10;\r\n            }\r\n            r[rl] -= bt[rl];\r\n          }\r\n\r\n          for (; !r[0];) r.shift();\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Add the digit n to the result array.\r\n      qc[qi++] = cmp ? n : ++n;\r\n\r\n      // Update the remainder.\r\n      if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n      else r = [a[ai]];\r\n\r\n    } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n    // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n    if (!qc[0] && qi != 1) {\r\n\r\n      // There can't be more than one zero.\r\n      qc.shift();\r\n      q.e--;\r\n    }\r\n\r\n    // Round?\r\n    if (qi > d) round(q, dp, Big.RM, r[0] !== UNDEFINED);\r\n\r\n    return q;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n   */\r\n  P.eq = function (y) {\r\n    return !this.cmp(y);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n   * false.\r\n   */\r\n  P.gt = function (y) {\r\n    return this.cmp(y) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n   * return false.\r\n   */\r\n  P.gte = function (y) {\r\n    return this.cmp(y) > -1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n   */\r\n  P.lt = function (y) {\r\n    return this.cmp(y) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n   * return false.\r\n   */\r\n  P.lte = function (y) {\r\n    return this.cmp(y) < 1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n   */\r\n  P.minus = P.sub = function (y) {\r\n    var i, j, t, xlty,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xc = x.c.slice(),\r\n      xe = x.e,\r\n      yc = y.c,\r\n      ye = y.e;\r\n\r\n    // Either zero?\r\n    if (!xc[0] || !yc[0]) {\r\n\r\n      // y is non-zero? x is non-zero? Or both are zero.\r\n      return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\r\n    }\r\n\r\n    // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n    if (a = xe - ye) {\r\n\r\n      if (xlty = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (b = a; b--;) t.push(0);\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n        if (xc[b] != yc[b]) {\r\n          xlty = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xlty) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    /*\r\n     * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n     * needs to start at yc.length.\r\n     */\r\n    if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n    // Subtract yc from xc.\r\n    for (b = i; j > a;) {\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i];) xc[i] = 9;\r\n        --xc[i];\r\n        xc[j] += 10;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (; xc[--b] === 0;) xc.pop();\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] === 0;) {\r\n      xc.shift();\r\n      --ye;\r\n    }\r\n\r\n    if (!xc[0]) {\r\n\r\n      // n - n = +0\r\n      y.s = 1;\r\n\r\n      // Result must be zero.\r\n      xc = [ye = 0];\r\n    }\r\n\r\n    y.c = xc;\r\n    y.e = ye;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n   */\r\n  P.mod = function (y) {\r\n    var ygtx,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    if (!y.c[0]) throw Error(DIV_BY_ZERO);\r\n\r\n    x.s = y.s = 1;\r\n    ygtx = y.cmp(x) == 1;\r\n    x.s = a;\r\n    y.s = b;\r\n\r\n    if (ygtx) return new Big(x);\r\n\r\n    a = Big.DP;\r\n    b = Big.RM;\r\n    Big.DP = Big.RM = 0;\r\n    x = x.div(y);\r\n    Big.DP = a;\r\n    Big.RM = b;\r\n\r\n    return this.minus(x.times(y));\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n   */\r\n  P.plus = P.add = function (y) {\r\n    var t,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e,\r\n      xc = x.c,\r\n      ye = y.e,\r\n      yc = y.c;\r\n\r\n    // Either zero? y is non-zero? x is non-zero? Or both are zero.\r\n    if (!xc[0] || !yc[0]) return yc[0] ? y : new Big(xc[0] ? x : a * 0);\r\n\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents.\r\n    // Note: reverse faster than unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--;) t.push(0);\r\n      t.reverse();\r\n    }\r\n\r\n    // Point xc to the longer array.\r\n    if (xc.length - yc.length < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n    }\r\n\r\n    a = yc.length;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n    for (b = 0; a; xc[a] %= 10) b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n    if (b) {\r\n      xc.unshift(b);\r\n      ++ye;\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (a = xc.length; xc[--a] === 0;) xc.pop();\r\n\r\n    y.c = xc;\r\n    y.e = ye;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a Big whose value is the value of this Big raised to the power n.\r\n   * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n   * mode Big.RM.\r\n   *\r\n   * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n   */\r\n  P.pow = function (n) {\r\n    var x = this,\r\n      one = new x.constructor(1),\r\n      y = one,\r\n      isneg = n < 0;\r\n\r\n    if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) throw Error(INVALID + 'exponent');\r\n    if (isneg) n = -n;\r\n\r\n    for (;;) {\r\n      if (n & 1) y = y.times(x);\r\n      n >>= 1;\r\n      if (!n) break;\r\n      x = x.times(x);\r\n    }\r\n\r\n    return isneg ? one.div(y) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big rounded using rounding mode rm\r\n   * to a maximum of dp decimal places, or, if dp is negative, to an integer which is a\r\n   * multiple of 10**-dp.\r\n   * If dp is not specified, round to 0 decimal places.\r\n   * If rm is not specified, use Big.RM.\r\n   *\r\n   * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n   * rm? 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\r\n   */\r\n  P.round = function (dp, rm) {\r\n    var Big = this.constructor;\r\n    if (dp === UNDEFINED) dp = 0;\r\n    else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) throw Error(INVALID_DP);\r\n    return round(new Big(this), dp, rm === UNDEFINED ? Big.RM : rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n   * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n   */\r\n  P.sqrt = function () {\r\n    var r, c, t,\r\n      x = this,\r\n      Big = x.constructor,\r\n      s = x.s,\r\n      e = x.e,\r\n      half = new Big(0.5);\r\n\r\n    // Zero?\r\n    if (!x.c[0]) return new Big(x);\r\n\r\n    // Negative?\r\n    if (s < 0) throw Error(NAME + 'No square root');\r\n\r\n    // Estimate.\r\n    s = Math.sqrt(x + '');\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n    if (s === 0 || s === 1 / 0) {\r\n      c = x.c.join('');\r\n      if (!(c.length + e & 1)) c += '0';\r\n      s = Math.sqrt(c);\r\n      e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n      r = new Big((s == 1 / 0 ? '1e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n    } else {\r\n      r = new Big(s);\r\n    }\r\n\r\n    e = r.e + (Big.DP += 4);\r\n\r\n    // Newton-Raphson iteration.\r\n    do {\r\n      t = r;\r\n      r = half.times(t.plus(x.div(t)));\r\n    } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n    return round(r, Big.DP -= 4, Big.RM);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big times the value of Big y.\r\n   */\r\n  P.times = P.mul = function (y) {\r\n    var c,\r\n      x = this,\r\n      Big = x.constructor,\r\n      xc = x.c,\r\n      yc = (y = new Big(y)).c,\r\n      a = xc.length,\r\n      b = yc.length,\r\n      i = x.e,\r\n      j = y.e;\r\n\r\n    // Determine sign of result.\r\n    y.s = x.s == y.s ? 1 : -1;\r\n\r\n    // Return signed 0 if either 0.\r\n    if (!xc[0] || !yc[0]) return new Big(y.s * 0);\r\n\r\n    // Initialise exponent of result as x.e + y.e.\r\n    y.e = i + j;\r\n\r\n    // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n    if (a < b) {\r\n      c = xc;\r\n      xc = yc;\r\n      yc = c;\r\n      j = a;\r\n      a = b;\r\n      b = j;\r\n    }\r\n\r\n    // Initialise coefficient array of result with zeros.\r\n    for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n    // Multiply.\r\n\r\n    // i is initially xc.length.\r\n    for (i = b; i--;) {\r\n      b = 0;\r\n\r\n      // a is yc.length.\r\n      for (j = a + i; j > i;) {\r\n\r\n        // Current sum of products at this digit position, plus carry.\r\n        b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n        c[j--] = b % 10;\r\n\r\n        // carry\r\n        b = b / 10 | 0;\r\n      }\r\n\r\n      c[j] = (c[j] + b) % 10;\r\n    }\r\n\r\n    // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n    if (b) ++y.e;\r\n    else c.shift();\r\n\r\n    // Remove trailing zeros.\r\n    for (i = c.length; !c[--i];) c.pop();\r\n    y.c = c;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big in exponential notation to dp fixed decimal\r\n   * places and rounded using Big.RM.\r\n   *\r\n   * dp? {number} Integer, 0 to MAX_DP inclusive.\r\n   */\r\n  P.toExponential = function (dp) {\r\n    return stringify(this, 1, dp, dp);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big in normal notation to dp fixed decimal\r\n   * places and rounded using Big.RM.\r\n   *\r\n   * dp? {number} Integer, 0 to MAX_DP inclusive.\r\n   *\r\n   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n   */\r\n  P.toFixed = function (dp) {\r\n    return stringify(this, 2, dp, this.e + dp);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big rounded to sd significant digits using\r\n   * Big.RM. Use exponential notation if sd is less than the number of digits necessary to represent\r\n   * the integer part of the value in normal notation.\r\n   *\r\n   * sd {number} Integer, 1 to MAX_DP inclusive.\r\n   */\r\n  P.toPrecision = function (sd) {\r\n    return stringify(this, 3, sd, sd - 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big.\r\n   * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n   * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n   * Omit the sign for negative zero.\r\n   */\r\n  P.toString = function () {\r\n    return stringify(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big.\r\n   * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n   * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n   * Include the sign for negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return stringify(this, 4);\r\n  };\r\n\r\n\r\n  // Export\r\n\r\n\r\n  Big = _Big_();\r\n\r\n  Big['default'] = Big.Big = Big;\r\n\r\n  //AMD.\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () { return Big; });\r\n\r\n  // Node and other CommonJS-like environments that support module.exports.\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = Big;\r\n\r\n  //Browser.\r\n  } else {\r\n    GLOBAL.Big = Big;\r\n  }\r\n})(this);\r\n","module.exports = [\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"#\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"*\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"0\",\n  \"\",\n  \"\",\n  \"1\",\n  \"2\",\n  \"\",\n  \"\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"\",\n  \"\",\n  \"\"\n]","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","\"use strict\";\n\nconst loader = require('./index');\n\nmodule.exports = loader.default;\nmodule.exports.raw = loader.raw;","export default __webpack_public_path__ + \"627a342d6eba738cf103d753bf442a3d.png\";","export default __webpack_public_path__ + \"1940711ae250abc4871bf563f44ab585.png\";","export default __webpack_public_path__ + \"7ac69aefeb77efddca4311160ba48eb9.png\";","export default __webpack_public_path__ + \"8a09527b06eeee9b52984520552f3610.png\";","export default __webpack_public_path__ + \"63bc9d90c462bcc100459f7d44dab7e2.jsx\";","export default __webpack_public_path__ + \"7fe555ee73184c72e031821a22f0d544.png\";","export default __webpack_public_path__ + \"59b860b8c26e2787d9a2d2c486ccb637.png\";","export default __webpack_public_path__ + \"dbfe6f136c603b175357f30c0300be38.png\";","export default __webpack_public_path__ + \"aa2528d7a8a813247c2d2b90b028e437.png\";","export default __webpack_public_path__ + \"2b2983e86d6555fefb86e2beabb55feb.png\";","export default __webpack_public_path__ + \"b067dd009dbd8781f1973feed20bb7eb.png\";","export default __webpack_public_path__ + \"5211260c15f95de001ff416d5a098ceb.png\";","export default __webpack_public_path__ + \"c0190c8ec953bd7420ee373319a3f0c1.jsx\";","export default __webpack_public_path__ + \"d3a35822a59e861527f48d3949879d6c.jsx\";","export default __webpack_public_path__ + \"362cf30681aa40b46d218290191cab6d.jsx\";","export default __webpack_public_path__ + \"8eb469a522c3ae4c7819174e340086dd.jsx\";","export default __webpack_public_path__ + \"190c8de6aade7baacc90bbf521cdd4ba.jsx\";","export default __webpack_public_path__ + \"cdc0b80877df29ca96d4a05162fc8a1a.jsx\";","export default __webpack_public_path__ + \"be59e5e60b44dcb4bb1ccf2535c21d20.png\";","export default __webpack_public_path__ + \"35e5d4cac5e7ac4f18616422a728392d.png\";","export default __webpack_public_path__ + \"83fbf02619944d02f165a5fa0c7b9203.png\";","export default __webpack_public_path__ + \"bd6865288f34d1fe7642a2a79e8dfe4f.png\";","export default __webpack_public_path__ + \"60e84283a6f99ff48f75e6d20f78499b.png\";","export default __webpack_public_path__ + \"02bd09e668c6b0faadc05741a7ce7cc6.png\";","export default __webpack_public_path__ + \"24e597b42b219bba49bfa1240bde3e6b.png\";","export default __webpack_public_path__ + \"ffa603ccaaac187fdef83a20a4289042.png\";","export default __webpack_public_path__ + \"7906ce3f617bf8f9dbf83a0fb08e09ff.png\";","export default __webpack_public_path__ + \"dd142c00e8f6db275d9ecc2bda063c04.png\";","export default __webpack_public_path__ + \"9f414e332643b34517d7742639d22b0a.obj\";","export default __webpack_public_path__ + \"76ae06b027ad8d3a84d87f9801f62db9.png\";","export default __webpack_public_path__ + \"29fc676286325d45f7deef5e593b6da6.png\";","export default __webpack_public_path__ + \"fe1ca8bac15e02a2d14cf9d558c69def.png\";","export default __webpack_public_path__ + \"780c7edd8a9410b8261fdb12d9d6191d.png\";","export default __webpack_public_path__ + \"c83bb5502d841707edd4423f41ebcca0.png\";","export default __webpack_public_path__ + \"8f18731da1a9e273cf0432f3b1c862f1.png\";","export default __webpack_public_path__ + \"5cf778e15448cf90b764416629d74108.png\";","export default __webpack_public_path__ + \"02e8634d514a9e8cef63312387a84a4d.ogg\";","export default __webpack_public_path__ + \"4b10fb63199c172c56769a18e8c03ebb.rocket\";","export default __webpack_public_path__ + \"8cac1eea6b337bec7dab2e78b989f1d7.png\";","export default __webpack_public_path__ + \"dde80f7d8d6c1038a9b029af6509cf8f.png\";","export default __webpack_public_path__ + \"83e88ad71c6521471af806c96fa0ded5.png\";","export default __webpack_public_path__ + \"8a09527b06eeee9b52984520552f3610.png\";","export default __webpack_public_path__ + \"59b860b8c26e2787d9a2d2c486ccb637.png\";","export default __webpack_public_path__ + \"76ae06b027ad8d3a84d87f9801f62db9.png\";","export default __webpack_public_path__ + \"64c8d0e56a947ade8a449a3ecda79d4b.png\";","export default __webpack_public_path__ + \"660539e872dc7488532f602c4b1b9c9b.png\";","export default __webpack_public_path__ + \"1c9a3c7bf86ce3ec74b515b10b9f5f17.png\";","export default __webpack_public_path__ + \"d3132c4de2ae05ba66ad9637600796c5.png\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loader;\nexports.raw = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _loaderUtils = require(\"loader-utils\");\n\nvar _schemaUtils = require(\"schema-utils\");\n\nvar _options = _interopRequireDefault(require(\"./options.json\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction loader(content) {\n  const options = (0, _loaderUtils.getOptions)(this);\n  (0, _schemaUtils.validate)(_options.default, options, {\n    name: 'File Loader',\n    baseDataPath: 'options'\n  });\n  const context = options.context || this.rootContext;\n  const name = options.name || '[contenthash].[ext]';\n  const url = (0, _loaderUtils.interpolateName)(this, name, {\n    context,\n    content,\n    regExp: options.regExp\n  });\n  let outputPath = url;\n\n  if (options.outputPath) {\n    if (typeof options.outputPath === 'function') {\n      outputPath = options.outputPath(url, this.resourcePath, context);\n    } else {\n      outputPath = _path.default.posix.join(options.outputPath, url);\n    }\n  }\n\n  let publicPath = `__webpack_public_path__ + ${JSON.stringify(outputPath)}`;\n\n  if (options.publicPath) {\n    if (typeof options.publicPath === 'function') {\n      publicPath = options.publicPath(url, this.resourcePath, context);\n    } else {\n      publicPath = `${options.publicPath.endsWith('/') ? options.publicPath : `${options.publicPath}/`}${url}`;\n    }\n\n    publicPath = JSON.stringify(publicPath);\n  }\n\n  if (options.postTransformPublicPath) {\n    publicPath = options.postTransformPublicPath(publicPath);\n  }\n\n  if (typeof options.emitFile === 'undefined' || options.emitFile) {\n    const assetInfo = {};\n\n    if (typeof name === 'string') {\n      let normalizedName = name;\n      const idx = normalizedName.indexOf('?');\n\n      if (idx >= 0) {\n        normalizedName = normalizedName.substr(0, idx);\n      }\n\n      const isImmutable = /\\[([^:\\]]+:)?(hash|contenthash)(:[^\\]]+)?]/gi.test(normalizedName);\n\n      if (isImmutable === true) {\n        assetInfo.immutable = true;\n      }\n    }\n\n    assetInfo.sourceFilename = (0, _utils.normalizePath)(_path.default.relative(this.rootContext, this.resourcePath));\n    this.emitFile(outputPath, content, null, assetInfo);\n  }\n\n  const esModule = typeof options.esModule !== 'undefined' ? options.esModule : true;\n  return `${esModule ? 'export default' : 'module.exports ='} ${publicPath};`;\n}\n\nconst raw = true;\nexports.raw = raw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePath = normalizePath;\n\nfunction normalizePath(path, stripTrailing) {\n  if (path === '\\\\' || path === '/') {\n    return '/';\n  }\n\n  const len = path.length;\n\n  if (len <= 1) {\n    return path;\n  } // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n\n\n  let prefix = '';\n\n  if (len > 4 && path[3] === '\\\\') {\n    // eslint-disable-next-line prefer-destructuring\n    const ch = path[2];\n\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      // eslint-disable-next-line no-param-reassign\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  const segs = path.split(/[/\\\\]+/);\n\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n\n  return prefix + segs.join('/');\n} // eslint-disable-next-line import/prefer-default-export","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.JSON5 = factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar _global = createCommonjsModule(function (module) {\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self\n\t  // eslint-disable-next-line no-new-func\n\t  : Function('return this')();\n\tif (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef\n\t});\n\n\tvar _core = createCommonjsModule(function (module) {\n\tvar core = module.exports = { version: '2.6.5' };\n\tif (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef\n\t});\n\tvar _core_1 = _core.version;\n\n\tvar _isObject = function (it) {\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n\tvar _anObject = function (it) {\n\t  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }\n\t  return it;\n\t};\n\n\tvar _fails = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n\t// Thank's IE8 for his funny defineProperty\n\tvar _descriptors = !_fails(function () {\n\t  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\tvar document = _global.document;\n\t// typeof document.createElement is 'object' in old IE\n\tvar is = _isObject(document) && _isObject(document.createElement);\n\tvar _domCreate = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n\tvar _ie8DomDefine = !_descriptors && !_fails(function () {\n\t  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tvar _toPrimitive = function (it, S) {\n\t  if (!_isObject(it)) { return it; }\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n\tvar dP = Object.defineProperty;\n\n\tvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n\t  _anObject(O);\n\t  P = _toPrimitive(P, true);\n\t  _anObject(Attributes);\n\t  if (_ie8DomDefine) { try {\n\t    return dP(O, P, Attributes);\n\t  } catch (e) { /* empty */ } }\n\t  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }\n\t  if ('value' in Attributes) { O[P] = Attributes.value; }\n\t  return O;\n\t};\n\n\tvar _objectDp = {\n\t\tf: f\n\t};\n\n\tvar _propertyDesc = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n\tvar _hide = _descriptors ? function (object, key, value) {\n\t  return _objectDp.f(object, key, _propertyDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tvar _has = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n\tvar id = 0;\n\tvar px = Math.random();\n\tvar _uid = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n\tvar _library = false;\n\n\tvar _shared = createCommonjsModule(function (module) {\n\tvar SHARED = '__core-js_shared__';\n\tvar store = _global[SHARED] || (_global[SHARED] = {});\n\n\t(module.exports = function (key, value) {\n\t  return store[key] || (store[key] = value !== undefined ? value : {});\n\t})('versions', []).push({\n\t  version: _core.version,\n\t  mode: _library ? 'pure' : 'global',\n\t  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n\t});\n\t});\n\n\tvar _functionToString = _shared('native-function-to-string', Function.toString);\n\n\tvar _redefine = createCommonjsModule(function (module) {\n\tvar SRC = _uid('src');\n\n\tvar TO_STRING = 'toString';\n\tvar TPL = ('' + _functionToString).split(TO_STRING);\n\n\t_core.inspectSource = function (it) {\n\t  return _functionToString.call(it);\n\t};\n\n\t(module.exports = function (O, key, val, safe) {\n\t  var isFunction = typeof val == 'function';\n\t  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }\n\t  if (O[key] === val) { return; }\n\t  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }\n\t  if (O === _global) {\n\t    O[key] = val;\n\t  } else if (!safe) {\n\t    delete O[key];\n\t    _hide(O, key, val);\n\t  } else if (O[key]) {\n\t    O[key] = val;\n\t  } else {\n\t    _hide(O, key, val);\n\t  }\n\t// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || _functionToString.call(this);\n\t});\n\t});\n\n\tvar _aFunction = function (it) {\n\t  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }\n\t  return it;\n\t};\n\n\t// optional / simple context binding\n\n\tvar _ctx = function (fn, that, length) {\n\t  _aFunction(fn);\n\t  if (that === undefined) { return fn; }\n\t  switch (length) {\n\t    case 1: return function (a) {\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function (a, b) {\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function (a, b, c) {\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function (/* ...args */) {\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n\tvar PROTOTYPE = 'prototype';\n\n\tvar $export = function (type, name, source) {\n\t  var IS_FORCED = type & $export.F;\n\t  var IS_GLOBAL = type & $export.G;\n\t  var IS_STATIC = type & $export.S;\n\t  var IS_PROTO = type & $export.P;\n\t  var IS_BIND = type & $export.B;\n\t  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n\t  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n\t  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n\t  var key, own, out, exp;\n\t  if (IS_GLOBAL) { source = name; }\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && target[key] !== undefined;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target) { _redefine(target, key, out, type & $export.U); }\n\t    // export\n\t    if (exports[key] != out) { _hide(exports, key, exp); }\n\t    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }\n\t  }\n\t};\n\t_global.core = _core;\n\t// type bitmap\n\t$export.F = 1;   // forced\n\t$export.G = 2;   // global\n\t$export.S = 4;   // static\n\t$export.P = 8;   // proto\n\t$export.B = 16;  // bind\n\t$export.W = 32;  // wrap\n\t$export.U = 64;  // safe\n\t$export.R = 128; // real proto method for `library`\n\tvar _export = $export;\n\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil;\n\tvar floor = Math.floor;\n\tvar _toInteger = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tvar _defined = function (it) {\n\t  if (it == undefined) { throw TypeError(\"Can't call method on  \" + it); }\n\t  return it;\n\t};\n\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tvar _stringAt = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(_defined(that));\n\t    var i = _toInteger(pos);\n\t    var l = s.length;\n\t    var a, b;\n\t    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n\tvar $at = _stringAt(false);\n\t_export(_export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n\tvar codePointAt = _core.String.codePointAt;\n\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar _toAbsoluteIndex = function (index, length) {\n\t  index = _toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n\tvar fromCharCode = String.fromCharCode;\n\tvar $fromCodePoint = String.fromCodePoint;\n\n\t// length should be 1, old FF problem\n\t_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    var arguments$1 = arguments;\n\t // eslint-disable-line no-unused-vars\n\t    var res = [];\n\t    var aLen = arguments.length;\n\t    var i = 0;\n\t    var code;\n\t    while (aLen > i) {\n\t      code = +arguments$1[i++];\n\t      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }\n\t      res.push(code < 0x10000\n\t        ? fromCharCode(code)\n\t        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n\t      );\n\t    } return res.join('');\n\t  }\n\t});\n\n\tvar fromCodePoint = _core.String.fromCodePoint;\n\n\t// This is a generated file. Do not edit.\n\tvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\tvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\n\tvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\n\tvar unicode = {\n\t\tSpace_Separator: Space_Separator,\n\t\tID_Start: ID_Start,\n\t\tID_Continue: ID_Continue\n\t};\n\n\tvar util = {\n\t    isSpaceSeparator: function isSpaceSeparator (c) {\n\t        return typeof c === 'string' && unicode.Space_Separator.test(c)\n\t    },\n\n\t    isIdStartChar: function isIdStartChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c === '$') || (c === '_') ||\n\t        unicode.ID_Start.test(c)\n\t        )\n\t    },\n\n\t    isIdContinueChar: function isIdContinueChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c >= '0' && c <= '9') ||\n\t        (c === '$') || (c === '_') ||\n\t        (c === '\\u200C') || (c === '\\u200D') ||\n\t        unicode.ID_Continue.test(c)\n\t        )\n\t    },\n\n\t    isDigit: function isDigit (c) {\n\t        return typeof c === 'string' && /[0-9]/.test(c)\n\t    },\n\n\t    isHexDigit: function isHexDigit (c) {\n\t        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n\t    },\n\t};\n\n\tvar source;\n\tvar parseState;\n\tvar stack;\n\tvar pos;\n\tvar line;\n\tvar column;\n\tvar token;\n\tvar key;\n\tvar root;\n\n\tvar parse = function parse (text, reviver) {\n\t    source = String(text);\n\t    parseState = 'start';\n\t    stack = [];\n\t    pos = 0;\n\t    line = 1;\n\t    column = 0;\n\t    token = undefined;\n\t    key = undefined;\n\t    root = undefined;\n\n\t    do {\n\t        token = lex();\n\n\t        // This code is unreachable.\n\t        // if (!parseStates[parseState]) {\n\t        //     throw invalidParseState()\n\t        // }\n\n\t        parseStates[parseState]();\n\t    } while (token.type !== 'eof')\n\n\t    if (typeof reviver === 'function') {\n\t        return internalize({'': root}, '', reviver)\n\t    }\n\n\t    return root\n\t};\n\n\tfunction internalize (holder, name, reviver) {\n\t    var value = holder[name];\n\t    if (value != null && typeof value === 'object') {\n\t        for (var key in value) {\n\t            var replacement = internalize(value, key, reviver);\n\t            if (replacement === undefined) {\n\t                delete value[key];\n\t            } else {\n\t                value[key] = replacement;\n\t            }\n\t        }\n\t    }\n\n\t    return reviver.call(holder, name, value)\n\t}\n\n\tvar lexState;\n\tvar buffer;\n\tvar doubleQuote;\n\tvar sign;\n\tvar c;\n\n\tfunction lex () {\n\t    lexState = 'default';\n\t    buffer = '';\n\t    doubleQuote = false;\n\t    sign = 1;\n\n\t    for (;;) {\n\t        c = peek();\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[lexState]) {\n\t        //     throw invalidLexState(lexState)\n\t        // }\n\n\t        var token = lexStates[lexState]();\n\t        if (token) {\n\t            return token\n\t        }\n\t    }\n\t}\n\n\tfunction peek () {\n\t    if (source[pos]) {\n\t        return String.fromCodePoint(source.codePointAt(pos))\n\t    }\n\t}\n\n\tfunction read () {\n\t    var c = peek();\n\n\t    if (c === '\\n') {\n\t        line++;\n\t        column = 0;\n\t    } else if (c) {\n\t        column += c.length;\n\t    } else {\n\t        column++;\n\t    }\n\n\t    if (c) {\n\t        pos += c.length;\n\t    }\n\n\t    return c\n\t}\n\n\tvar lexStates = {\n\t    default: function default$1 () {\n\t        switch (c) {\n\t        case '\\t':\n\t        case '\\v':\n\t        case '\\f':\n\t        case ' ':\n\t        case '\\u00A0':\n\t        case '\\uFEFF':\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'comment';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        if (util.isSpaceSeparator(c)) {\n\t            read();\n\t            return\n\t        }\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[parseState]) {\n\t        //     throw invalidLexState(parseState)\n\t        // }\n\n\t        return lexStates[parseState]()\n\t    },\n\n\t    comment: function comment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineComment';\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'singleLineComment';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    multiLineComment: function multiLineComment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineCommentAsterisk';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    },\n\n\t    multiLineCommentAsterisk: function multiLineCommentAsterisk () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        lexState = 'multiLineComment';\n\t    },\n\n\t    singleLineComment: function singleLineComment () {\n\t        switch (c) {\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        read();\n\t    },\n\n\t    value: function value () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        case 'n':\n\t            read();\n\t            literal('ull');\n\t            return newToken('null', null)\n\n\t        case 't':\n\t            read();\n\t            literal('rue');\n\t            return newToken('boolean', true)\n\n\t        case 'f':\n\t            read();\n\t            literal('alse');\n\t            return newToken('boolean', false)\n\n\t        case '-':\n\t        case '+':\n\t            if (read() === '-') {\n\t                sign = -1;\n\t            }\n\n\t            lexState = 'sign';\n\t            return\n\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            buffer = '';\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    identifierNameStartEscape: function identifierNameStartEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t            break\n\n\t        default:\n\t            if (!util.isIdStartChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    identifierName: function identifierName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            buffer += read();\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameEscape';\n\t            return\n\t        }\n\n\t        if (util.isIdContinueChar(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('identifier', buffer)\n\t    },\n\n\t    identifierNameEscape: function identifierNameEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            break\n\n\t        default:\n\t            if (!util.isIdContinueChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    sign: function sign$1 () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', sign * Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    zero: function zero () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\n\t        case 'x':\n\t        case 'X':\n\t            buffer += read();\n\t            lexState = 'hexadecimal';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * 0)\n\t    },\n\n\t    decimalInteger: function decimalInteger () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalPointLeading: function decimalPointLeading () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalPoint: function decimalPoint () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalFraction: function decimalFraction () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalExponent: function decimalExponent () {\n\t        switch (c) {\n\t        case '+':\n\t        case '-':\n\t            buffer += read();\n\t            lexState = 'decimalExponentSign';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentSign: function decimalExponentSign () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentInteger: function decimalExponentInteger () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    hexadecimal: function hexadecimal () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'hexadecimalInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    hexadecimalInteger: function hexadecimalInteger () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    string: function string () {\n\t        switch (c) {\n\t        case '\\\\':\n\t            read();\n\t            buffer += escape();\n\t            return\n\n\t        case '\"':\n\t            if (doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case \"'\":\n\t            if (!doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case '\\n':\n\t        case '\\r':\n\t            throw invalidChar(read())\n\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            separatorChar(c);\n\t            break\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    },\n\n\t    start: function start () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        // This code is unreachable since the default lexState handles eof.\n\t        // case undefined:\n\t        //     return newToken('eof')\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t            buffer = read();\n\t            lexState = 'identifierName';\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameStartEscape';\n\t            return\n\n\t        case '}':\n\t            return newToken('punctuator', read())\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        if (util.isIdStartChar(c)) {\n\t            buffer += read();\n\t            lexState = 'identifierName';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        if (c === ':') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        lexState = 'value';\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case '}':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (c === ']') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case ']':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the default lexState.\n\t        // if (c === undefined) {\n\t        //     read()\n\t        //     return newToken('eof')\n\t        // }\n\n\t        throw invalidChar(read())\n\t    },\n\t};\n\n\tfunction newToken (type, value) {\n\t    return {\n\t        type: type,\n\t        value: value,\n\t        line: line,\n\t        column: column,\n\t    }\n\t}\n\n\tfunction literal (s) {\n\t    for (var i = 0, list = s; i < list.length; i += 1) {\n\t        var c = list[i];\n\n\t        var p = peek();\n\n\t        if (p !== c) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    }\n\t}\n\n\tfunction escape () {\n\t    var c = peek();\n\t    switch (c) {\n\t    case 'b':\n\t        read();\n\t        return '\\b'\n\n\t    case 'f':\n\t        read();\n\t        return '\\f'\n\n\t    case 'n':\n\t        read();\n\t        return '\\n'\n\n\t    case 'r':\n\t        read();\n\t        return '\\r'\n\n\t    case 't':\n\t        read();\n\t        return '\\t'\n\n\t    case 'v':\n\t        read();\n\t        return '\\v'\n\n\t    case '0':\n\t        read();\n\t        if (util.isDigit(peek())) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        return '\\0'\n\n\t    case 'x':\n\t        read();\n\t        return hexEscape()\n\n\t    case 'u':\n\t        read();\n\t        return unicodeEscape()\n\n\t    case '\\n':\n\t    case '\\u2028':\n\t    case '\\u2029':\n\t        read();\n\t        return ''\n\n\t    case '\\r':\n\t        read();\n\t        if (peek() === '\\n') {\n\t            read();\n\t        }\n\n\t        return ''\n\n\t    case '1':\n\t    case '2':\n\t    case '3':\n\t    case '4':\n\t    case '5':\n\t    case '6':\n\t    case '7':\n\t    case '8':\n\t    case '9':\n\t        throw invalidChar(read())\n\n\t    case undefined:\n\t        throw invalidChar(read())\n\t    }\n\n\t    return read()\n\t}\n\n\tfunction hexEscape () {\n\t    var buffer = '';\n\t    var c = peek();\n\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    c = peek();\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tfunction unicodeEscape () {\n\t    var buffer = '';\n\t    var count = 4;\n\n\t    while (count-- > 0) {\n\t        var c = peek();\n\t        if (!util.isHexDigit(c)) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    }\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tvar parseStates = {\n\t    start: function start () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (token.type) {\n\t        case 'identifier':\n\t        case 'string':\n\t            key = token.value;\n\t            parseState = 'afterPropertyName';\n\t            return\n\n\t        case 'punctuator':\n\t            // This code is unreachable since it's handled by the lexState.\n\t            // if (token.value !== '}') {\n\t            //     throw invalidToken()\n\t            // }\n\n\t            pop();\n\t            return\n\n\t        case 'eof':\n\t            throw invalidEOF()\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator' || token.value !== ':') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        parseState = 'beforePropertyValue';\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        if (token.type === 'punctuator' && token.value === ']') {\n\t            pop();\n\t            return\n\t        }\n\n\t        push();\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforePropertyName';\n\t            return\n\n\t        case '}':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforeArrayValue';\n\t            return\n\n\t        case ']':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'eof') {\n\t        //     throw invalidToken()\n\t        // }\n\t    },\n\t};\n\n\tfunction push () {\n\t    var value;\n\n\t    switch (token.type) {\n\t    case 'punctuator':\n\t        switch (token.value) {\n\t        case '{':\n\t            value = {};\n\t            break\n\n\t        case '[':\n\t            value = [];\n\t            break\n\t        }\n\n\t        break\n\n\t    case 'null':\n\t    case 'boolean':\n\t    case 'numeric':\n\t    case 'string':\n\t        value = token.value;\n\t        break\n\n\t    // This code is unreachable.\n\t    // default:\n\t    //     throw invalidToken()\n\t    }\n\n\t    if (root === undefined) {\n\t        root = value;\n\t    } else {\n\t        var parent = stack[stack.length - 1];\n\t        if (Array.isArray(parent)) {\n\t            parent.push(value);\n\t        } else {\n\t            parent[key] = value;\n\t        }\n\t    }\n\n\t    if (value !== null && typeof value === 'object') {\n\t        stack.push(value);\n\n\t        if (Array.isArray(value)) {\n\t            parseState = 'beforeArrayValue';\n\t        } else {\n\t            parseState = 'beforePropertyName';\n\t        }\n\t    } else {\n\t        var current = stack[stack.length - 1];\n\t        if (current == null) {\n\t            parseState = 'end';\n\t        } else if (Array.isArray(current)) {\n\t            parseState = 'afterArrayValue';\n\t        } else {\n\t            parseState = 'afterPropertyValue';\n\t        }\n\t    }\n\t}\n\n\tfunction pop () {\n\t    stack.pop();\n\n\t    var current = stack[stack.length - 1];\n\t    if (current == null) {\n\t        parseState = 'end';\n\t    } else if (Array.isArray(current)) {\n\t        parseState = 'afterArrayValue';\n\t    } else {\n\t        parseState = 'afterPropertyValue';\n\t    }\n\t}\n\n\t// This code is unreachable.\n\t// function invalidParseState () {\n\t//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n\t// }\n\n\t// This code is unreachable.\n\t// function invalidLexState (state) {\n\t//     return new Error(`JSON5: invalid lex state '${state}'`)\n\t// }\n\n\tfunction invalidChar (c) {\n\t    if (c === undefined) {\n\t        return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t    }\n\n\t    return syntaxError((\"JSON5: invalid character '\" + (formatChar(c)) + \"' at \" + line + \":\" + column))\n\t}\n\n\tfunction invalidEOF () {\n\t    return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t}\n\n\t// This code is unreachable.\n\t// function invalidToken () {\n\t//     if (token.type === 'eof') {\n\t//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n\t//     }\n\n\t//     const c = String.fromCodePoint(token.value.codePointAt(0))\n\t//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n\t// }\n\n\tfunction invalidIdentifier () {\n\t    column -= 5;\n\t    return syntaxError((\"JSON5: invalid identifier character at \" + line + \":\" + column))\n\t}\n\n\tfunction separatorChar (c) {\n\t    console.warn((\"JSON5: '\" + (formatChar(c)) + \"' in strings is not valid ECMAScript; consider escaping\"));\n\t}\n\n\tfunction formatChar (c) {\n\t    var replacements = {\n\t        \"'\": \"\\\\'\",\n\t        '\"': '\\\\\"',\n\t        '\\\\': '\\\\\\\\',\n\t        '\\b': '\\\\b',\n\t        '\\f': '\\\\f',\n\t        '\\n': '\\\\n',\n\t        '\\r': '\\\\r',\n\t        '\\t': '\\\\t',\n\t        '\\v': '\\\\v',\n\t        '\\0': '\\\\0',\n\t        '\\u2028': '\\\\u2028',\n\t        '\\u2029': '\\\\u2029',\n\t    };\n\n\t    if (replacements[c]) {\n\t        return replacements[c]\n\t    }\n\n\t    if (c < ' ') {\n\t        var hexString = c.charCodeAt(0).toString(16);\n\t        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n\t    }\n\n\t    return c\n\t}\n\n\tfunction syntaxError (message) {\n\t    var err = new SyntaxError(message);\n\t    err.lineNumber = line;\n\t    err.columnNumber = column;\n\t    return err\n\t}\n\n\tvar stringify = function stringify (value, replacer, space) {\n\t    var stack = [];\n\t    var indent = '';\n\t    var propertyList;\n\t    var replacerFunc;\n\t    var gap = '';\n\t    var quote;\n\n\t    if (\n\t        replacer != null &&\n\t        typeof replacer === 'object' &&\n\t        !Array.isArray(replacer)\n\t    ) {\n\t        space = replacer.space;\n\t        quote = replacer.quote;\n\t        replacer = replacer.replacer;\n\t    }\n\n\t    if (typeof replacer === 'function') {\n\t        replacerFunc = replacer;\n\t    } else if (Array.isArray(replacer)) {\n\t        propertyList = [];\n\t        for (var i = 0, list = replacer; i < list.length; i += 1) {\n\t            var v = list[i];\n\n\t            var item = (void 0);\n\n\t            if (typeof v === 'string') {\n\t                item = v;\n\t            } else if (\n\t                typeof v === 'number' ||\n\t                v instanceof String ||\n\t                v instanceof Number\n\t            ) {\n\t                item = String(v);\n\t            }\n\n\t            if (item !== undefined && propertyList.indexOf(item) < 0) {\n\t                propertyList.push(item);\n\t            }\n\t        }\n\t    }\n\n\t    if (space instanceof Number) {\n\t        space = Number(space);\n\t    } else if (space instanceof String) {\n\t        space = String(space);\n\t    }\n\n\t    if (typeof space === 'number') {\n\t        if (space > 0) {\n\t            space = Math.min(10, Math.floor(space));\n\t            gap = '          '.substr(0, space);\n\t        }\n\t    } else if (typeof space === 'string') {\n\t        gap = space.substr(0, 10);\n\t    }\n\n\t    return serializeProperty('', {'': value})\n\n\t    function serializeProperty (key, holder) {\n\t        var value = holder[key];\n\t        if (value != null) {\n\t            if (typeof value.toJSON5 === 'function') {\n\t                value = value.toJSON5(key);\n\t            } else if (typeof value.toJSON === 'function') {\n\t                value = value.toJSON(key);\n\t            }\n\t        }\n\n\t        if (replacerFunc) {\n\t            value = replacerFunc.call(holder, key, value);\n\t        }\n\n\t        if (value instanceof Number) {\n\t            value = Number(value);\n\t        } else if (value instanceof String) {\n\t            value = String(value);\n\t        } else if (value instanceof Boolean) {\n\t            value = value.valueOf();\n\t        }\n\n\t        switch (value) {\n\t        case null: return 'null'\n\t        case true: return 'true'\n\t        case false: return 'false'\n\t        }\n\n\t        if (typeof value === 'string') {\n\t            return quoteString(value, false)\n\t        }\n\n\t        if (typeof value === 'number') {\n\t            return String(value)\n\t        }\n\n\t        if (typeof value === 'object') {\n\t            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n\t        }\n\n\t        return undefined\n\t    }\n\n\t    function quoteString (value) {\n\t        var quotes = {\n\t            \"'\": 0.1,\n\t            '\"': 0.2,\n\t        };\n\n\t        var replacements = {\n\t            \"'\": \"\\\\'\",\n\t            '\"': '\\\\\"',\n\t            '\\\\': '\\\\\\\\',\n\t            '\\b': '\\\\b',\n\t            '\\f': '\\\\f',\n\t            '\\n': '\\\\n',\n\t            '\\r': '\\\\r',\n\t            '\\t': '\\\\t',\n\t            '\\v': '\\\\v',\n\t            '\\0': '\\\\0',\n\t            '\\u2028': '\\\\u2028',\n\t            '\\u2029': '\\\\u2029',\n\t        };\n\n\t        var product = '';\n\n\t        for (var i = 0; i < value.length; i++) {\n\t            var c = value[i];\n\t            switch (c) {\n\t            case \"'\":\n\t            case '\"':\n\t                quotes[c]++;\n\t                product += c;\n\t                continue\n\n\t            case '\\0':\n\t                if (util.isDigit(value[i + 1])) {\n\t                    product += '\\\\x00';\n\t                    continue\n\t                }\n\t            }\n\n\t            if (replacements[c]) {\n\t                product += replacements[c];\n\t                continue\n\t            }\n\n\t            if (c < ' ') {\n\t                var hexString = c.charCodeAt(0).toString(16);\n\t                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n\t                continue\n\t            }\n\n\t            product += c;\n\t        }\n\n\t        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });\n\n\t        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n\t        return quoteChar + product + quoteChar\n\t    }\n\n\t    function serializeObject (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var keys = propertyList || Object.keys(value);\n\t        var partial = [];\n\t        for (var i = 0, list = keys; i < list.length; i += 1) {\n\t            var key = list[i];\n\n\t            var propertyString = serializeProperty(key, value);\n\t            if (propertyString !== undefined) {\n\t                var member = serializeKey(key) + ':';\n\t                if (gap !== '') {\n\t                    member += ' ';\n\t                }\n\t                member += propertyString;\n\t                partial.push(member);\n\t            }\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '{}';\n\t        } else {\n\t            var properties;\n\t            if (gap === '') {\n\t                properties = partial.join(',');\n\t                final = '{' + properties + '}';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                properties = partial.join(separator);\n\t                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\n\t    function serializeKey (key) {\n\t        if (key.length === 0) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        var firstChar = String.fromCodePoint(key.codePointAt(0));\n\t        if (!util.isIdStartChar(firstChar)) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        for (var i = firstChar.length; i < key.length; i++) {\n\t            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n\t                return quoteString(key, true)\n\t            }\n\t        }\n\n\t        return key\n\t    }\n\n\t    function serializeArray (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var partial = [];\n\t        for (var i = 0; i < value.length; i++) {\n\t            var propertyString = serializeProperty(String(i), value);\n\t            partial.push((propertyString !== undefined) ? propertyString : 'null');\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '[]';\n\t        } else {\n\t            if (gap === '') {\n\t                var properties = partial.join(',');\n\t                final = '[' + properties + ']';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                var properties$1 = partial.join(separator);\n\t                final = '[\\n' + indent + properties$1 + ',\\n' + stepback + ']';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\t};\n\n\tvar JSON5 = {\n\t    parse: parse,\n\t    stringify: stringify,\n\t};\n\n\tvar lib = JSON5;\n\n\tvar es5 = lib;\n\n\treturn es5;\n\n})));\n","(function (window) {\nif (!window.XMPlayer) {\n  window.XMPlayer = {};\n}\nvar player = window.XMPlayer;\n\nif (!window.XMView) {\n  window.XMView = {};\n}\nvar XMView = window.XMView;\n\nplayer.periodForNote = periodForNote;\nplayer.prettify_effect = prettify_effect;\nplayer.init = init;\nplayer.load = load;\nplayer.play = play;\nplayer.pause = pause;\nplayer.stop = stop;\nplayer.cur_songpos = -1;\nplayer.cur_pat = -1;\nplayer.cur_row = 64;\nplayer.cur_ticksamp = 0;\nplayer.cur_tick = 6;\nplayer.xm = {};  // contains all song data\nplayer.xm.global_volume = player.max_global_volume = 128;\n\n// exposed for testing\nplayer.nextTick = nextTick;\nplayer.nextRow = nextRow;\nplayer.Envelope = Envelope;\n\n// for pretty-printing notes\nvar _note_names = [\n  \"C-\", \"C#\", \"D-\", \"D#\", \"E-\", \"F-\",\n  \"F#\", \"G-\", \"G#\", \"A-\", \"A#\", \"B-\"];\n\nvar f_smp = 44100;  // updated by play callback, default value here\n\n// per-sample exponential moving average for volume changes (to prevent pops\n// and clicks); evaluated every 8 samples\nvar popfilter_alpha = 0.9837;\n\nfunction prettify_note(note) {\n  if (note < 0) return \"---\";\n  if (note == 96) return \"^^^\";\n  return _note_names[note%12] + ~~(note/12);\n}\n\nfunction prettify_number(num) {\n  if (num == -1) return \"--\";\n  if (num < 10) return \"0\" + num;\n  return num;\n}\n\nfunction prettify_volume(num) {\n  if (num < 0x10) return \"--\";\n  return num.toString(16);\n}\n\nfunction prettify_effect(t, p) {\n  if (t >= 10) t = String.fromCharCode(55 + t);\n  if (p < 16) p = '0' + p.toString(16);\n  else p = p.toString(16);\n  return t + p;\n}\n\nfunction prettify_notedata(data) {\n  return (prettify_note(data[0]) + \" \" + prettify_number(data[1]) + \" \" +\n      prettify_volume(data[2]) + \" \" +\n      prettify_effect(data[3], data[4]));\n}\n\nfunction getstring(dv, offset, len) {\n  var str = [];\n  for (var i = offset; i < offset+len; i++) {\n    var c = dv.getUint8(i);\n    if (c === 0) break;\n    str.push(String.fromCharCode(c));\n  }\n  return str.join('');\n}\n\n// Return 2-pole Butterworth lowpass filter coefficients for\n// center frequncy f_c (relative to sampling frequency)\nfunction filterCoeffs(f_c) {\n  if (f_c > 0.5) {  // we can't lowpass above the nyquist frequency...\n    f_c = 0.5;\n  }\n  var wct = Math.sqrt(2) * Math.PI * f_c;\n  var e = Math.exp(-wct);\n  var c = e * Math.cos(wct);\n  var gain = (1 - 2*c + e*e) / 2;\n  return [gain, 2*c, -e*e];\n}\n\nfunction updateChannelPeriod(ch, period) {\n  var freq = 8363 * Math.pow(2, (1152.0 - period) / 192.0);\n  if (isNaN(freq)) {\n    console.log(\"invalid period!\", period);\n    return;\n  }\n  ch.doff = freq / f_smp;\n  ch.filter = filterCoeffs(ch.doff / 2);\n}\n\nfunction periodForNote(ch, note) {\n  return 1920 - (note + ch.samp.note)*16 - ch.fine / 8.0;\n}\n\nfunction setCurrentPattern() {\n  var nextPat = player.xm.songpats[player.cur_songpos];\n\n  // check for out of range pattern index\n  while (nextPat >= player.xm.patterns.length) {\n    if (player.cur_songpos + 1 < player.xm.songpats.length) {\n      // first try skipping the position\n      player.cur_songpos++;\n    } else if ((player.cur_songpos === player.xm.song_looppos && player.cur_songpos !== 0)\n      || player.xm.song_looppos >= player.xm.songpats.length) {\n      // if we allready tried song_looppos or if song_looppos\n      // is out of range, go to the first position\n      player.cur_songpos = 0;\n    } else {\n      // try going to song_looppos\n      player.cur_songpos = player.xm.song_looppos;\n    }\n\n    nextPat = player.xm.songpats[player.cur_songpos];\n  }\n\n  player.cur_pat = nextPat;\n}\n\nfunction nextRow() {\n  if(typeof player.next_row === \"undefined\") { player.next_row = player.cur_row + 1; }\n  player.cur_row = player.next_row;\n  player.next_row++;\n\n  if (player.cur_pat == -1 || player.cur_row >= player.xm.patterns[player.cur_pat].length) {\n    player.cur_row = 0;\n    player.next_row = 1;\n    player.cur_songpos++;\n    if (player.cur_songpos >= player.xm.songpats.length)\n      player.cur_songpos = player.xm.song_looppos;\n    setCurrentPattern();\n  }\n  var p = player.xm.patterns[player.cur_pat];\n  var r = p[player.cur_row];\n  for (var i = 0; i < r.length; i++) {\n    var ch = player.xm.channelinfo[i];\n    var inst = ch.inst;\n    var triggernote = false;\n    // instrument trigger\n    if (r[i][1] != -1) {\n      inst = player.xm.instruments[r[i][1] - 1];\n      if (inst && inst.samplemap) {\n        ch.inst = inst;\n        // retrigger unless overridden below\n        triggernote = true;\n        if (ch.note && inst.samplemap) {\n          ch.samp = inst.samples[inst.samplemap[ch.note]];\n          ch.vol = ch.samp.vol;\n          ch.pan = ch.samp.pan;\n          ch.fine = ch.samp.fine;\n        }\n      } else {\n        // console.log(\"invalid inst\", r[i][1], instruments.length);\n      }\n    }\n\n    // note trigger\n    if (r[i][0] != -1) {\n      if (r[i][0] == 96) {\n        ch.release = 1;\n        triggernote = false;\n      } else {\n        if (inst && inst.samplemap) {\n          var note = r[i][0];\n          ch.note = note;\n          ch.samp = inst.samples[inst.samplemap[ch.note]];\n          if (triggernote) {\n            // if we were already triggering the note, reset vol/pan using\n            // (potentially) new sample\n            ch.pan = ch.samp.pan;\n            ch.vol = ch.samp.vol;\n            ch.fine = ch.samp.fine;\n          }\n          triggernote = true;\n        }\n      }\n    }\n\n    ch.voleffectfn = undefined;\n    if (r[i][2] != -1) {  // volume column\n      var v = r[i][2];\n      ch.voleffectdata = v & 0x0f;\n      if (v < 0x10) {\n        console.log(\"channel\", i, \"invalid volume\", v.toString(16));\n      } else if (v <= 0x50) {\n        ch.vol = v - 0x10;\n      } else if (v >= 0x60 && v < 0x70) {  // volume slide down\n        ch.voleffectfn = function(ch) {\n          ch.vol = Math.max(0, ch.vol - ch.voleffectdata);\n        };\n      } else if (v >= 0x70 && v < 0x80) {  // volume slide up\n        ch.voleffectfn = function(ch) {\n          ch.vol = Math.min(64, ch.vol + ch.voleffectdata);\n        };\n      } else if (v >= 0x80 && v < 0x90) {  // fine volume slide down\n        ch.vol = Math.max(0, ch.vol - (v & 0x0f));\n      } else if (v >= 0x90 && v < 0xa0) {  // fine volume slide up\n        ch.vol = Math.min(64, ch.vol + (v & 0x0f));\n      } else if (v >= 0xa0 && v < 0xb0) {  // vibrato speed\n        ch.vibratospeed = v & 0x0f;\n      } else if (v >= 0xb0 && v < 0xc0) {  // vibrato w/ depth\n        ch.vibratodepth = v & 0x0f;\n        ch.voleffectfn = player.effects_t1[4];  // use vibrato effect directly\n        player.effects_t1[4](ch);  // and also call it on tick 0\n      } else if (v >= 0xc0 && v < 0xd0) {  // set panning\n        ch.pan = (v & 0x0f) * 0x11;\n      } else if (v >= 0xf0 && v <= 0xff) {  // portamento\n        if (v & 0x0f) {\n          ch.portaspeed = (v & 0x0f) << 4;\n        }\n        ch.voleffectfn = player.effects_t1[3];  // just run 3x0\n      } else {\n        console.log(\"channel\", i, \"volume effect\", v.toString(16));\n      }\n    }\n\n    ch.effect = r[i][3];\n    ch.effectdata = r[i][4];\n    if (ch.effect < 36) {\n      ch.effectfn = player.effects_t1[ch.effect];\n      var eff_t0 = player.effects_t0[ch.effect];\n      if (eff_t0 && eff_t0(ch, ch.effectdata)) {\n        triggernote = false;\n      }\n    } else {\n      console.log(\"channel\", i, \"effect > 36\", ch.effect);\n    }\n\n    // special handling for portamentos: don't trigger the note\n    if (ch.effect == 3 || ch.effect == 5 || r[i][2] >= 0xf0) {\n      if (r[i][0] != -1) {\n        ch.periodtarget = periodForNote(ch, ch.note);\n      }\n      triggernote = false;\n      if (inst && inst.samplemap) {\n        if (ch.env_vol == undefined) {\n          // note wasn't already playing; we basically have to ignore the\n          // portamento and just trigger\n          triggernote = true;\n        } else if (ch.release) {\n          // reset envelopes if note was released but leave offset/pitch/etc\n          // alone\n          ch.envtick = 0;\n          ch.release = 0;\n          ch.env_vol = new EnvelopeFollower(inst.env_vol);\n          ch.env_pan = new EnvelopeFollower(inst.env_pan);\n        }\n      }\n    }\n\n    if (triggernote) {\n      // there's gotta be a less hacky way to handle offset commands...\n      if (ch.effect != 9) ch.off = 0;\n      ch.release = 0;\n      ch.envtick = 0;\n      ch.env_vol = new EnvelopeFollower(inst.env_vol);\n      ch.env_pan = new EnvelopeFollower(inst.env_pan);\n      if (ch.note) {\n        ch.period = periodForNote(ch, ch.note);\n      }\n      // waveforms 0-3 are retriggered on new notes while 4-7 are continuous\n      if (ch.vibratotype < 4) {\n        ch.vibratopos = 0;\n      }\n    }\n  }\n}\n\nfunction Envelope(points, type, sustain, loopstart, loopend) {\n  this.points = points;\n  this.type = type;\n  this.sustain = sustain;\n  this.loopstart = points[loopstart*2];\n  this.loopend = points[loopend*2];\n}\n\nEnvelope.prototype.Get = function(ticks) {\n  // TODO: optimize follower with ptr\n  // or even do binary search here\n  var y0;\n  var env = this.points;\n  for (var i = 0; i < env.length; i += 2) {\n    y0 = env[i+1];\n    if (ticks < env[i]) {\n      var x0 = env[i-2];\n      y0 = env[i-1];\n      var dx = env[i] - x0;\n      var dy = env[i+1] - y0;\n      return y0 + (ticks - x0) * dy / dx;\n    }\n  }\n  return y0;\n};\n\nfunction EnvelopeFollower(env) {\n  this.env = env;\n  this.tick = 0;\n}\n\nEnvelopeFollower.prototype.Tick = function(release) {\n  var value = this.env.Get(this.tick);\n\n  // if we're sustaining a note, stop advancing the tick counter\n  if (!release && this.tick >= this.env.points[this.env.sustain*2]) {\n    return this.env.points[this.env.sustain*2 + 1];\n  }\n\n  this.tick++;\n  if (this.env.type & 4) {  // envelope loop?\n    if (!release &&\n        this.tick >= this.env.loopend) {\n      this.tick -= this.env.loopend - this.env.loopstart;\n    }\n  }\n  return value;\n};\n\nfunction nextTick() {\n  player.cur_tick++;\n  var j, ch;\n  for (j = 0; j < player.xm.nchan; j++) {\n    ch = player.xm.channelinfo[j];\n    ch.periodoffset = 0;\n  }\n  if (player.cur_tick >= player.xm.tempo) {\n    player.cur_tick = 0;\n    nextRow();\n  }\n  for (j = 0; j < player.xm.nchan; j++) {\n    ch = player.xm.channelinfo[j];\n    var inst = ch.inst;\n    if (player.cur_tick !== 0) {\n      if(ch.voleffectfn) ch.voleffectfn(ch);\n      if(ch.effectfn) ch.effectfn(ch);\n    }\n    if (isNaN(ch.period)) {\n      console.log(prettify_notedata(\n            player.xm.patterns[player.cur_pat][player.cur_row][j]),\n          \"set channel\", j, \"period to NaN\");\n    }\n    if (inst === undefined) continue;\n    if (ch.env_vol === undefined) {\n      console.log(prettify_notedata(\n            player.xm.patterns[player.cur_pat][player.cur_row][j]),\n          \"set channel\", j, \"env_vol to undefined, but note is playing\");\n      continue;\n    }\n    ch.volE = ch.env_vol.Tick(ch.release);\n    ch.panE = ch.env_pan.Tick(ch.release);\n    updateChannelPeriod(ch, ch.period + ch.periodoffset);\n  }\n}\n\n// This function gradually brings the channel back down to zero if it isn't\n// already to avoid clicks and pops when samples end.\nfunction MixSilenceIntoBuf(ch, start, end, dataL, dataR) {\n  var s = ch.filterstate[1];\n  if (isNaN(s)) {\n    console.log(\"NaN filterstate?\", ch.filterstate, ch.filter);\n    return;\n  }\n  for (var i = start; i < end; i++) {\n    if (Math.abs(s) < 1.526e-5) {  // == 1/65536.0\n      s = 0;\n      break;\n    }\n    dataL[i] += s * ch.vL;\n    dataR[i] += s * ch.vR;\n    s *= popfilter_alpha;\n  }\n  ch.filterstate[1] = s;\n  ch.filterstate[2] = s;\n  if (isNaN(s)) {\n    console.log(\"NaN filterstate after adding silence?\", ch.filterstate, ch.filter, i);\n    return;\n  }\n  return 0;\n}\n\nfunction MixChannelIntoBuf(ch, start, end, dataL, dataR) {\n  var inst = ch.inst;\n  var instsamp = ch.samp;\n  var loop = false;\n  var looplen = 0, loopstart = 0;\n\n  // nothing on this channel, just filter the last dc offset back down to zero\n  if (instsamp == undefined || inst == undefined || ch.mute) {\n    return MixSilenceIntoBuf(ch, start, end, dataL, dataR);\n  }\n\n  var samp = instsamp.sampledata;\n  var sample_end = instsamp.len;\n  if ((instsamp.type & 3) == 1 && instsamp.looplen > 0) {\n    loop = true;\n    loopstart = instsamp.loop;\n    looplen = instsamp.looplen;\n    sample_end = loopstart + looplen;\n  }\n  var samplen = instsamp.len;\n  var volE = ch.volE / 64.0;    // current volume envelope\n  var panE = 4*(ch.panE - 32);  // current panning envelope\n  var p = panE + ch.pan - 128;  // final pan\n  var volL = player.xm.global_volume * volE * (128 - p) * ch.vol / (64 * 128 * 128);\n  var volR = player.xm.global_volume * volE * (128 + p) * ch.vol / (64 * 128 * 128);\n  if (volL < 0) volL = 0;\n  if (volR < 0) volR = 0;\n  if (volR === 0 && volL === 0)\n    return;\n  if (isNaN(volR) || isNaN(volL)) {\n    console.log(\"NaN volume!?\", ch.number, volL, volR, volE, panE, ch.vol);\n    return;\n  }\n  var k = ch.off;\n  var dk = ch.doff;\n  var Vrms = 0;\n  var f0 = ch.filter[0], f1 = ch.filter[1], f2 = ch.filter[2];\n  var fs0 = ch.filterstate[0], fs1 = ch.filterstate[1], fs2 = ch.filterstate[2];\n\n  // we also low-pass filter volume changes with a simple one-zero,\n  // one-pole filter to avoid pops and clicks when volume changes.\n  var vL = popfilter_alpha * ch.vL + (1 - popfilter_alpha) * (volL + ch.vLprev) * 0.5;\n  var vR = popfilter_alpha * ch.vR + (1 - popfilter_alpha) * (volR + ch.vRprev) * 0.5;\n  var pf_8 = Math.pow(popfilter_alpha, 8);\n  ch.vLprev = volL;\n  ch.vRprev = volR;\n\n  // we can mix up to this many bytes before running into a sample end/loop\n  var i = start;\n  var failsafe = 100;\n  while (i < end) {\n    if (failsafe-- === 0) {\n      console.log(\"failsafe in mixing loop! channel\", ch.number, k, sample_end,\n          loopstart, looplen, dk);\n      break;\n    }\n    if (k >= sample_end) {  // TODO: implement pingpong looping\n      if (loop) {\n        k = loopstart + (k - loopstart) % looplen;\n      } else {\n        // kill sample\n        ch.inst = undefined;\n        // fill rest of buf with filtered dc offset using loop above\n        return Vrms + MixSilenceIntoBuf(ch, i, end, dataL, dataR);\n      }\n    }\n    var next_event = Math.max(1, Math.min(end, i + (sample_end - k) / dk));\n    // this is the inner loop of the player\n\n    // unrolled 8x\n    var s, y;\n    for (; i + 7 < next_event; i+=8) {\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i] += vL * y;\n      dataR[i] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+1] += vL * y;\n      dataR[i+1] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+2] += vL * y;\n      dataR[i+2] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+3] += vL * y;\n      dataR[i+3] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+4] += vL * y;\n      dataR[i+4] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+5] += vL * y;\n      dataR[i+5] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+6] += vL * y;\n      dataR[i+6] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      s = samp[k|0];\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      k += dk;\n      dataL[i+7] += vL * y;\n      dataR[i+7] += vR * y;\n      Vrms += (vL + vR) * y * y;\n\n      vL = pf_8 * vL + (1 - pf_8) * volL;\n      vR = pf_8 * vR + (1 - pf_8) * volR;\n    }\n\n    for (; i < next_event; i++) {\n      s = samp[k|0];\n      // we low-pass filter here since we are resampling some arbitrary\n      // frequency to f_smp; this is an anti-aliasing filter and is\n      // implemented as an IIR butterworth filter (usually we'd use an FIR\n      // brick wall filter, but this is much simpler computationally and\n      // sounds fine)\n      y = f0 * (s + fs0) + f1*fs1 + f2*fs2;\n      fs2 = fs1; fs1 = y; fs0 = s;\n      dataL[i] += vL * y;\n      dataR[i] += vR * y;\n      Vrms += (vL + vR) * y * y;\n      k += dk;\n    }\n  }\n  ch.off = k;\n  ch.filterstate[0] = fs0;\n  ch.filterstate[1] = fs1;\n  ch.filterstate[2] = fs2;\n  ch.vL = vL;\n  ch.vR = vR;\n  return Vrms * 0.5;\n}\n\nfunction audio_cb(e) {\n  f_smp = player.audioctx.sampleRate;\n  var time_sound_started;\n  var buflen = e.outputBuffer.length;\n  var dataL = e.outputBuffer.getChannelData(0);\n  var dataR = e.outputBuffer.getChannelData(1);\n  var i, j, k;\n\n  for (i = 0; i < buflen; i++) {\n    dataL[i] = 0;\n    dataR[i] = 0;\n  }\n\n  var offset = 0;\n  var ticklen = 0|(f_smp * 2.5 / player.xm.bpm);\n  var scopewidth = XMView.scope_width;\n\n  while(buflen > 0) {\n    if (player.cur_pat == -1 || player.cur_ticksamp >= ticklen) {\n      nextTick(f_smp);\n      player.cur_ticksamp -= ticklen;\n    }\n    var tickduration = Math.min(buflen, ticklen - player.cur_ticksamp);\n    var VU = new Float32Array(player.xm.nchan);\n    var scopes = undefined;\n    for (j = 0; j < player.xm.nchan; j++) {\n      var scope;\n      if (tickduration >= 4*scopewidth) {\n        scope = new Float32Array(scopewidth);\n        for (k = 0; k < scopewidth; k++) {\n          scope[k] = -dataL[offset+k*4] - dataR[offset+k*4];\n        }\n      }\n\n      VU[j] = MixChannelIntoBuf(\n          player.xm.channelinfo[j], offset, offset + tickduration, dataL, dataR) /\n        tickduration;\n\n      if (tickduration >= 4*scopewidth) {\n        for (k = 0; k < scopewidth; k++) {\n          scope[k] += dataL[offset+k*4] + dataR[offset+k*4];\n        }\n        if (scopes === undefined) scopes = [];\n        scopes.push(scope);\n      }\n    }\n    if (XMView.pushEvent) {\n      XMView.pushEvent({\n        t: e.playbackTime + (0.0 + offset) / f_smp,\n        vu: VU,\n        scopes: scopes,\n        songpos: player.cur_songpos,\n        pat: player.cur_pat,\n        row: player.cur_row\n      });\n    }\n    offset += tickduration;\n    player.cur_ticksamp += tickduration;\n    buflen -= tickduration;\n  }\n}\n\nfunction ConvertSample(array, bits) {\n  var len = array.length;\n  var acc = 0;\n  var samp, b, k;\n  if (bits === 0) {  // 8 bit sample\n    samp = new Float32Array(len);\n    for (k = 0; k < len; k++) {\n      acc += array[k];\n      b = acc&255;\n      if (b & 128) b = b-256;\n      samp[k] = b / 128.0;\n    }\n    return samp;\n  } else {\n    len /= 2;\n    samp = new Float32Array(len);\n    for (k = 0; k < len; k++) {\n      b = array[k*2] + (array[k*2 + 1] << 8);\n      if (b & 32768) b = b-65536;\n      acc = Math.max(-1, Math.min(1, acc + b / 32768.0));\n      samp[k] = acc;\n    }\n    return samp;\n  }\n}\n\n// optimization: unroll short sample loops so we can run our inner mixing loop\n// uninterrupted for as long as possible; this also handles pingpong loops.\nfunction UnrollSampleLoop(samp) {\n  var nloops = ((2048 + samp.looplen - 1) / samp.looplen) | 0;\n  var pingpong = samp.type & 2;\n  if (pingpong) {\n    // make sure we have an even number of loops if we are pingponging\n    nloops = (nloops + 1) & (~1);\n  }\n  var samplesiz = samp.loop + nloops * samp.looplen;\n  var data = new Float32Array(samplesiz);\n  for (var i = 0; i < samp.loop; i++) {\n    data[i] = samp.sampledata[i];\n  }\n  for (var j = 0; j < nloops; j++) {\n    var k;\n    if ((j&1) && pingpong) {\n      for (k = samp.looplen - 1; k >= 0; k--) {\n        data[i++] = samp.sampledata[samp.loop + k];\n      }\n    } else {\n      for (k = 0; k < samp.looplen; k++) {\n        data[i++] = samp.sampledata[samp.loop + k];\n      }\n    }\n  }\n  console.log(\"unrolled sample loop; looplen\", samp.looplen, \"x\", nloops, \" = \", samplesiz);\n  samp.sampledata = data;\n  samp.looplen = nloops * samp.looplen;\n  samp.type = 1;\n}\n\nfunction load(arrayBuf) {\n  var dv = new DataView(arrayBuf);\n  player.xm = {};\n\n  player.xm.songname = getstring(dv, 17, 20);\n  var hlen = dv.getUint32(0x3c, true) + 0x3c;\n  var songlen = dv.getUint16(0x40, true);\n  player.xm.song_looppos = dv.getUint16(0x42, true);\n  player.xm.nchan = dv.getUint16(0x44, true);\n  var npat = dv.getUint16(0x46, true);\n  var ninst = dv.getUint16(0x48, true);\n  player.xm.flags = dv.getUint16(0x4a, true);\n  player.xm.tempo = dv.getUint16(0x4c, true);\n  player.xm.bpm = dv.getUint16(0x4e, true);\n  player.xm.channelinfo = [];\n  player.xm.global_volume = player.max_global_volume;\n\n  var i, j, k;\n\n  for (i = 0; i < player.xm.nchan; i++) {\n    player.xm.channelinfo.push({\n      number: i,\n      filterstate: new Float32Array(3),\n      vol: 0,\n      pan: 128,\n      period: 1920 - 48*16,\n      vL: 0, vR: 0,   // left right volume envelope followers (changes per sample)\n      vLprev: 0, vRprev: 0,\n      mute: 0,\n      volE: 0, panE: 0,\n      retrig: 0,\n      vibratopos: 0,\n      vibratodepth: 1,\n      vibratospeed: 1,\n      vibratotype: 0,\n    });\n  }\n  console.log(\"header len \" + hlen);\n\n  console.log(\"songlen %d, %d channels, %d patterns, %d instruments\", songlen, player.xm.nchan, npat, ninst);\n  console.log(\"loop @%d\", player.xm.song_looppos);\n  console.log(\"flags=%d tempo %d bpm %d\", player.xm.flags, player.xm.tempo, player.xm.bpm);\n\n  player.xm.songpats = [];\n  for (i = 0; i < songlen; i++) {\n    player.xm.songpats.push(dv.getUint8(0x50 + i));\n  }\n  console.log(\"song patterns: \", player.xm.songpats);\n\n  var idx = hlen;\n  player.xm.patterns = [];\n  for (i = 0; i < npat; i++) {\n    var pattern = [];\n    var patheaderlen = dv.getUint32(idx, true);\n    var patrows = dv.getUint16(idx + 5, true);\n    var patsize = dv.getUint16(idx + 7, true);\n    console.log(\"pattern %d: %d bytes, %d rows\", i, patsize, patrows);\n    idx += 9;\n    for (j = 0; patsize > 0 && j < patrows; j++) {\n      row = [];\n      for (k = 0; k < player.xm.nchan; k++) {\n        var byte0 = dv.getUint8(idx); idx++;\n        var note = -1, inst = -1, vol = -1, efftype = 0, effparam = 0;\n        if (byte0 & 0x80) {\n          if (byte0 & 0x01) {\n            note = dv.getUint8(idx) - 1; idx++;\n          }\n          if (byte0 & 0x02) {\n            inst = dv.getUint8(idx); idx++;\n          }\n          if (byte0 & 0x04) {\n            vol = dv.getUint8(idx); idx++;\n          }\n          if (byte0 & 0x08) {\n            efftype = dv.getUint8(idx); idx++;\n          }\n          if (byte0 & 0x10) {\n            effparam = dv.getUint8(idx); idx++;\n          }\n        } else {\n          // byte0 is note from 1..96 or 0 for nothing or 97 for release\n          // so we subtract 1 so that C-0 is stored as 0\n          note = byte0 - 1;\n          inst = dv.getUint8(idx); idx++;\n          vol = dv.getUint8(idx); idx++;\n          efftype = dv.getUint8(idx); idx++;\n          effparam = dv.getUint8(idx); idx++;\n        }\n        var notedata = [note, inst, vol, efftype, effparam];\n        row.push(notedata);\n      }\n      pattern.push(row);\n    }\n    player.xm.patterns.push(pattern);\n  }\n\n  player.xm.instruments = [];\n  // now load instruments\n  for (i = 0; i < ninst; i++) {\n    var hdrsiz = dv.getUint32(idx, true);\n    var instname = getstring(dv, idx+0x4, 22);\n    var nsamp = dv.getUint16(idx+0x1b, true);\n    var inst = {\n      'name': instname,\n      'number': i,\n    };\n    if (nsamp > 0) {\n      var samplemap = new Uint8Array(arrayBuf, idx+33, 96);\n\n      var env_nvol = dv.getUint8(idx+225);\n      var env_vol_type = dv.getUint8(idx+233);\n      var env_vol_sustain = dv.getUint8(idx+227);\n      var env_vol_loop_start = dv.getUint8(idx+228);\n      var env_vol_loop_end = dv.getUint8(idx+229);\n      var env_npan = dv.getUint8(idx+226);\n      var env_pan_type = dv.getUint8(idx+234);\n      var env_pan_sustain = dv.getUint8(idx+230);\n      var env_pan_loop_start = dv.getUint8(idx+231);\n      var env_pan_loop_end = dv.getUint8(idx+232);\n      var vol_fadeout = dv.getUint16(idx+239, true);\n      var env_vol = [];\n      for (j = 0; j < env_nvol*2; j++) {\n        env_vol.push(dv.getUint16(idx+129+j*2, true));\n      }\n      var env_pan = [];\n      for (j = 0; j < env_npan*2; j++) {\n        env_pan.push(dv.getUint16(idx+177+j*2, true));\n      }\n      // FIXME: ignoring keymaps for now and assuming 1 sample / instrument\n      // var keymap = getarray(dv, idx+0x21);\n      var samphdrsiz = dv.getUint32(idx+0x1d, true);\n      console.log(\"hdrsiz %d; instrument %s: '%s' %d samples, samphdrsiz %d\",\n          hdrsiz, (i+1).toString(16), instname, nsamp, samphdrsiz);\n      idx += hdrsiz;\n      var totalsamples = 0;\n      var samps = [];\n      for (j = 0; j < nsamp; j++) {\n        var samplen = dv.getUint32(idx, true);\n        var samploop = dv.getUint32(idx+4, true);\n        var samplooplen = dv.getUint32(idx+8, true);\n        var sampvol = dv.getUint8(idx+12);\n        var sampfinetune = dv.getInt8(idx+13);\n        var samptype = dv.getUint8(idx+14);\n        var samppan = dv.getUint8(idx+15);\n        var sampnote = dv.getInt8(idx+16);\n        var sampname = getstring(dv, idx+18, 22);\n        var sampleoffset = totalsamples;\n        if (samplooplen === 0) {\n          samptype &= ~3;\n        }\n        console.log(\"sample %d: len %d name '%s' loop %d/%d vol %d offset %s\",\n            j, samplen, sampname, samploop, samplooplen, sampvol, sampleoffset.toString(16));\n        console.log(\"           type %d note %s(%d) finetune %d pan %d\",\n            samptype, prettify_note(sampnote + 12*4), sampnote, sampfinetune, samppan);\n        console.log(\"           vol env\", env_vol, env_vol_sustain,\n            env_vol_loop_start, env_vol_loop_end, \"type\", env_vol_type,\n            \"fadeout\", vol_fadeout);\n        console.log(\"           pan env\", env_pan, env_pan_sustain,\n            env_pan_loop_start, env_pan_loop_end, \"type\", env_pan_type);\n        var samp = {\n          'len': samplen, 'loop': samploop,\n          'looplen': samplooplen, 'note': sampnote, 'fine': sampfinetune,\n          'pan': samppan, 'type': samptype, 'vol': sampvol,\n          'fileoffset': sampleoffset\n        };\n        // length / pointers are all specified in bytes; fixup for 16-bit samples\n        samps.push(samp);\n        idx += samphdrsiz;\n        totalsamples += samplen;\n      }\n      for (j = 0; j < nsamp; j++) {\n        var samp = samps[j];\n        samp.sampledata = ConvertSample(\n            new Uint8Array(arrayBuf, idx + samp.fileoffset, samp.len), samp.type & 16);\n        if (samp.type & 16) {\n          samp.len /= 2;\n          samp.loop /= 2;\n          samp.looplen /= 2;\n        }\n        // unroll short loops and any pingpong loops\n        if ((samp.type & 3) && (samp.looplen < 2048 || (samp.type & 2))) {\n          UnrollSampleLoop(samp);\n        }\n      }\n      idx += totalsamples;\n      inst.samplemap = samplemap;\n      inst.samples = samps;\n      if (env_vol_type) {\n        // insert an automatic fadeout to 0 at the end of the envelope\n        var env_end_tick = env_vol[env_vol.length-2];\n        if (!(env_vol_type & 2)) {  // if there's no sustain point, create one\n          env_vol_sustain = env_vol.length / 2;\n        }\n        if (vol_fadeout > 0) {\n          var fadeout_ticks = 65536.0 / vol_fadeout;\n          env_vol.push(env_end_tick + fadeout_ticks);\n          env_vol.push(0);\n        }\n        inst.env_vol = new Envelope(\n            env_vol,\n            env_vol_type,\n            env_vol_sustain,\n            env_vol_loop_start,\n            env_vol_loop_end);\n      } else {\n        // no envelope, then just make a default full-volume envelope.\n        // i thought this would use fadeout, but apparently it doesn't.\n        inst.env_vol = new Envelope([0, 64, 1, 0], 2, 0, 0, 0);\n      }\n      if (env_pan_type) {\n        if (!(env_pan_type & 2)) {  // if there's no sustain point, create one\n          env_pan_sustain = env_pan.length / 2;\n        }\n        inst.env_pan = new Envelope(\n            env_pan,\n            env_pan_type,\n            env_pan_sustain,\n            env_pan_loop_start,\n            env_pan_loop_end);\n      } else {\n        // create a default empty envelope\n        inst.env_pan = new Envelope([0, 32], 0, 0, 0, 0);\n      }\n    } else {\n      idx += hdrsiz;\n      console.log(\"empty instrument\", i, hdrsiz, idx);\n    }\n    player.xm.instruments.push(inst);\n  }\n\n  console.log(\"loaded \\\"\" + player.xm.songname + \"\\\"\");\n  return true;\n}\n\nvar jsNode, gainNode;\nfunction init() {\n  if (!player.audioctx) {\n    var audioContext = window.AudioContext || window.webkitAudioContext;\n    player.audioctx = new audioContext();\n    gainNode = player.audioctx.createGain();\n    gainNode.gain.value = 0.1;  // master volume\n  }\n  if (player.audioctx.createScriptProcessor === undefined) {\n    jsNode = player.audioctx.createJavaScriptNode(16384, 0, 2);\n  } else {\n    jsNode = player.audioctx.createScriptProcessor(16384, 0, 2);\n  }\n  jsNode.onaudioprocess = audio_cb;\n  gainNode.connect(player.audioctx.destination);\n}\n\nplayer.playing = false;\nfunction play() {\n  if (!player.playing) {\n    // put paused events back into action, if any\n    if (XMView.resume) XMView.resume();\n    // start playing\n    jsNode.connect(gainNode);\n\n    // hack to get iOS to play anything\n    var temp_osc = player.audioctx.createOscillator();\n    temp_osc.connect(player.audioctx.destination);\n    !!temp_osc.start ? temp_osc.start(0) : temp_osc.noteOn(0);\n    !!temp_osc.stop ? temp_osc.stop(0) : temp_osc.noteOff(0);\n    temp_osc.disconnect();\n  }\n  player.playing = true;\n}\n\nfunction pause() {\n  if (player.playing) {\n    jsNode.disconnect(gainNode);\n    if (XMView.pause) XMView.pause();\n  }\n  player.playing = false;\n}\n\nfunction stop() {\n  if (player.playing) {\n    jsNode.disconnect(gainNode);\n    player.playing = false;\n  }\n  player.cur_pat = -1;\n  player.cur_row = 64;\n  player.cur_songpos = -1;\n  player.cur_ticksamp = 0;\n  player.xm.global_volume = player.max_global_volume;\n  if (XMView.stop) XMView.stop();\n  init();\n}\n})(window);\n","(function (window) {\nif (!window.XMPlayer) {\n  window.XMPlayer = {};\n}\nvar player = window.XMPlayer;\n\nfunction eff_t1_0(ch) {  // arpeggio\n  if (ch.effectdata !== 0 && ch.inst !== undefined) {\n    var arpeggio = [0, ch.effectdata>>4, ch.effectdata&15];\n    var note = ch.note + arpeggio[player.cur_tick % 3];\n    ch.period = player.periodForNote(ch, note);\n  }\n}\n\nfunction eff_t0_1(ch, data) {  // pitch slide up\n  if (data !== 0) {\n    ch.slideupspeed = data;\n  }\n}\n\nfunction eff_t1_1(ch) {  // pitch slide up\n  if (ch.slideupspeed !== undefined) {\n    // is this limited? it appears not\n    ch.period -= ch.slideupspeed;\n  }\n}\n\nfunction eff_t0_2(ch, data) {  // pitch slide down\n  if (data !== 0) {\n    ch.slidedownspeed = data;\n  }\n}\n\nfunction eff_t1_2(ch) {  // pitch slide down\n  if (ch.slidedownspeed !== undefined) {\n    // 1728 is the period for C-1\n    ch.period = Math.min(1728, ch.period + ch.slidedownspeed);\n  }\n}\n\nfunction eff_t0_3(ch, data) {  // portamento\n  if (data !== 0) {\n    ch.portaspeed = data;\n  }\n}\n\nfunction eff_t1_3(ch) {  // portamento\n  if (ch.periodtarget !== undefined && ch.portaspeed !== undefined) {\n    if (ch.period > ch.periodtarget) {\n      ch.period = Math.max(ch.periodtarget, ch.period - ch.portaspeed);\n    } else {\n      ch.period = Math.min(ch.periodtarget, ch.period + ch.portaspeed);\n    }\n  }\n}\n\nfunction eff_t0_4(ch, data) {  // vibrato\n  if (data & 0x0f) {\n    ch.vibratodepth = (data & 0x0f) * 2;\n  }\n  if (data >> 4) {\n    ch.vibratospeed = data >> 4;\n  }\n  eff_t1_4(ch);\n}\n\nfunction eff_t1_4(ch) {  // vibrato\n  ch.periodoffset = getVibratoDelta(ch.vibratotype, ch.vibratopos) * ch.vibratodepth;\n  if (isNaN(ch.periodoffset)) {\n    console.log(\"vibrato periodoffset NaN?\",\n        ch.vibratopos, ch.vibratospeed, ch.vibratodepth);\n    ch.periodoffset = 0;\n  }\n  // only updates on non-first ticks\n  if (player.cur_tick > 0) {\n    ch.vibratopos += ch.vibratospeed;\n    ch.vibratopos &= 63;\n  }\n}\n\nfunction getVibratoDelta(type, x) {\n  var delta = 0;\n  switch (type & 0x03) {\n    case 1: // sawtooth (ramp-down)\n      delta = ((1 + x * 2 / 64) % 2) - 1;\n      break;\n    case 2: // square\n    case 3: // random (in FT2 these two are the same)\n      delta = x < 32 ? 1 : -1;\n      break;\n    case 0:\n    default: // sine\n      delta = Math.sin(x * Math.PI / 32);\n      break;\n  }\n  return delta;\n}\n\nfunction eff_t1_5(ch) {  // portamento + volume slide\n  eff_t1_a(ch);\n  eff_t1_3(ch);\n}\n\nfunction eff_t1_6(ch) {  // vibrato + volume slide\n  eff_t1_a(ch);\n  eff_t1_4(ch);\n}\n\nfunction eff_t0_8(ch, data) {  // set panning\n  ch.pan = data;\n}\n\nfunction eff_t0_9(ch, data) {  // sample offset\n  ch.off = data * 256;\n}\n\nfunction eff_t0_a(ch, data) {  // volume slide\n  if (data) {\n    ch.volumeslide = -(data & 0x0f) + (data >> 4);\n  }\n}\n\nfunction eff_t1_a(ch) {  // volume slide\n  if (ch.volumeslide !== undefined) {\n    ch.vol = Math.max(0, Math.min(64, ch.vol + ch.volumeslide));\n  }\n}\n\nfunction eff_t0_b(ch, data) {  // song jump\n  if (data < player.xm.songpats.length) {\n    player.cur_songpos = data - 1;\n    player.cur_pat = -1;\n    player.cur_row = -1;\n  }\n}\n\nfunction eff_t0_c(ch, data) {  // set volume\n  ch.vol = Math.min(64, data);\n}\n\nfunction eff_t0_d(ch, data) {  // pattern jump\n  player.cur_songpos++;\n  if (player.cur_songpos >= player.xm.songpats.length)\n    player.cur_songpos = player.xm.song_looppos;\n  player.cur_pat = player.xm.songpats[player.cur_songpos];\n  player.next_row = (data >> 4) * 10 + (data & 0x0f);\n}\n\nfunction eff_t0_e(ch, data) {  // extended effects!\n  var eff = data >> 4;\n  data = data & 0x0f;\n  switch (eff) {\n    case 1:  // fine porta up\n      ch.period -= data;\n      break;\n    case 2:  // fine porta down\n      ch.period += data;\n      break;\n    case 4:  // set vibrato waveform\n      ch.vibratotype = data & 0x07;\n      break;\n    case 5:  // finetune\n      ch.fine = (data<<4) + data - 128;\n      break;\n    case 6:  // pattern loop\n      if (data == 0) {\n        ch.loopstart = player.cur_row\n      } else {\n        if (typeof ch.loopend === \"undefined\") {\n          ch.loopend = player.cur_row\n          ch.loopremaining = data\n        }\n        if(ch.loopremaining !== 0) {\n          ch.loopremaining--\n          player.next_row = ch.loopstart || 0\n        } else {\n          delete ch.loopend\n          delete ch.loopstart\n        }\n      }\n      break;\n    case 8:  // panning\n      ch.pan = data * 0x11;\n      break;\n    case 0x0a:  // fine vol slide up (with memory)\n      if (data === 0 && ch.finevolup !== undefined)\n        data = ch.finevolup;\n      ch.vol = Math.min(64, ch.vol + data);\n      ch.finevolup = data;\n      break;\n    case 0x0b:  // fine vol slide down\n      if (data === 0 && ch.finevoldown !== undefined)\n        data = ch.finevoldown;\n      ch.vol = Math.max(0, ch.vol - data);\n      ch.finevoldown = data;\n      break;\n    case 0x0c:  // note cut handled in eff_t1_e\n      break;\n    default:\n      console.log(\"unimplemented extended effect E\", ch.effectdata.toString(16));\n      break;\n  }\n}\n\nfunction eff_t1_e(ch) {  // note cut\n  switch (ch.effectdata >> 4) {\n    case 0x0c:\n      if (player.cur_tick == (ch.effectdata & 0x0f)) {\n        ch.vol = 0;\n      }\n      break;\n  }\n}\n\nfunction eff_t0_f(ch, data) {  // set tempo\n  if (data === 0) {\n    console.log(\"tempo 0?\");\n    return;\n  } else if (data < 0x20) {\n    player.xm.tempo = data;\n  } else {\n    player.xm.bpm = data;\n  }\n}\n\nfunction eff_t0_g(ch, data) {  // set global volume\n  if (data <= 0x40) {\n    // volume gets multiplied by 2 to match\n    // the initial max global volume of 128\n    player.xm.global_volume = Math.max(0, data * 2);\n  } else {\n    player.xm.global_volume = player.max_global_volume;\n  }\n}\n\nfunction eff_t0_h(ch, data) {  // global volume slide\n  if (data) {\n    // same as Axy but multiplied by 2\n    player.xm.global_volumeslide = (-(data & 0x0f) + (data >> 4)) * 2;\n  }\n}\n\nfunction eff_t1_h(ch) {  // global volume slide\n  if (player.xm.global_volumeslide !== undefined) {\n    player.xm.global_volume = Math.max(0, Math.min(player.max_global_volume,\n      player.xm.global_volume + player.xm.global_volumeslide));\n  }\n}\n\nfunction eff_t0_r(ch, data) {  // retrigger\n  if (data & 0x0f) ch.retrig = (ch.retrig & 0xf0) + (data & 0x0f);\n  if (data & 0xf0) ch.retrig = (ch.retrig & 0x0f) + (data & 0xf0);\n\n  // retrigger volume table\n  switch (ch.retrig >> 4) {\n    case 1: ch.vol -= 1; break;\n    case 2: ch.vol -= 2; break;\n    case 3: ch.vol -= 4; break;\n    case 4: ch.vol -= 8; break;\n    case 5: ch.vol -= 16; break;\n    case 6: ch.vol *= 2; ch.vol /= 3; break;\n    case 7: ch.vol /= 2; break;\n    case 9: ch.vol += 1; break;\n    case 0x0a: ch.vol += 2; break;\n    case 0x0b: ch.vol += 4; break;\n    case 0x0c: ch.vol += 8; break;\n    case 0x0d: ch.vol += 16; break;\n    case 0x0e: ch.vol *= 3; ch.vol /= 2; break;\n    case 0x0f: ch.vol *= 2; break;\n  }\n  ch.vol = Math.min(64, Math.max(0, ch.vol));\n}\n\nfunction eff_t1_r(ch) {\n  if (player.cur_tick % (ch.retrig & 0x0f) === 0) {\n    ch.off = 0;\n  }\n}\n\nfunction eff_unimplemented() {}\nfunction eff_unimplemented_t0(ch, data) {\n  console.log(\"unimplemented effect\", player.prettify_effect(ch.effect, data));\n}\n\nplayer.effects_t0 = [  // effect functions on tick 0\n  eff_t1_0,  // 1, arpeggio is processed on all ticks\n  eff_t0_1,\n  eff_t0_2,\n  eff_t0_3,\n  eff_t0_4,  // 4\n  eff_t0_a,  // 5, same as A on first tick\n  eff_t0_a,  // 6, same as A on first tick\n  eff_unimplemented_t0,  // 7\n  eff_t0_8,  // 8\n  eff_t0_9,  // 9\n  eff_t0_a,  // a\n  eff_t0_b,  // b\n  eff_t0_c,  // c\n  eff_t0_d,  // d\n  eff_t0_e,  // e\n  eff_t0_f,  // f\n  eff_t0_g,  // g\n  eff_t0_h,  // h\n  eff_unimplemented_t0,  // i\n  eff_unimplemented_t0,  // j\n  eff_unimplemented_t0,  // k\n  eff_unimplemented_t0,  // l\n  eff_unimplemented_t0,  // m\n  eff_unimplemented_t0,  // n\n  eff_unimplemented_t0,  // o\n  eff_unimplemented_t0,  // p\n  eff_unimplemented_t0,  // q\n  eff_t0_r,  // r\n  eff_unimplemented_t0,  // s\n  eff_unimplemented_t0,  // t\n  eff_unimplemented_t0,  // u\n  eff_unimplemented_t0,  // v\n  eff_unimplemented_t0,  // w\n  eff_unimplemented_t0,  // x\n  eff_unimplemented_t0,  // y\n  eff_unimplemented_t0,  // z\n];\n\nplayer.effects_t1 = [  // effect functions on tick 1+\n  eff_t1_0,\n  eff_t1_1,\n  eff_t1_2,\n  eff_t1_3,\n  eff_t1_4,\n  eff_t1_5,  // 5\n  eff_t1_6,  // 6\n  eff_unimplemented,  // 7\n  null,   // 8\n  null,   // 9\n  eff_t1_a,  // a\n  null,   // b\n  null,   // c\n  null,   // d\n  eff_t1_e,  // e\n  null,   // f\n  null,  // g\n  eff_t1_h,  // h\n  eff_unimplemented,  // i\n  eff_unimplemented,  // j\n  eff_unimplemented,  // k\n  eff_unimplemented,  // l\n  eff_unimplemented,  // m\n  eff_unimplemented,  // n\n  eff_unimplemented,  // o\n  eff_unimplemented,  // p\n  eff_unimplemented,  // q\n  eff_t1_r,  // r\n  eff_unimplemented,  // s\n  eff_unimplemented,  // t\n  eff_unimplemented,  // u\n  eff_unimplemented,  // v\n  eff_unimplemented,  // w\n  eff_unimplemented,  // x\n  eff_unimplemented,  // y\n  eff_unimplemented   // z\n];\n\n})(window);\n","'use strict';\n\nfunction getCurrentRequest(loaderContext) {\n  if (loaderContext.currentRequest) {\n    return loaderContext.currentRequest;\n  }\n\n  const request = loaderContext.loaders\n    .slice(loaderContext.loaderIndex)\n    .map((obj) => obj.request)\n    .concat([loaderContext.resource]);\n\n  return request.join('!');\n}\n\nmodule.exports = getCurrentRequest;\n","'use strict';\n\nconst baseEncodeTables = {\n  26: 'abcdefghijklmnopqrstuvwxyz',\n  32: '123456789abcdefghjkmnpqrstuvwxyz', // no 0lio\n  36: '0123456789abcdefghijklmnopqrstuvwxyz',\n  49: 'abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ', // no lIO\n  52: 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',\n  58: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ', // no 0lIO\n  62: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',\n  64: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_',\n};\n\nfunction encodeBufferToBase(buffer, base) {\n  const encodeTable = baseEncodeTables[base];\n  if (!encodeTable) {\n    throw new Error('Unknown encoding base' + base);\n  }\n\n  const readLength = buffer.length;\n  const Big = require('big.js');\n\n  Big.RM = Big.DP = 0;\n  let b = new Big(0);\n\n  for (let i = readLength - 1; i >= 0; i--) {\n    b = b.times(256).plus(buffer[i]);\n  }\n\n  let output = '';\n  while (b.gt(0)) {\n    output = encodeTable[b.mod(base)] + output;\n    b = b.div(base);\n  }\n\n  Big.DP = 20;\n  Big.RM = 1;\n\n  return output;\n}\n\nlet createMd4 = undefined;\nlet BatchedHash = undefined;\n\nfunction getHashDigest(buffer, hashType, digestType, maxLength) {\n  hashType = hashType || 'md4';\n  maxLength = maxLength || 9999;\n\n  let hash;\n\n  try {\n    hash = require('crypto').createHash(hashType);\n  } catch (error) {\n    if (error.code === 'ERR_OSSL_EVP_UNSUPPORTED' && hashType === 'md4') {\n      if (createMd4 === undefined) {\n        createMd4 = require('./hash/md4');\n\n        if (BatchedHash === undefined) {\n          BatchedHash = require('./hash/BatchedHash');\n        }\n      }\n\n      hash = new BatchedHash(createMd4());\n    }\n\n    if (!hash) {\n      throw error;\n    }\n  }\n\n  hash.update(buffer);\n\n  if (\n    digestType === 'base26' ||\n    digestType === 'base32' ||\n    digestType === 'base36' ||\n    digestType === 'base49' ||\n    digestType === 'base52' ||\n    digestType === 'base58' ||\n    digestType === 'base62'\n  ) {\n    return encodeBufferToBase(hash.digest(), digestType.substr(4)).substr(\n      0,\n      maxLength\n    );\n  } else {\n    return hash.digest(digestType || 'hex').substr(0, maxLength);\n  }\n}\n\nmodule.exports = getHashDigest;\n","'use strict';\n\nconst parseQuery = require('./parseQuery');\n\nfunction getOptions(loaderContext) {\n  const query = loaderContext.query;\n\n  if (typeof query === 'string' && query !== '') {\n    return parseQuery(loaderContext.query);\n  }\n\n  if (!query || typeof query !== 'object') {\n    // Not object-like queries are not supported.\n    return {};\n  }\n\n  return query;\n}\n\nmodule.exports = getOptions;\n","'use strict';\n\nfunction getRemainingRequest(loaderContext) {\n  if (loaderContext.remainingRequest) {\n    return loaderContext.remainingRequest;\n  }\n\n  const request = loaderContext.loaders\n    .slice(loaderContext.loaderIndex + 1)\n    .map((obj) => obj.request)\n    .concat([loaderContext.resource]);\n\n  return request.join('!');\n}\n\nmodule.exports = getRemainingRequest;\n","const MAX_SHORT_STRING = require('./wasm-hash').MAX_SHORT_STRING;\n\nclass BatchedHash {\n  constructor(hash) {\n    this.string = undefined;\n    this.encoding = undefined;\n    this.hash = hash;\n  }\n\n  /**\n   * Update hash {@link https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding}\n   * @param {string|Buffer} data data\n   * @param {string=} inputEncoding data encoding\n   * @returns {this} updated hash\n   */\n  update(data, inputEncoding) {\n    if (this.string !== undefined) {\n      if (\n        typeof data === 'string' &&\n        inputEncoding === this.encoding &&\n        this.string.length + data.length < MAX_SHORT_STRING\n      ) {\n        this.string += data;\n\n        return this;\n      }\n\n      this.hash.update(this.string, this.encoding);\n      this.string = undefined;\n    }\n\n    if (typeof data === 'string') {\n      if (\n        data.length < MAX_SHORT_STRING &&\n        // base64 encoding is not valid since it may contain padding chars\n        (!inputEncoding || !inputEncoding.startsWith('ba'))\n      ) {\n        this.string = data;\n        this.encoding = inputEncoding;\n      } else {\n        this.hash.update(data, inputEncoding);\n      }\n    } else {\n      this.hash.update(data);\n    }\n\n    return this;\n  }\n\n  /**\n   * Calculates the digest {@link https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding}\n   * @param {string=} encoding encoding of the return value\n   * @returns {string|Buffer} digest\n   */\n  digest(encoding) {\n    if (this.string !== undefined) {\n      this.hash.update(this.string, this.encoding);\n    }\n\n    return this.hash.digest(encoding);\n  }\n}\n\nmodule.exports = BatchedHash;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n'use strict';\n\nconst create = require('./wasm-hash');\n\n//#region wasm code: md4 (../../../assembly/hash/md4.asm.ts) --initialMemory 1\nconst md4 = new WebAssembly.Module(\n  Buffer.from(\n    // 2150 bytes\n    'AGFzbQEAAAABCAJgAX8AYAAAAwUEAQAAAAUDAQABBhoFfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwciBARpbml0AAAGdXBkYXRlAAIFZmluYWwAAwZtZW1vcnkCAAqFEAQmAEGBxpS6BiQBQYnXtv5+JAJB/rnrxXkkA0H2qMmBASQEQQAkAAvMCgEYfyMBIQojAiEGIwMhByMEIQgDQCAAIAVLBEAgBSgCCCINIAcgBiAFKAIEIgsgCCAHIAUoAgAiDCAKIAggBiAHIAhzcXNqakEDdyIDIAYgB3Nxc2pqQQd3IgEgAyAGc3FzampBC3chAiAFKAIUIg8gASACIAUoAhAiCSADIAEgBSgCDCIOIAYgAyACIAEgA3Nxc2pqQRN3IgQgASACc3FzampBA3ciAyACIARzcXNqakEHdyEBIAUoAiAiEiADIAEgBSgCHCIRIAQgAyAFKAIYIhAgAiAEIAEgAyAEc3FzampBC3ciAiABIANzcXNqakETdyIEIAEgAnNxc2pqQQN3IQMgBSgCLCIVIAQgAyAFKAIoIhQgAiAEIAUoAiQiEyABIAIgAyACIARzcXNqakEHdyIBIAMgBHNxc2pqQQt3IgIgASADc3FzampBE3chBCAPIBAgCSAVIBQgEyAFKAI4IhYgAiAEIAUoAjQiFyABIAIgBSgCMCIYIAMgASAEIAEgAnNxc2pqQQN3IgEgAiAEc3FzampBB3ciAiABIARzcXNqakELdyIDIAkgAiAMIAEgBSgCPCIJIAQgASADIAEgAnNxc2pqQRN3IgEgAiADcnEgAiADcXJqakGZ84nUBWpBA3ciAiABIANycSABIANxcmpqQZnzidQFakEFdyIEIAEgAnJxIAEgAnFyaiASakGZ84nUBWpBCXciAyAPIAQgCyACIBggASADIAIgBHJxIAIgBHFyampBmfOJ1AVqQQ13IgEgAyAEcnEgAyAEcXJqakGZ84nUBWpBA3ciAiABIANycSABIANxcmpqQZnzidQFakEFdyIEIAEgAnJxIAEgAnFyampBmfOJ1AVqQQl3IgMgECAEIAIgFyABIAMgAiAEcnEgAiAEcXJqakGZ84nUBWpBDXciASADIARycSADIARxcmogDWpBmfOJ1AVqQQN3IgIgASADcnEgASADcXJqakGZ84nUBWpBBXciBCABIAJycSABIAJxcmpqQZnzidQFakEJdyIDIBEgBCAOIAIgFiABIAMgAiAEcnEgAiAEcXJqakGZ84nUBWpBDXciASADIARycSADIARxcmpqQZnzidQFakEDdyICIAEgA3JxIAEgA3FyampBmfOJ1AVqQQV3IgQgASACcnEgASACcXJqakGZ84nUBWpBCXciAyAMIAIgAyAJIAEgAyACIARycSACIARxcmpqQZnzidQFakENdyIBcyAEc2pqQaHX5/YGakEDdyICIAQgASACcyADc2ogEmpBodfn9gZqQQl3IgRzIAFzampBodfn9gZqQQt3IgMgAiADIBggASADIARzIAJzampBodfn9gZqQQ93IgFzIARzaiANakGh1+f2BmpBA3ciAiAUIAQgASACcyADc2pqQaHX5/YGakEJdyIEcyABc2pqQaHX5/YGakELdyIDIAsgAiADIBYgASADIARzIAJzampBodfn9gZqQQ93IgFzIARzampBodfn9gZqQQN3IgIgEyAEIAEgAnMgA3NqakGh1+f2BmpBCXciBHMgAXNqakGh1+f2BmpBC3chAyAKIA4gAiADIBcgASADIARzIAJzampBodfn9gZqQQ93IgFzIARzampBodfn9gZqQQN3IgJqIQogBiAJIAEgESADIAIgFSAEIAEgAnMgA3NqakGh1+f2BmpBCXciBHMgAXNqakGh1+f2BmpBC3ciAyAEcyACc2pqQaHX5/YGakEPd2ohBiADIAdqIQcgBCAIaiEIIAVBQGshBQwBCwsgCiQBIAYkAiAHJAMgCCQECw0AIAAQASMAIABqJAAL/wQCA38BfiMAIABqrUIDhiEEIABByABqQUBxIgJBCGshAyAAIgFBAWohACABQYABOgAAA0AgACACSUEAIABBB3EbBEAgAEEAOgAAIABBAWohAAwBCwsDQCAAIAJJBEAgAEIANwMAIABBCGohAAwBCwsgAyAENwMAIAIQAUEAIwGtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEIIwKtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEQIwOtIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAEEYIwStIgRC//8DgyAEQoCA/P8Pg0IQhoQiBEL/gYCA8B+DIARCgP6DgIDgP4NCCIaEIgRCj4C8gPCBwAeDQgiGIARC8IHAh4CegPgAg0IEiIQiBEKGjJiw4MCBgwZ8QgSIQoGChIiQoMCAAYNCJ34gBEKw4MCBg4aMmDCEfDcDAAs=',\n    'base64'\n  )\n);\n//#endregion\n\nmodule.exports = create.bind(null, md4, [], 64, 32);\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n'use strict';\n\n// 65536 is the size of a wasm memory page\n// 64 is the maximum chunk size for every possible wasm hash implementation\n// 4 is the maximum number of bytes per char for string encoding (max is utf-8)\n// ~3 makes sure that it's always a block of 4 chars, so avoid partially encoded bytes for base64\nconst MAX_SHORT_STRING = Math.floor((65536 - 64) / 4) & ~3;\n\nclass WasmHash {\n  /**\n   * @param {WebAssembly.Instance} instance wasm instance\n   * @param {WebAssembly.Instance[]} instancesPool pool of instances\n   * @param {number} chunkSize size of data chunks passed to wasm\n   * @param {number} digestSize size of digest returned by wasm\n   */\n  constructor(instance, instancesPool, chunkSize, digestSize) {\n    const exports = /** @type {any} */ (instance.exports);\n\n    exports.init();\n\n    this.exports = exports;\n    this.mem = Buffer.from(exports.memory.buffer, 0, 65536);\n    this.buffered = 0;\n    this.instancesPool = instancesPool;\n    this.chunkSize = chunkSize;\n    this.digestSize = digestSize;\n  }\n\n  reset() {\n    this.buffered = 0;\n    this.exports.init();\n  }\n\n  /**\n   * @param {Buffer | string} data data\n   * @param {BufferEncoding=} encoding encoding\n   * @returns {this} itself\n   */\n  update(data, encoding) {\n    if (typeof data === 'string') {\n      while (data.length > MAX_SHORT_STRING) {\n        this._updateWithShortString(data.slice(0, MAX_SHORT_STRING), encoding);\n        data = data.slice(MAX_SHORT_STRING);\n      }\n\n      this._updateWithShortString(data, encoding);\n\n      return this;\n    }\n\n    this._updateWithBuffer(data);\n\n    return this;\n  }\n\n  /**\n   * @param {string} data data\n   * @param {BufferEncoding=} encoding encoding\n   * @returns {void}\n   */\n  _updateWithShortString(data, encoding) {\n    const { exports, buffered, mem, chunkSize } = this;\n\n    let endPos;\n\n    if (data.length < 70) {\n      if (!encoding || encoding === 'utf-8' || encoding === 'utf8') {\n        endPos = buffered;\n        for (let i = 0; i < data.length; i++) {\n          const cc = data.charCodeAt(i);\n\n          if (cc < 0x80) {\n            mem[endPos++] = cc;\n          } else if (cc < 0x800) {\n            mem[endPos] = (cc >> 6) | 0xc0;\n            mem[endPos + 1] = (cc & 0x3f) | 0x80;\n            endPos += 2;\n          } else {\n            // bail-out for weird chars\n            endPos += mem.write(data.slice(i), endPos, encoding);\n            break;\n          }\n        }\n      } else if (encoding === 'latin1') {\n        endPos = buffered;\n\n        for (let i = 0; i < data.length; i++) {\n          const cc = data.charCodeAt(i);\n\n          mem[endPos++] = cc;\n        }\n      } else {\n        endPos = buffered + mem.write(data, buffered, encoding);\n      }\n    } else {\n      endPos = buffered + mem.write(data, buffered, encoding);\n    }\n\n    if (endPos < chunkSize) {\n      this.buffered = endPos;\n    } else {\n      const l = endPos & ~(this.chunkSize - 1);\n\n      exports.update(l);\n\n      const newBuffered = endPos - l;\n\n      this.buffered = newBuffered;\n\n      if (newBuffered > 0) {\n        mem.copyWithin(0, l, endPos);\n      }\n    }\n  }\n\n  /**\n   * @param {Buffer} data data\n   * @returns {void}\n   */\n  _updateWithBuffer(data) {\n    const { exports, buffered, mem } = this;\n    const length = data.length;\n\n    if (buffered + length < this.chunkSize) {\n      data.copy(mem, buffered, 0, length);\n\n      this.buffered += length;\n    } else {\n      const l = (buffered + length) & ~(this.chunkSize - 1);\n\n      if (l > 65536) {\n        let i = 65536 - buffered;\n\n        data.copy(mem, buffered, 0, i);\n        exports.update(65536);\n\n        const stop = l - buffered - 65536;\n\n        while (i < stop) {\n          data.copy(mem, 0, i, i + 65536);\n          exports.update(65536);\n          i += 65536;\n        }\n\n        data.copy(mem, 0, i, l - buffered);\n\n        exports.update(l - buffered - i);\n      } else {\n        data.copy(mem, buffered, 0, l - buffered);\n\n        exports.update(l);\n      }\n\n      const newBuffered = length + buffered - l;\n\n      this.buffered = newBuffered;\n\n      if (newBuffered > 0) {\n        data.copy(mem, 0, length - newBuffered, length);\n      }\n    }\n  }\n\n  digest(type) {\n    const { exports, buffered, mem, digestSize } = this;\n\n    exports.final(buffered);\n\n    this.instancesPool.push(this);\n\n    const hex = mem.toString('latin1', 0, digestSize);\n\n    if (type === 'hex') {\n      return hex;\n    }\n\n    if (type === 'binary' || !type) {\n      return Buffer.from(hex, 'hex');\n    }\n\n    return Buffer.from(hex, 'hex').toString(type);\n  }\n}\n\nconst create = (wasmModule, instancesPool, chunkSize, digestSize) => {\n  if (instancesPool.length > 0) {\n    const old = instancesPool.pop();\n\n    old.reset();\n\n    return old;\n  } else {\n    return new WasmHash(\n      new WebAssembly.Instance(wasmModule),\n      instancesPool,\n      chunkSize,\n      digestSize\n    );\n  }\n};\n\nmodule.exports = create;\nmodule.exports.MAX_SHORT_STRING = MAX_SHORT_STRING;\n","'use strict';\n\nconst getOptions = require('./getOptions');\nconst parseQuery = require('./parseQuery');\nconst stringifyRequest = require('./stringifyRequest');\nconst getRemainingRequest = require('./getRemainingRequest');\nconst getCurrentRequest = require('./getCurrentRequest');\nconst isUrlRequest = require('./isUrlRequest');\nconst urlToRequest = require('./urlToRequest');\nconst parseString = require('./parseString');\nconst getHashDigest = require('./getHashDigest');\nconst interpolateName = require('./interpolateName');\n\nexports.getOptions = getOptions;\nexports.parseQuery = parseQuery;\nexports.stringifyRequest = stringifyRequest;\nexports.getRemainingRequest = getRemainingRequest;\nexports.getCurrentRequest = getCurrentRequest;\nexports.isUrlRequest = isUrlRequest;\nexports.urlToRequest = urlToRequest;\nexports.parseString = parseString;\nexports.getHashDigest = getHashDigest;\nexports.interpolateName = interpolateName;\n","'use strict';\n\nconst path = require('path');\nconst emojisList = require('emojis-list');\nconst getHashDigest = require('./getHashDigest');\n\nconst emojiRegex = /[\\uD800-\\uDFFF]./;\nconst emojiList = emojisList.filter((emoji) => emojiRegex.test(emoji));\nconst emojiCache = {};\n\nfunction encodeStringToEmoji(content, length) {\n  if (emojiCache[content]) {\n    return emojiCache[content];\n  }\n\n  length = length || 1;\n\n  const emojis = [];\n\n  do {\n    if (!emojiList.length) {\n      throw new Error('Ran out of emoji');\n    }\n\n    const index = Math.floor(Math.random() * emojiList.length);\n\n    emojis.push(emojiList[index]);\n    emojiList.splice(index, 1);\n  } while (--length > 0);\n\n  const emojiEncoding = emojis.join('');\n\n  emojiCache[content] = emojiEncoding;\n\n  return emojiEncoding;\n}\n\nfunction interpolateName(loaderContext, name, options) {\n  let filename;\n\n  const hasQuery =\n    loaderContext.resourceQuery && loaderContext.resourceQuery.length > 1;\n\n  if (typeof name === 'function') {\n    filename = name(\n      loaderContext.resourcePath,\n      hasQuery ? loaderContext.resourceQuery : undefined\n    );\n  } else {\n    filename = name || '[hash].[ext]';\n  }\n\n  const context = options.context;\n  const content = options.content;\n  const regExp = options.regExp;\n\n  let ext = 'bin';\n  let basename = 'file';\n  let directory = '';\n  let folder = '';\n  let query = '';\n\n  if (loaderContext.resourcePath) {\n    const parsed = path.parse(loaderContext.resourcePath);\n    let resourcePath = loaderContext.resourcePath;\n\n    if (parsed.ext) {\n      ext = parsed.ext.substr(1);\n    }\n\n    if (parsed.dir) {\n      basename = parsed.name;\n      resourcePath = parsed.dir + path.sep;\n    }\n\n    if (typeof context !== 'undefined') {\n      directory = path\n        .relative(context, resourcePath + '_')\n        .replace(/\\\\/g, '/')\n        .replace(/\\.\\.(\\/)?/g, '_$1');\n      directory = directory.substr(0, directory.length - 1);\n    } else {\n      directory = resourcePath.replace(/\\\\/g, '/').replace(/\\.\\.(\\/)?/g, '_$1');\n    }\n\n    if (directory.length === 1) {\n      directory = '';\n    } else if (directory.length > 1) {\n      folder = path.basename(directory);\n    }\n  }\n\n  if (loaderContext.resourceQuery && loaderContext.resourceQuery.length > 1) {\n    query = loaderContext.resourceQuery;\n\n    const hashIdx = query.indexOf('#');\n\n    if (hashIdx >= 0) {\n      query = query.substr(0, hashIdx);\n    }\n  }\n\n  let url = filename;\n\n  if (content) {\n    // Match hash template\n    url = url\n      // `hash` and `contenthash` are same in `loader-utils` context\n      // let's keep `hash` for backward compatibility\n      .replace(\n        /\\[(?:([^[:\\]]+):)?(?:hash|contenthash)(?::([a-z]+\\d*))?(?::(\\d+))?\\]/gi,\n        (all, hashType, digestType, maxLength) =>\n          getHashDigest(content, hashType, digestType, parseInt(maxLength, 10))\n      )\n      .replace(/\\[emoji(?::(\\d+))?\\]/gi, (all, length) =>\n        encodeStringToEmoji(content, parseInt(length, 10))\n      );\n  }\n\n  url = url\n    .replace(/\\[ext\\]/gi, () => ext)\n    .replace(/\\[name\\]/gi, () => basename)\n    .replace(/\\[path\\]/gi, () => directory)\n    .replace(/\\[folder\\]/gi, () => folder)\n    .replace(/\\[query\\]/gi, () => query);\n\n  if (regExp && loaderContext.resourcePath) {\n    const match = loaderContext.resourcePath.match(new RegExp(regExp));\n\n    match &&\n      match.forEach((matched, i) => {\n        url = url.replace(new RegExp('\\\\[' + i + '\\\\]', 'ig'), matched);\n      });\n  }\n\n  if (\n    typeof loaderContext.options === 'object' &&\n    typeof loaderContext.options.customInterpolateName === 'function'\n  ) {\n    url = loaderContext.options.customInterpolateName.call(\n      loaderContext,\n      url,\n      name,\n      options\n    );\n  }\n\n  return url;\n}\n\nmodule.exports = interpolateName;\n","'use strict';\n\nconst path = require('path');\n\nfunction isUrlRequest(url, root) {\n  // An URL is not an request if\n\n  // 1. It's an absolute url and it is not `windows` path like `C:\\dir\\file`\n  if (/^[a-z][a-z0-9+.-]*:/i.test(url) && !path.win32.isAbsolute(url)) {\n    return false;\n  }\n\n  // 2. It's a protocol-relative\n  if (/^\\/\\//.test(url)) {\n    return false;\n  }\n\n  // 3. It's some kind of url for a template\n  if (/^[{}[\\]#*;,'$%&(=?`^<>]/.test(url)) {\n    return false;\n  }\n\n  // 4. It's also not an request if root isn't set and it's a root-relative url\n  if ((root === undefined || root === false) && /^\\//.test(url)) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = isUrlRequest;\n","'use strict';\n\nconst JSON5 = require('json5');\n\nconst specialValues = {\n  null: null,\n  true: true,\n  false: false,\n};\n\nfunction parseQuery(query) {\n  if (query.substr(0, 1) !== '?') {\n    throw new Error(\n      \"A valid query string passed to parseQuery should begin with '?'\"\n    );\n  }\n\n  query = query.substr(1);\n\n  if (!query) {\n    return {};\n  }\n\n  if (query.substr(0, 1) === '{' && query.substr(-1) === '}') {\n    return JSON5.parse(query);\n  }\n\n  const queryArgs = query.split(/[,&]/g);\n  const result = Object.create(null);\n\n  queryArgs.forEach((arg) => {\n    const idx = arg.indexOf('=');\n\n    if (idx >= 0) {\n      let name = arg.substr(0, idx);\n      let value = decodeURIComponent(arg.substr(idx + 1));\n\n      // eslint-disable-next-line no-prototype-builtins\n      if (specialValues.hasOwnProperty(value)) {\n        value = specialValues[value];\n      }\n\n      if (name.substr(-2) === '[]') {\n        name = decodeURIComponent(name.substr(0, name.length - 2));\n\n        if (!Array.isArray(result[name])) {\n          result[name] = [];\n        }\n\n        result[name].push(value);\n      } else {\n        name = decodeURIComponent(name);\n        result[name] = value;\n      }\n    } else {\n      if (arg.substr(0, 1) === '-') {\n        result[decodeURIComponent(arg.substr(1))] = false;\n      } else if (arg.substr(0, 1) === '+') {\n        result[decodeURIComponent(arg.substr(1))] = true;\n      } else {\n        result[decodeURIComponent(arg)] = true;\n      }\n    }\n  });\n\n  return result;\n}\n\nmodule.exports = parseQuery;\n","'use strict';\n\nfunction parseString(str) {\n  try {\n    if (str[0] === '\"') {\n      return JSON.parse(str);\n    }\n\n    if (str[0] === \"'\" && str.substr(str.length - 1) === \"'\") {\n      return parseString(\n        str\n          .replace(/\\\\.|\"/g, (x) => (x === '\"' ? '\\\\\"' : x))\n          .replace(/^'|'$/g, '\"')\n      );\n    }\n\n    return JSON.parse('\"' + str + '\"');\n  } catch (e) {\n    return str;\n  }\n}\n\nmodule.exports = parseString;\n","'use strict';\n\nconst path = require('path');\n\nconst matchRelativePath = /^\\.\\.?[/\\\\]/;\n\nfunction isAbsolutePath(str) {\n  return path.posix.isAbsolute(str) || path.win32.isAbsolute(str);\n}\n\nfunction isRelativePath(str) {\n  return matchRelativePath.test(str);\n}\n\nfunction stringifyRequest(loaderContext, request) {\n  const splitted = request.split('!');\n  const context =\n    loaderContext.context ||\n    (loaderContext.options && loaderContext.options.context);\n\n  return JSON.stringify(\n    splitted\n      .map((part) => {\n        // First, separate singlePath from query, because the query might contain paths again\n        const splittedPart = part.match(/^(.*?)(\\?.*)/);\n        const query = splittedPart ? splittedPart[2] : '';\n        let singlePath = splittedPart ? splittedPart[1] : part;\n\n        if (isAbsolutePath(singlePath) && context) {\n          singlePath = path.relative(context, singlePath);\n\n          if (isAbsolutePath(singlePath)) {\n            // If singlePath still matches an absolute path, singlePath was on a different drive than context.\n            // In this case, we leave the path platform-specific without replacing any separators.\n            // @see https://github.com/webpack/loader-utils/pull/14\n            return singlePath + query;\n          }\n\n          if (isRelativePath(singlePath) === false) {\n            // Ensure that the relative path starts at least with ./ otherwise it would be a request into the modules directory (like node_modules).\n            singlePath = './' + singlePath;\n          }\n        }\n\n        return singlePath.replace(/\\\\/g, '/') + query;\n      })\n      .join('!')\n  );\n}\n\nmodule.exports = stringifyRequest;\n","'use strict';\n\n// we can't use path.win32.isAbsolute because it also matches paths starting with a forward slash\nconst matchNativeWin32Path = /^[A-Z]:[/\\\\]|^\\\\\\\\/i;\n\nfunction urlToRequest(url, root) {\n  // Do not rewrite an empty url\n  if (url === '') {\n    return '';\n  }\n\n  const moduleRequestRegex = /^[^?]*~/;\n  let request;\n\n  if (matchNativeWin32Path.test(url)) {\n    // absolute windows path, keep it\n    request = url;\n  } else if (root !== undefined && root !== false && /^\\//.test(url)) {\n    // if root is set and the url is root-relative\n    switch (typeof root) {\n      // 1. root is a string: root is prefixed to the url\n      case 'string':\n        // special case: `~` roots convert to module request\n        if (moduleRequestRegex.test(root)) {\n          request = root.replace(/([^~/])$/, '$1/') + url.slice(1);\n        } else {\n          request = root + url;\n        }\n        break;\n      // 2. root is `true`: absolute paths are allowed\n      //    *nix only, windows-style absolute paths are always allowed as they doesn't start with a `/`\n      case 'boolean':\n        request = url;\n        break;\n      default:\n        throw new Error(\n          \"Unexpected parameters to loader-utils 'urlToRequest': url = \" +\n            url +\n            ', root = ' +\n            root +\n            '.'\n        );\n    }\n  } else if (/^\\.\\.?\\//.test(url)) {\n    // A relative url stays\n    request = url;\n  } else {\n    // every other url is threaded like a relative url\n    request = './' + url;\n  }\n\n  // A `~` makes the url an module\n  if (moduleRequestRegex.test(request)) {\n    request = request.replace(moduleRequestRegex, '');\n  }\n\n  return request;\n}\n\nmodule.exports = urlToRequest;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst {\n  stringHints,\n  numberHints\n} = require(\"./util/hints\");\n/** @typedef {import(\"json-schema\").JSONSchema6} JSONSchema6 */\n\n/** @typedef {import(\"json-schema\").JSONSchema7} JSONSchema7 */\n\n/** @typedef {import(\"./validate\").Schema} Schema */\n\n/** @typedef {import(\"./validate\").ValidationErrorConfiguration} ValidationErrorConfiguration */\n\n/** @typedef {import(\"./validate\").PostFormatter} PostFormatter */\n\n/** @typedef {import(\"./validate\").SchemaUtilErrorObject} SchemaUtilErrorObject */\n\n/** @enum {number} */\n\n\nconst SPECIFICITY = {\n  type: 1,\n  not: 1,\n  oneOf: 1,\n  anyOf: 1,\n  if: 1,\n  enum: 1,\n  const: 1,\n  instanceof: 1,\n  required: 2,\n  pattern: 2,\n  patternRequired: 2,\n  format: 2,\n  formatMinimum: 2,\n  formatMaximum: 2,\n  minimum: 2,\n  exclusiveMinimum: 2,\n  maximum: 2,\n  exclusiveMaximum: 2,\n  multipleOf: 2,\n  uniqueItems: 2,\n  contains: 2,\n  minLength: 2,\n  maxLength: 2,\n  minItems: 2,\n  maxItems: 2,\n  minProperties: 2,\n  maxProperties: 2,\n  dependencies: 2,\n  propertyNames: 2,\n  additionalItems: 2,\n  additionalProperties: 2,\n  absolutePath: 2\n};\n/**\n *\n * @param {Array<SchemaUtilErrorObject>} array\n * @param {(item: SchemaUtilErrorObject) => number} fn\n * @returns {Array<SchemaUtilErrorObject>}\n */\n\nfunction filterMax(array, fn) {\n  const evaluatedMax = array.reduce((max, item) => Math.max(max, fn(item)), 0);\n  return array.filter(item => fn(item) === evaluatedMax);\n}\n/**\n *\n * @param {Array<SchemaUtilErrorObject>} children\n * @returns {Array<SchemaUtilErrorObject>}\n */\n\n\nfunction filterChildren(children) {\n  let newChildren = children;\n  newChildren = filterMax(newChildren,\n  /**\n   *\n   * @param {SchemaUtilErrorObject} error\n   * @returns {number}\n   */\n  error => error.dataPath ? error.dataPath.length : 0);\n  newChildren = filterMax(newChildren,\n  /**\n   * @param {SchemaUtilErrorObject} error\n   * @returns {number}\n   */\n  error => SPECIFICITY[\n  /** @type {keyof typeof SPECIFICITY} */\n  error.keyword] || 2);\n  return newChildren;\n}\n/**\n * Find all children errors\n * @param {Array<SchemaUtilErrorObject>} children\n * @param {Array<string>} schemaPaths\n * @return {number} returns index of first child\n */\n\n\nfunction findAllChildren(children, schemaPaths) {\n  let i = children.length - 1;\n\n  const predicate =\n  /**\n   * @param {string} schemaPath\n   * @returns {boolean}\n   */\n  schemaPath => children[i].schemaPath.indexOf(schemaPath) !== 0;\n\n  while (i > -1 && !schemaPaths.every(predicate)) {\n    if (children[i].keyword === \"anyOf\" || children[i].keyword === \"oneOf\") {\n      const refs = extractRefs(children[i]);\n      const childrenStart = findAllChildren(children.slice(0, i), refs.concat(children[i].schemaPath));\n      i = childrenStart - 1;\n    } else {\n      i -= 1;\n    }\n  }\n\n  return i + 1;\n}\n/**\n * Extracts all refs from schema\n * @param {SchemaUtilErrorObject} error\n * @return {Array<string>}\n */\n\n\nfunction extractRefs(error) {\n  const {\n    schema\n  } = error;\n\n  if (!Array.isArray(schema)) {\n    return [];\n  }\n\n  return schema.map(({\n    $ref\n  }) => $ref).filter(s => s);\n}\n/**\n * Groups children by their first level parent (assuming that error is root)\n * @param {Array<SchemaUtilErrorObject>} children\n * @return {Array<SchemaUtilErrorObject>}\n */\n\n\nfunction groupChildrenByFirstChild(children) {\n  const result = [];\n  let i = children.length - 1;\n\n  while (i > 0) {\n    const child = children[i];\n\n    if (child.keyword === \"anyOf\" || child.keyword === \"oneOf\") {\n      const refs = extractRefs(child);\n      const childrenStart = findAllChildren(children.slice(0, i), refs.concat(child.schemaPath));\n\n      if (childrenStart !== i) {\n        result.push(Object.assign({}, child, {\n          children: children.slice(childrenStart, i)\n        }));\n        i = childrenStart;\n      } else {\n        result.push(child);\n      }\n    } else {\n      result.push(child);\n    }\n\n    i -= 1;\n  }\n\n  if (i === 0) {\n    result.push(children[i]);\n  }\n\n  return result.reverse();\n}\n/**\n * @param {string} str\n * @param {string} prefix\n * @returns {string}\n */\n\n\nfunction indent(str, prefix) {\n  return str.replace(/\\n(?!$)/g, `\\n${prefix}`);\n}\n/**\n * @param {Schema} schema\n * @returns {schema is (Schema & {not: Schema})}\n */\n\n\nfunction hasNotInSchema(schema) {\n  return !!schema.not;\n}\n/**\n * @param {Schema} schema\n * @return {Schema}\n */\n\n\nfunction findFirstTypedSchema(schema) {\n  if (hasNotInSchema(schema)) {\n    return findFirstTypedSchema(schema.not);\n  }\n\n  return schema;\n}\n/**\n * @param {Schema} schema\n * @return {boolean}\n */\n\n\nfunction canApplyNot(schema) {\n  const typedSchema = findFirstTypedSchema(schema);\n  return likeNumber(typedSchema) || likeInteger(typedSchema) || likeString(typedSchema) || likeNull(typedSchema) || likeBoolean(typedSchema);\n}\n/**\n * @param {any} maybeObj\n * @returns {boolean}\n */\n\n\nfunction isObject(maybeObj) {\n  return typeof maybeObj === \"object\" && maybeObj !== null;\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeNumber(schema) {\n  return schema.type === \"number\" || typeof schema.minimum !== \"undefined\" || typeof schema.exclusiveMinimum !== \"undefined\" || typeof schema.maximum !== \"undefined\" || typeof schema.exclusiveMaximum !== \"undefined\" || typeof schema.multipleOf !== \"undefined\";\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeInteger(schema) {\n  return schema.type === \"integer\" || typeof schema.minimum !== \"undefined\" || typeof schema.exclusiveMinimum !== \"undefined\" || typeof schema.maximum !== \"undefined\" || typeof schema.exclusiveMaximum !== \"undefined\" || typeof schema.multipleOf !== \"undefined\";\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeString(schema) {\n  return schema.type === \"string\" || typeof schema.minLength !== \"undefined\" || typeof schema.maxLength !== \"undefined\" || typeof schema.pattern !== \"undefined\" || typeof schema.format !== \"undefined\" || typeof schema.formatMinimum !== \"undefined\" || typeof schema.formatMaximum !== \"undefined\";\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeBoolean(schema) {\n  return schema.type === \"boolean\";\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeArray(schema) {\n  return schema.type === \"array\" || typeof schema.minItems === \"number\" || typeof schema.maxItems === \"number\" || typeof schema.uniqueItems !== \"undefined\" || typeof schema.items !== \"undefined\" || typeof schema.additionalItems !== \"undefined\" || typeof schema.contains !== \"undefined\";\n}\n/**\n * @param {Schema & {patternRequired?: Array<string>}} schema\n * @returns {boolean}\n */\n\n\nfunction likeObject(schema) {\n  return schema.type === \"object\" || typeof schema.minProperties !== \"undefined\" || typeof schema.maxProperties !== \"undefined\" || typeof schema.required !== \"undefined\" || typeof schema.properties !== \"undefined\" || typeof schema.patternProperties !== \"undefined\" || typeof schema.additionalProperties !== \"undefined\" || typeof schema.dependencies !== \"undefined\" || typeof schema.propertyNames !== \"undefined\" || typeof schema.patternRequired !== \"undefined\";\n}\n/**\n * @param {Schema} schema\n * @returns {boolean}\n */\n\n\nfunction likeNull(schema) {\n  return schema.type === \"null\";\n}\n/**\n * @param {string} type\n * @returns {string}\n */\n\n\nfunction getArticle(type) {\n  if (/^[aeiou]/i.test(type)) {\n    return \"an\";\n  }\n\n  return \"a\";\n}\n/**\n * @param {Schema=} schema\n * @returns {string}\n */\n\n\nfunction getSchemaNonTypes(schema) {\n  if (!schema) {\n    return \"\";\n  }\n\n  if (!schema.type) {\n    if (likeNumber(schema) || likeInteger(schema)) {\n      return \" | should be any non-number\";\n    }\n\n    if (likeString(schema)) {\n      return \" | should be any non-string\";\n    }\n\n    if (likeArray(schema)) {\n      return \" | should be any non-array\";\n    }\n\n    if (likeObject(schema)) {\n      return \" | should be any non-object\";\n    }\n  }\n\n  return \"\";\n}\n/**\n * @param {Array<string>} hints\n * @returns {string}\n */\n\n\nfunction formatHints(hints) {\n  return hints.length > 0 ? `(${hints.join(\", \")})` : \"\";\n}\n/**\n * @param {Schema} schema\n * @param {boolean} logic\n * @returns {string[]}\n */\n\n\nfunction getHints(schema, logic) {\n  if (likeNumber(schema) || likeInteger(schema)) {\n    return numberHints(schema, logic);\n  } else if (likeString(schema)) {\n    return stringHints(schema, logic);\n  }\n\n  return [];\n}\n\nclass ValidationError extends Error {\n  /**\n   * @param {Array<SchemaUtilErrorObject>} errors\n   * @param {Schema} schema\n   * @param {ValidationErrorConfiguration} configuration\n   */\n  constructor(errors, schema, configuration = {}) {\n    super();\n    /** @type {string} */\n\n    this.name = \"ValidationError\";\n    /** @type {Array<SchemaUtilErrorObject>} */\n\n    this.errors = errors;\n    /** @type {Schema} */\n\n    this.schema = schema;\n    let headerNameFromSchema;\n    let baseDataPathFromSchema;\n\n    if (schema.title && (!configuration.name || !configuration.baseDataPath)) {\n      const splittedTitleFromSchema = schema.title.match(/^(.+) (.+)$/);\n\n      if (splittedTitleFromSchema) {\n        if (!configuration.name) {\n          [, headerNameFromSchema] = splittedTitleFromSchema;\n        }\n\n        if (!configuration.baseDataPath) {\n          [,, baseDataPathFromSchema] = splittedTitleFromSchema;\n        }\n      }\n    }\n    /** @type {string} */\n\n\n    this.headerName = configuration.name || headerNameFromSchema || \"Object\";\n    /** @type {string} */\n\n    this.baseDataPath = configuration.baseDataPath || baseDataPathFromSchema || \"configuration\";\n    /** @type {PostFormatter | null} */\n\n    this.postFormatter = configuration.postFormatter || null;\n    const header = `Invalid ${this.baseDataPath} object. ${this.headerName} has been initialized using ${getArticle(this.baseDataPath)} ${this.baseDataPath} object that does not match the API schema.\\n`;\n    /** @type {string} */\n\n    this.message = `${header}${this.formatValidationErrors(errors)}`;\n    Error.captureStackTrace(this, this.constructor);\n  }\n  /**\n   * @param {string} path\n   * @returns {Schema}\n   */\n\n\n  getSchemaPart(path) {\n    const newPath = path.split(\"/\");\n    let schemaPart = this.schema;\n\n    for (let i = 1; i < newPath.length; i++) {\n      const inner = schemaPart[\n      /** @type {keyof Schema} */\n      newPath[i]];\n\n      if (!inner) {\n        break;\n      }\n\n      schemaPart = inner;\n    }\n\n    return schemaPart;\n  }\n  /**\n   * @param {Schema} schema\n   * @param {boolean} logic\n   * @param {Array<Object>} prevSchemas\n   * @returns {string}\n   */\n\n\n  formatSchema(schema, logic = true, prevSchemas = []) {\n    let newLogic = logic;\n\n    const formatInnerSchema =\n    /**\n     *\n     * @param {Object} innerSchema\n     * @param {boolean=} addSelf\n     * @returns {string}\n     */\n    (innerSchema, addSelf) => {\n      if (!addSelf) {\n        return this.formatSchema(innerSchema, newLogic, prevSchemas);\n      }\n\n      if (prevSchemas.includes(innerSchema)) {\n        return \"(recursive)\";\n      }\n\n      return this.formatSchema(innerSchema, newLogic, prevSchemas.concat(schema));\n    };\n\n    if (hasNotInSchema(schema) && !likeObject(schema)) {\n      if (canApplyNot(schema.not)) {\n        newLogic = !logic;\n        return formatInnerSchema(schema.not);\n      }\n\n      const needApplyLogicHere = !schema.not.not;\n      const prefix = logic ? \"\" : \"non \";\n      newLogic = !logic;\n      return needApplyLogicHere ? prefix + formatInnerSchema(schema.not) : formatInnerSchema(schema.not);\n    }\n\n    if (\n    /** @type {Schema & {instanceof: string | Array<string>}} */\n    schema.instanceof) {\n      const {\n        instanceof: value\n      } =\n      /** @type {Schema & {instanceof: string | Array<string>}} */\n      schema;\n      const values = !Array.isArray(value) ? [value] : value;\n      return values.map(\n      /**\n       * @param {string} item\n       * @returns {string}\n       */\n      item => item === \"Function\" ? \"function\" : item).join(\" | \");\n    }\n\n    if (schema.enum) {\n      return (\n        /** @type {Array<any>} */\n        schema.enum.map(item => JSON.stringify(item)).join(\" | \")\n      );\n    }\n\n    if (typeof schema.const !== \"undefined\") {\n      return JSON.stringify(schema.const);\n    }\n\n    if (schema.oneOf) {\n      return (\n        /** @type {Array<Schema>} */\n        schema.oneOf.map(item => formatInnerSchema(item, true)).join(\" | \")\n      );\n    }\n\n    if (schema.anyOf) {\n      return (\n        /** @type {Array<Schema>} */\n        schema.anyOf.map(item => formatInnerSchema(item, true)).join(\" | \")\n      );\n    }\n\n    if (schema.allOf) {\n      return (\n        /** @type {Array<Schema>} */\n        schema.allOf.map(item => formatInnerSchema(item, true)).join(\" & \")\n      );\n    }\n\n    if (\n    /** @type {JSONSchema7} */\n    schema.if) {\n      const {\n        if: ifValue,\n        then: thenValue,\n        else: elseValue\n      } =\n      /** @type {JSONSchema7} */\n      schema;\n      return `${ifValue ? `if ${formatInnerSchema(ifValue)}` : \"\"}${thenValue ? ` then ${formatInnerSchema(thenValue)}` : \"\"}${elseValue ? ` else ${formatInnerSchema(elseValue)}` : \"\"}`;\n    }\n\n    if (schema.$ref) {\n      return formatInnerSchema(this.getSchemaPart(schema.$ref), true);\n    }\n\n    if (likeNumber(schema) || likeInteger(schema)) {\n      const [type, ...hints] = getHints(schema, logic);\n      const str = `${type}${hints.length > 0 ? ` ${formatHints(hints)}` : \"\"}`;\n      return logic ? str : hints.length > 0 ? `non-${type} | ${str}` : `non-${type}`;\n    }\n\n    if (likeString(schema)) {\n      const [type, ...hints] = getHints(schema, logic);\n      const str = `${type}${hints.length > 0 ? ` ${formatHints(hints)}` : \"\"}`;\n      return logic ? str : str === \"string\" ? \"non-string\" : `non-string | ${str}`;\n    }\n\n    if (likeBoolean(schema)) {\n      return `${logic ? \"\" : \"non-\"}boolean`;\n    }\n\n    if (likeArray(schema)) {\n      // not logic already applied in formatValidationError\n      newLogic = true;\n      const hints = [];\n\n      if (typeof schema.minItems === \"number\") {\n        hints.push(`should not have fewer than ${schema.minItems} item${schema.minItems > 1 ? \"s\" : \"\"}`);\n      }\n\n      if (typeof schema.maxItems === \"number\") {\n        hints.push(`should not have more than ${schema.maxItems} item${schema.maxItems > 1 ? \"s\" : \"\"}`);\n      }\n\n      if (schema.uniqueItems) {\n        hints.push(\"should not have duplicate items\");\n      }\n\n      const hasAdditionalItems = typeof schema.additionalItems === \"undefined\" || Boolean(schema.additionalItems);\n      let items = \"\";\n\n      if (schema.items) {\n        if (Array.isArray(schema.items) && schema.items.length > 0) {\n          items = `${\n          /** @type {Array<Schema>} */\n          schema.items.map(item => formatInnerSchema(item)).join(\", \")}`;\n\n          if (hasAdditionalItems) {\n            if (schema.additionalItems && isObject(schema.additionalItems) && Object.keys(schema.additionalItems).length > 0) {\n              hints.push(`additional items should be ${formatInnerSchema(schema.additionalItems)}`);\n            }\n          }\n        } else if (schema.items && Object.keys(schema.items).length > 0) {\n          // \"additionalItems\" is ignored\n          items = `${formatInnerSchema(schema.items)}`;\n        } else {\n          // Fallback for empty `items` value\n          items = \"any\";\n        }\n      } else {\n        // \"additionalItems\" is ignored\n        items = \"any\";\n      }\n\n      if (schema.contains && Object.keys(schema.contains).length > 0) {\n        hints.push(`should contains at least one ${this.formatSchema(schema.contains)} item`);\n      }\n\n      return `[${items}${hasAdditionalItems ? \", ...\" : \"\"}]${hints.length > 0 ? ` (${hints.join(\", \")})` : \"\"}`;\n    }\n\n    if (likeObject(schema)) {\n      // not logic already applied in formatValidationError\n      newLogic = true;\n      const hints = [];\n\n      if (typeof schema.minProperties === \"number\") {\n        hints.push(`should not have fewer than ${schema.minProperties} ${schema.minProperties > 1 ? \"properties\" : \"property\"}`);\n      }\n\n      if (typeof schema.maxProperties === \"number\") {\n        hints.push(`should not have more than ${schema.maxProperties} ${schema.minProperties && schema.minProperties > 1 ? \"properties\" : \"property\"}`);\n      }\n\n      if (schema.patternProperties && Object.keys(schema.patternProperties).length > 0) {\n        const patternProperties = Object.keys(schema.patternProperties);\n        hints.push(`additional property names should match pattern${patternProperties.length > 1 ? \"s\" : \"\"} ${patternProperties.map(pattern => JSON.stringify(pattern)).join(\" | \")}`);\n      }\n\n      const properties = schema.properties ? Object.keys(schema.properties) : [];\n      const required = schema.required ? schema.required : [];\n      const allProperties = [...new Set(\n      /** @type {Array<string>} */\n      [].concat(required).concat(properties))];\n      const objectStructure = allProperties.map(property => {\n        const isRequired = required.includes(property); // Some properties need quotes, maybe we should add check\n        // Maybe we should output type of property (`foo: string`), but it is looks very unreadable\n\n        return `${property}${isRequired ? \"\" : \"?\"}`;\n      }).concat(typeof schema.additionalProperties === \"undefined\" || Boolean(schema.additionalProperties) ? schema.additionalProperties && isObject(schema.additionalProperties) ? [`<key>: ${formatInnerSchema(schema.additionalProperties)}`] : [\"\"] : []).join(\", \");\n      const {\n        dependencies,\n        propertyNames,\n        patternRequired\n      } =\n      /** @type {Schema & {patternRequired?: Array<string>;}} */\n      schema;\n\n      if (dependencies) {\n        Object.keys(dependencies).forEach(dependencyName => {\n          const dependency = dependencies[dependencyName];\n\n          if (Array.isArray(dependency)) {\n            hints.push(`should have ${dependency.length > 1 ? \"properties\" : \"property\"} ${dependency.map(dep => `'${dep}'`).join(\", \")} when property '${dependencyName}' is present`);\n          } else {\n            hints.push(`should be valid according to the schema ${formatInnerSchema(dependency)} when property '${dependencyName}' is present`);\n          }\n        });\n      }\n\n      if (propertyNames && Object.keys(propertyNames).length > 0) {\n        hints.push(`each property name should match format ${JSON.stringify(schema.propertyNames.format)}`);\n      }\n\n      if (patternRequired && patternRequired.length > 0) {\n        hints.push(`should have property matching pattern ${patternRequired.map(\n        /**\n         * @param {string} item\n         * @returns {string}\n         */\n        item => JSON.stringify(item))}`);\n      }\n\n      return `object {${objectStructure ? ` ${objectStructure} ` : \"\"}}${hints.length > 0 ? ` (${hints.join(\", \")})` : \"\"}`;\n    }\n\n    if (likeNull(schema)) {\n      return `${logic ? \"\" : \"non-\"}null`;\n    }\n\n    if (Array.isArray(schema.type)) {\n      // not logic already applied in formatValidationError\n      return `${schema.type.join(\" | \")}`;\n    } // Fallback for unknown keywords\n    // not logic already applied in formatValidationError\n\n    /* istanbul ignore next */\n\n\n    return JSON.stringify(schema, null, 2);\n  }\n  /**\n   * @param {Schema=} schemaPart\n   * @param {(boolean | Array<string>)=} additionalPath\n   * @param {boolean=} needDot\n   * @param {boolean=} logic\n   * @returns {string}\n   */\n\n\n  getSchemaPartText(schemaPart, additionalPath, needDot = false, logic = true) {\n    if (!schemaPart) {\n      return \"\";\n    }\n\n    if (Array.isArray(additionalPath)) {\n      for (let i = 0; i < additionalPath.length; i++) {\n        /** @type {Schema | undefined} */\n        const inner = schemaPart[\n        /** @type {keyof Schema} */\n        additionalPath[i]];\n\n        if (inner) {\n          // eslint-disable-next-line no-param-reassign\n          schemaPart = inner;\n        } else {\n          break;\n        }\n      }\n    }\n\n    while (schemaPart.$ref) {\n      // eslint-disable-next-line no-param-reassign\n      schemaPart = this.getSchemaPart(schemaPart.$ref);\n    }\n\n    let schemaText = `${this.formatSchema(schemaPart, logic)}${needDot ? \".\" : \"\"}`;\n\n    if (schemaPart.description) {\n      schemaText += `\\n-> ${schemaPart.description}`;\n    }\n\n    if (schemaPart.link) {\n      schemaText += `\\n-> Read more at ${schemaPart.link}`;\n    }\n\n    return schemaText;\n  }\n  /**\n   * @param {Schema=} schemaPart\n   * @returns {string}\n   */\n\n\n  getSchemaPartDescription(schemaPart) {\n    if (!schemaPart) {\n      return \"\";\n    }\n\n    while (schemaPart.$ref) {\n      // eslint-disable-next-line no-param-reassign\n      schemaPart = this.getSchemaPart(schemaPart.$ref);\n    }\n\n    let schemaText = \"\";\n\n    if (schemaPart.description) {\n      schemaText += `\\n-> ${schemaPart.description}`;\n    }\n\n    if (schemaPart.link) {\n      schemaText += `\\n-> Read more at ${schemaPart.link}`;\n    }\n\n    return schemaText;\n  }\n  /**\n   * @param {SchemaUtilErrorObject} error\n   * @returns {string}\n   */\n\n\n  formatValidationError(error) {\n    const {\n      keyword,\n      dataPath: errorDataPath\n    } = error;\n    const dataPath = `${this.baseDataPath}${errorDataPath}`;\n\n    switch (keyword) {\n      case \"type\":\n        {\n          const {\n            parentSchema,\n            params\n          } = error; // eslint-disable-next-line default-case\n\n          switch (\n          /** @type {import(\"ajv\").TypeParams} */\n          params.type) {\n            case \"number\":\n              return `${dataPath} should be a ${this.getSchemaPartText(parentSchema, false, true)}`;\n\n            case \"integer\":\n              return `${dataPath} should be an ${this.getSchemaPartText(parentSchema, false, true)}`;\n\n            case \"string\":\n              return `${dataPath} should be a ${this.getSchemaPartText(parentSchema, false, true)}`;\n\n            case \"boolean\":\n              return `${dataPath} should be a ${this.getSchemaPartText(parentSchema, false, true)}`;\n\n            case \"array\":\n              return `${dataPath} should be an array:\\n${this.getSchemaPartText(parentSchema)}`;\n\n            case \"object\":\n              return `${dataPath} should be an object:\\n${this.getSchemaPartText(parentSchema)}`;\n\n            case \"null\":\n              return `${dataPath} should be a ${this.getSchemaPartText(parentSchema, false, true)}`;\n\n            default:\n              return `${dataPath} should be:\\n${this.getSchemaPartText(parentSchema)}`;\n          }\n        }\n\n      case \"instanceof\":\n        {\n          const {\n            parentSchema\n          } = error;\n          return `${dataPath} should be an instance of ${this.getSchemaPartText(parentSchema, false, true)}`;\n        }\n\n      case \"pattern\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            pattern\n          } =\n          /** @type {import(\"ajv\").PatternParams} */\n          params;\n          return `${dataPath} should match pattern ${JSON.stringify(pattern)}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"format\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            format\n          } =\n          /** @type {import(\"ajv\").FormatParams} */\n          params;\n          return `${dataPath} should match format ${JSON.stringify(format)}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"formatMinimum\":\n      case \"formatMaximum\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            comparison,\n            limit\n          } =\n          /** @type {import(\"ajv\").ComparisonParams} */\n          params;\n          return `${dataPath} should be ${comparison} ${JSON.stringify(limit)}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"minimum\":\n      case \"maximum\":\n      case \"exclusiveMinimum\":\n      case \"exclusiveMaximum\":\n        {\n          const {\n            parentSchema,\n            params\n          } = error;\n          const {\n            comparison,\n            limit\n          } =\n          /** @type {import(\"ajv\").ComparisonParams} */\n          params;\n          const [, ...hints] = getHints(\n          /** @type {Schema} */\n          parentSchema, true);\n\n          if (hints.length === 0) {\n            hints.push(`should be ${comparison} ${limit}`);\n          }\n\n          return `${dataPath} ${hints.join(\" \")}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"multipleOf\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            multipleOf\n          } =\n          /** @type {import(\"ajv\").MultipleOfParams} */\n          params;\n          return `${dataPath} should be multiple of ${multipleOf}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"patternRequired\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            missingPattern\n          } =\n          /** @type {import(\"ajv\").PatternRequiredParams} */\n          params;\n          return `${dataPath} should have property matching pattern ${JSON.stringify(missingPattern)}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"minLength\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n\n          if (limit === 1) {\n            return `${dataPath} should be a non-empty string${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n          }\n\n          const length = limit - 1;\n          return `${dataPath} should be longer than ${length} character${length > 1 ? \"s\" : \"\"}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"minItems\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n\n          if (limit === 1) {\n            return `${dataPath} should be a non-empty array${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n          }\n\n          return `${dataPath} should not have fewer than ${limit} items${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"minProperties\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n\n          if (limit === 1) {\n            return `${dataPath} should be a non-empty object${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n          }\n\n          return `${dataPath} should not have fewer than ${limit} properties${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"maxLength\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n          const max = limit + 1;\n          return `${dataPath} should be shorter than ${max} character${max > 1 ? \"s\" : \"\"}${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"maxItems\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n          return `${dataPath} should not have more than ${limit} items${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"maxProperties\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n          return `${dataPath} should not have more than ${limit} properties${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"uniqueItems\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            i\n          } =\n          /** @type {import(\"ajv\").UniqueItemsParams} */\n          params;\n          return `${dataPath} should not contain the item '${error.data[i]}' twice${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"additionalItems\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            limit\n          } =\n          /** @type {import(\"ajv\").LimitParams} */\n          params;\n          return `${dataPath} should not have more than ${limit} items${getSchemaNonTypes(parentSchema)}. These items are valid:\\n${this.getSchemaPartText(parentSchema)}`;\n        }\n\n      case \"contains\":\n        {\n          const {\n            parentSchema\n          } = error;\n          return `${dataPath} should contains at least one ${this.getSchemaPartText(parentSchema, [\"contains\"])} item${getSchemaNonTypes(parentSchema)}.`;\n        }\n\n      case \"required\":\n        {\n          const {\n            parentSchema,\n            params\n          } = error;\n          const missingProperty =\n          /** @type {import(\"ajv\").DependenciesParams} */\n          params.missingProperty.replace(/^\\./, \"\");\n          const hasProperty = parentSchema && Boolean(\n          /** @type {Schema} */\n          parentSchema.properties &&\n          /** @type {Schema} */\n          parentSchema.properties[missingProperty]);\n          return `${dataPath} misses the property '${missingProperty}'${getSchemaNonTypes(parentSchema)}.${hasProperty ? ` Should be:\\n${this.getSchemaPartText(parentSchema, [\"properties\", missingProperty])}` : this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"additionalProperties\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            additionalProperty\n          } =\n          /** @type {import(\"ajv\").AdditionalPropertiesParams} */\n          params;\n          return `${dataPath} has an unknown property '${additionalProperty}'${getSchemaNonTypes(parentSchema)}. These properties are valid:\\n${this.getSchemaPartText(parentSchema)}`;\n        }\n\n      case \"dependencies\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            property,\n            deps\n          } =\n          /** @type {import(\"ajv\").DependenciesParams} */\n          params;\n          const dependencies = deps.split(\",\").map(\n          /**\n           * @param {string} dep\n           * @returns {string}\n           */\n          dep => `'${dep.trim()}'`).join(\", \");\n          return `${dataPath} should have properties ${dependencies} when property '${property}' is present${getSchemaNonTypes(parentSchema)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"propertyNames\":\n        {\n          const {\n            params,\n            parentSchema,\n            schema\n          } = error;\n          const {\n            propertyName\n          } =\n          /** @type {import(\"ajv\").PropertyNamesParams} */\n          params;\n          return `${dataPath} property name '${propertyName}' is invalid${getSchemaNonTypes(parentSchema)}. Property names should be match format ${JSON.stringify(schema.format)}.${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      case \"enum\":\n        {\n          const {\n            parentSchema\n          } = error;\n\n          if (parentSchema &&\n          /** @type {Schema} */\n          parentSchema.enum &&\n          /** @type {Schema} */\n          parentSchema.enum.length === 1) {\n            return `${dataPath} should be ${this.getSchemaPartText(parentSchema, false, true)}`;\n          }\n\n          return `${dataPath} should be one of these:\\n${this.getSchemaPartText(parentSchema)}`;\n        }\n\n      case \"const\":\n        {\n          const {\n            parentSchema\n          } = error;\n          return `${dataPath} should be equal to constant ${this.getSchemaPartText(parentSchema, false, true)}`;\n        }\n\n      case \"not\":\n        {\n          const postfix = likeObject(\n          /** @type {Schema} */\n          error.parentSchema) ? `\\n${this.getSchemaPartText(error.parentSchema)}` : \"\";\n          const schemaOutput = this.getSchemaPartText(error.schema, false, false, false);\n\n          if (canApplyNot(error.schema)) {\n            return `${dataPath} should be any ${schemaOutput}${postfix}.`;\n          }\n\n          const {\n            schema,\n            parentSchema\n          } = error;\n          return `${dataPath} should not be ${this.getSchemaPartText(schema, false, true)}${parentSchema && likeObject(parentSchema) ? `\\n${this.getSchemaPartText(parentSchema)}` : \"\"}`;\n        }\n\n      case \"oneOf\":\n      case \"anyOf\":\n        {\n          const {\n            parentSchema,\n            children\n          } = error;\n\n          if (children && children.length > 0) {\n            if (error.schema.length === 1) {\n              const lastChild = children[children.length - 1];\n              const remainingChildren = children.slice(0, children.length - 1);\n              return this.formatValidationError(Object.assign({}, lastChild, {\n                children: remainingChildren,\n                parentSchema: Object.assign({}, parentSchema, lastChild.parentSchema)\n              }));\n            }\n\n            let filteredChildren = filterChildren(children);\n\n            if (filteredChildren.length === 1) {\n              return this.formatValidationError(filteredChildren[0]);\n            }\n\n            filteredChildren = groupChildrenByFirstChild(filteredChildren);\n            return `${dataPath} should be one of these:\\n${this.getSchemaPartText(parentSchema)}\\nDetails:\\n${filteredChildren.map(\n            /**\n             * @param {SchemaUtilErrorObject} nestedError\n             * @returns {string}\n             */\n            nestedError => ` * ${indent(this.formatValidationError(nestedError), \"   \")}`).join(\"\\n\")}`;\n          }\n\n          return `${dataPath} should be one of these:\\n${this.getSchemaPartText(parentSchema)}`;\n        }\n\n      case \"if\":\n        {\n          const {\n            params,\n            parentSchema\n          } = error;\n          const {\n            failingKeyword\n          } =\n          /** @type {import(\"ajv\").IfParams} */\n          params;\n          return `${dataPath} should match \"${failingKeyword}\" schema:\\n${this.getSchemaPartText(parentSchema, [failingKeyword])}`;\n        }\n\n      case \"absolutePath\":\n        {\n          const {\n            message,\n            parentSchema\n          } = error;\n          return `${dataPath}: ${message}${this.getSchemaPartDescription(parentSchema)}`;\n        }\n\n      /* istanbul ignore next */\n\n      default:\n        {\n          const {\n            message,\n            parentSchema\n          } = error;\n          const ErrorInJSON = JSON.stringify(error, null, 2); // For `custom`, `false schema`, `$ref` keywords\n          // Fallback for unknown keywords\n\n          return `${dataPath} ${message} (${ErrorInJSON}).\\n${this.getSchemaPartText(parentSchema, false)}`;\n        }\n    }\n  }\n  /**\n   * @param {Array<SchemaUtilErrorObject>} errors\n   * @returns {string}\n   */\n\n\n  formatValidationErrors(errors) {\n    return errors.map(error => {\n      let formattedError = this.formatValidationError(error);\n\n      if (this.postFormatter) {\n        formattedError = this.postFormatter(formattedError, error);\n      }\n\n      return ` - ${indent(formattedError, \"   \")}`;\n    }).join(\"\\n\");\n  }\n\n}\n\nvar _default = ValidationError;\nexports.default = _default;","\"use strict\";\n\nconst {\n  validate,\n  ValidationError\n} = require(\"./validate\");\n\nmodule.exports = {\n  validate,\n  ValidationError\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/** @typedef {import(\"ajv\").Ajv} Ajv */\n\n/** @typedef {import(\"ajv\").ValidateFunction} ValidateFunction */\n\n/** @typedef {import(\"../validate\").SchemaUtilErrorObject} SchemaUtilErrorObject */\n\n/**\n * @param {string} message\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */\nfunction errorMessage(message, schema, data) {\n  return {\n    // @ts-ignore\n    // eslint-disable-next-line no-undefined\n    dataPath: undefined,\n    // @ts-ignore\n    // eslint-disable-next-line no-undefined\n    schemaPath: undefined,\n    keyword: \"absolutePath\",\n    params: {\n      absolutePath: data\n    },\n    message,\n    parentSchema: schema\n  };\n}\n/**\n * @param {boolean} shouldBeAbsolute\n * @param {object} schema\n * @param {string} data\n * @returns {SchemaUtilErrorObject}\n */\n\n\nfunction getErrorFor(shouldBeAbsolute, schema, data) {\n  const message = shouldBeAbsolute ? `The provided value ${JSON.stringify(data)} is not an absolute path!` : `A relative path is expected. However, the provided value ${JSON.stringify(data)} is an absolute path!`;\n  return errorMessage(message, schema, data);\n}\n/**\n *\n * @param {Ajv} ajv\n * @returns {Ajv}\n */\n\n\nfunction addAbsolutePathKeyword(ajv) {\n  ajv.addKeyword(\"absolutePath\", {\n    errors: true,\n    type: \"string\",\n\n    compile(schema, parentSchema) {\n      /** @type {ValidateFunction} */\n      const callback = data => {\n        let passes = true;\n        const isExclamationMarkPresent = data.includes(\"!\");\n\n        if (isExclamationMarkPresent) {\n          callback.errors = [errorMessage(`The provided value ${JSON.stringify(data)} contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.`, parentSchema, data)];\n          passes = false;\n        } // ?:[A-Za-z]:\\\\ - Windows absolute path\n        // \\\\\\\\ - Windows network absolute path\n        // \\/ - Unix-like OS absolute path\n\n\n        const isCorrectAbsolutePath = schema === /^(?:[A-Za-z]:(\\\\|\\/)|\\\\\\\\|\\/)/.test(data);\n\n        if (!isCorrectAbsolutePath) {\n          callback.errors = [getErrorFor(schema, parentSchema, data)];\n          passes = false;\n        }\n\n        return passes;\n      };\n\n      callback.errors = [];\n      return callback;\n    }\n\n  });\n  return ajv;\n}\n\nvar _default = addAbsolutePathKeyword;\nexports.default = _default;","\"use strict\";\n\n/**\n * @typedef {[number, boolean]} RangeValue\n */\n\n/**\n * @callback RangeValueCallback\n * @param {RangeValue} rangeValue\n * @returns {boolean}\n */\nclass Range {\n  /**\n   * @param {\"left\" | \"right\"} side\n   * @param {boolean} exclusive\n   * @returns {\">\" | \">=\" | \"<\" | \"<=\"}\n   */\n  static getOperator(side, exclusive) {\n    if (side === \"left\") {\n      return exclusive ? \">\" : \">=\";\n    }\n\n    return exclusive ? \"<\" : \"<=\";\n  }\n  /**\n   * @param {number} value\n   * @param {boolean} logic is not logic applied\n   * @param {boolean} exclusive is range exclusive\n   * @returns {string}\n   */\n\n\n  static formatRight(value, logic, exclusive) {\n    if (logic === false) {\n      return Range.formatLeft(value, !logic, !exclusive);\n    }\n\n    return `should be ${Range.getOperator(\"right\", exclusive)} ${value}`;\n  }\n  /**\n   * @param {number} value\n   * @param {boolean} logic is not logic applied\n   * @param {boolean} exclusive is range exclusive\n   * @returns {string}\n   */\n\n\n  static formatLeft(value, logic, exclusive) {\n    if (logic === false) {\n      return Range.formatRight(value, !logic, !exclusive);\n    }\n\n    return `should be ${Range.getOperator(\"left\", exclusive)} ${value}`;\n  }\n  /**\n   * @param {number} start left side value\n   * @param {number} end right side value\n   * @param {boolean} startExclusive is range exclusive from left side\n   * @param {boolean} endExclusive is range exclusive from right side\n   * @param {boolean} logic is not logic applied\n   * @returns {string}\n   */\n\n\n  static formatRange(start, end, startExclusive, endExclusive, logic) {\n    let result = \"should be\";\n    result += ` ${Range.getOperator(logic ? \"left\" : \"right\", logic ? startExclusive : !startExclusive)} ${start} `;\n    result += logic ? \"and\" : \"or\";\n    result += ` ${Range.getOperator(logic ? \"right\" : \"left\", logic ? endExclusive : !endExclusive)} ${end}`;\n    return result;\n  }\n  /**\n   * @param {Array<RangeValue>} values\n   * @param {boolean} logic is not logic applied\n   * @return {RangeValue} computed value and it's exclusive flag\n   */\n\n\n  static getRangeValue(values, logic) {\n    let minMax = logic ? Infinity : -Infinity;\n    let j = -1;\n    const predicate = logic ?\n    /** @type {RangeValueCallback} */\n    ([value]) => value <= minMax :\n    /** @type {RangeValueCallback} */\n    ([value]) => value >= minMax;\n\n    for (let i = 0; i < values.length; i++) {\n      if (predicate(values[i])) {\n        [minMax] = values[i];\n        j = i;\n      }\n    }\n\n    if (j > -1) {\n      return values[j];\n    }\n\n    return [Infinity, true];\n  }\n\n  constructor() {\n    /** @type {Array<RangeValue>} */\n    this._left = [];\n    /** @type {Array<RangeValue>} */\n\n    this._right = [];\n  }\n  /**\n   * @param {number} value\n   * @param {boolean=} exclusive\n   */\n\n\n  left(value, exclusive = false) {\n    this._left.push([value, exclusive]);\n  }\n  /**\n   * @param {number} value\n   * @param {boolean=} exclusive\n   */\n\n\n  right(value, exclusive = false) {\n    this._right.push([value, exclusive]);\n  }\n  /**\n   * @param {boolean} logic is not logic applied\n   * @return {string} \"smart\" range string representation\n   */\n\n\n  format(logic = true) {\n    const [start, leftExclusive] = Range.getRangeValue(this._left, logic);\n    const [end, rightExclusive] = Range.getRangeValue(this._right, !logic);\n\n    if (!Number.isFinite(start) && !Number.isFinite(end)) {\n      return \"\";\n    }\n\n    const realStart = leftExclusive ? start + 1 : start;\n    const realEnd = rightExclusive ? end - 1 : end; // e.g. 5 < x < 7, 5 < x <= 6, 6 <= x <= 6\n\n    if (realStart === realEnd) {\n      return `should be ${logic ? \"\" : \"!\"}= ${realStart}`;\n    } // e.g. 4 < x < \n\n\n    if (Number.isFinite(start) && !Number.isFinite(end)) {\n      return Range.formatLeft(start, logic, leftExclusive);\n    } // e.g.  < x < 4\n\n\n    if (!Number.isFinite(start) && Number.isFinite(end)) {\n      return Range.formatRight(end, logic, rightExclusive);\n    }\n\n    return Range.formatRange(start, end, leftExclusive, rightExclusive, logic);\n  }\n\n}\n\nmodule.exports = Range;","\"use strict\";\n\nconst Range = require(\"./Range\");\n/** @typedef {import(\"../validate\").Schema} Schema */\n\n/**\n * @param {Schema} schema\n * @param {boolean} logic\n * @return {string[]}\n */\n\n\nmodule.exports.stringHints = function stringHints(schema, logic) {\n  const hints = [];\n  let type = \"string\";\n  const currentSchema = { ...schema\n  };\n\n  if (!logic) {\n    const tmpLength = currentSchema.minLength;\n    const tmpFormat = currentSchema.formatMinimum;\n    const tmpExclusive = currentSchema.formatExclusiveMaximum;\n    currentSchema.minLength = currentSchema.maxLength;\n    currentSchema.maxLength = tmpLength;\n    currentSchema.formatMinimum = currentSchema.formatMaximum;\n    currentSchema.formatMaximum = tmpFormat;\n    currentSchema.formatExclusiveMaximum = !currentSchema.formatExclusiveMinimum;\n    currentSchema.formatExclusiveMinimum = !tmpExclusive;\n  }\n\n  if (typeof currentSchema.minLength === \"number\") {\n    if (currentSchema.minLength === 1) {\n      type = \"non-empty string\";\n    } else {\n      const length = Math.max(currentSchema.minLength - 1, 0);\n      hints.push(`should be longer than ${length} character${length > 1 ? \"s\" : \"\"}`);\n    }\n  }\n\n  if (typeof currentSchema.maxLength === \"number\") {\n    if (currentSchema.maxLength === 0) {\n      type = \"empty string\";\n    } else {\n      const length = currentSchema.maxLength + 1;\n      hints.push(`should be shorter than ${length} character${length > 1 ? \"s\" : \"\"}`);\n    }\n  }\n\n  if (currentSchema.pattern) {\n    hints.push(`should${logic ? \"\" : \" not\"} match pattern ${JSON.stringify(currentSchema.pattern)}`);\n  }\n\n  if (currentSchema.format) {\n    hints.push(`should${logic ? \"\" : \" not\"} match format ${JSON.stringify(currentSchema.format)}`);\n  }\n\n  if (currentSchema.formatMinimum) {\n    hints.push(`should be ${currentSchema.formatExclusiveMinimum ? \">\" : \">=\"} ${JSON.stringify(currentSchema.formatMinimum)}`);\n  }\n\n  if (currentSchema.formatMaximum) {\n    hints.push(`should be ${currentSchema.formatExclusiveMaximum ? \"<\" : \"<=\"} ${JSON.stringify(currentSchema.formatMaximum)}`);\n  }\n\n  return [type].concat(hints);\n};\n/**\n * @param {Schema} schema\n * @param {boolean} logic\n * @return {string[]}\n */\n\n\nmodule.exports.numberHints = function numberHints(schema, logic) {\n  const hints = [schema.type === \"integer\" ? \"integer\" : \"number\"];\n  const range = new Range();\n\n  if (typeof schema.minimum === \"number\") {\n    range.left(schema.minimum);\n  }\n\n  if (typeof schema.exclusiveMinimum === \"number\") {\n    range.left(schema.exclusiveMinimum, true);\n  }\n\n  if (typeof schema.maximum === \"number\") {\n    range.right(schema.maximum);\n  }\n\n  if (typeof schema.exclusiveMaximum === \"number\") {\n    range.right(schema.exclusiveMaximum, true);\n  }\n\n  const rangeFormat = range.format(logic);\n\n  if (rangeFormat) {\n    hints.push(rangeFormat);\n  }\n\n  if (typeof schema.multipleOf === \"number\") {\n    hints.push(`should${logic ? \"\" : \" not\"} be multiple of ${schema.multipleOf}`);\n  }\n\n  return hints;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validate = validate;\nObject.defineProperty(exports, \"ValidationError\", {\n  enumerable: true,\n  get: function () {\n    return _ValidationError.default;\n  }\n});\n\nvar _absolutePath = _interopRequireDefault(require(\"./keywords/absolutePath\"));\n\nvar _ValidationError = _interopRequireDefault(require(\"./ValidationError\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Use CommonJS require for ajv libs so TypeScript consumers aren't locked into esModuleInterop (see #110).\nconst Ajv = require(\"ajv\");\n\nconst ajvKeywords = require(\"ajv-keywords\");\n/** @typedef {import(\"json-schema\").JSONSchema4} JSONSchema4 */\n\n/** @typedef {import(\"json-schema\").JSONSchema6} JSONSchema6 */\n\n/** @typedef {import(\"json-schema\").JSONSchema7} JSONSchema7 */\n\n/** @typedef {import(\"ajv\").ErrorObject} ErrorObject */\n\n/**\n * @typedef {Object} Extend\n * @property {number=} formatMinimum\n * @property {number=} formatMaximum\n * @property {boolean=} formatExclusiveMinimum\n * @property {boolean=} formatExclusiveMaximum\n * @property {string=} link\n */\n\n/** @typedef {(JSONSchema4 | JSONSchema6 | JSONSchema7) & Extend} Schema */\n\n/** @typedef {ErrorObject & { children?: Array<ErrorObject>}} SchemaUtilErrorObject */\n\n/**\n * @callback PostFormatter\n * @param {string} formattedError\n * @param {SchemaUtilErrorObject} error\n * @returns {string}\n */\n\n/**\n * @typedef {Object} ValidationErrorConfiguration\n * @property {string=} name\n * @property {string=} baseDataPath\n * @property {PostFormatter=} postFormatter\n */\n\n\nconst ajv = new Ajv({\n  allErrors: true,\n  verbose: true,\n  $data: true\n});\najvKeywords(ajv, [\"instanceof\", \"formatMinimum\", \"formatMaximum\", \"patternRequired\"]); // Custom keywords\n\n(0, _absolutePath.default)(ajv);\n/**\n * @param {Schema} schema\n * @param {Array<object> | object} options\n * @param {ValidationErrorConfiguration=} configuration\n * @returns {void}\n */\n\nfunction validate(schema, options, configuration) {\n  let errors = [];\n\n  if (Array.isArray(options)) {\n    errors = Array.from(options, nestedOptions => validateObject(schema, nestedOptions));\n    errors.forEach((list, idx) => {\n      const applyPrefix =\n      /**\n       * @param {SchemaUtilErrorObject} error\n       */\n      error => {\n        // eslint-disable-next-line no-param-reassign\n        error.dataPath = `[${idx}]${error.dataPath}`;\n\n        if (error.children) {\n          error.children.forEach(applyPrefix);\n        }\n      };\n\n      list.forEach(applyPrefix);\n    });\n    errors = errors.reduce((arr, items) => {\n      arr.push(...items);\n      return arr;\n    }, []);\n  } else {\n    errors = validateObject(schema, options);\n  }\n\n  if (errors.length > 0) {\n    throw new _ValidationError.default(errors, schema, configuration);\n  }\n}\n/**\n * @param {Schema} schema\n * @param {Array<object> | object} options\n * @returns {Array<SchemaUtilErrorObject>}\n */\n\n\nfunction validateObject(schema, options) {\n  const compiledSchema = ajv.compile(schema);\n  const valid = compiledSchema(options);\n  if (valid) return [];\n  return compiledSchema.errors ? filterErrors(compiledSchema.errors) : [];\n}\n/**\n * @param {Array<ErrorObject>} errors\n * @returns {Array<SchemaUtilErrorObject>}\n */\n\n\nfunction filterErrors(errors) {\n  /** @type {Array<SchemaUtilErrorObject>} */\n  let newErrors = [];\n\n  for (const error of\n  /** @type {Array<SchemaUtilErrorObject>} */\n  errors) {\n    const {\n      dataPath\n    } = error;\n    /** @type {Array<SchemaUtilErrorObject>} */\n\n    let children = [];\n    newErrors = newErrors.filter(oldError => {\n      if (oldError.dataPath.includes(dataPath)) {\n        if (oldError.children) {\n          children = children.concat(oldError.children.slice(0));\n        } // eslint-disable-next-line no-undefined, no-param-reassign\n\n\n        oldError.children = undefined;\n        children.push(oldError);\n        return false;\n      }\n\n      return true;\n    });\n\n    if (children.length) {\n      error.children = children;\n    }\n\n    newErrors.push(error);\n  }\n\n  return newErrors;\n}","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","import { Framebuffer } from './Framebuffer';\nimport { FullscreenUtils } from './fullscreen/FullscreenUtils';\nimport { AbstractScene } from './scenes/AbstractScene';\n\nexport class Canvas {\n\n    public framebuffer: Framebuffer;\n    private canvas: HTMLCanvasElement;\n    private context: CanvasRenderingContext2D;\n    private startTime: number;\n    private boundRenderLoop: FrameRequestCallback;\n\n    constructor(width: number, height: number, private scene: AbstractScene) {\n        this.canvas = document.createElement('canvas');\n\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.canvas.id = 'aisa-canvas';\n\n        this.canvas.style.cssText = 'image-rendering: optimizeSpeed;' + // FireFox < 6.0\n            'image-rendering: -moz-crisp-edges;' + // FireFox\n            'image-rendering: -o-crisp-edges;' +  // Opera\n            'image-rendering: -webkit-crisp-edges;' + // Chrome\n            'image-rendering: crisp-edges;' + // Chrome\n            'image-rendering: -webkit-optimize-contrast;' + // Safari\n            'image-rendering: pixelated; ' + // Future browsers\n            '-ms-interpolation-mode: nearest-neighbor;'; // IE\n\n        this.canvas.style.width = `${width * 2}px`;\n        this.canvas.style.height = `${height * 2}px`;\n\n        this.context = this.canvas.getContext('2d');\n\n        // FIXME: make this cross browser compatible!\n        (this.context as any).oImageSmoothingEnabled = false;\n        this.context.imageSmoothingEnabled = false;\n        (this.context as any).webkitImageSmoothingEnabled = false;\n\n        this.framebuffer = new Framebuffer(width, height);\n        this.boundRenderLoop = this.renderLoop.bind(this);\n    }\n\n    public init(): void {\n        // add canvas element to target element\n        this.appendTo(document.getElementById('aisa'));\n\n        // Add fullscreen toggle on click\n        this.canvas.addEventListener('click', (event: MouseEvent) => {\n            event.preventDefault();\n            FullscreenUtils.toggleFullscreen(this.canvas);\n        });\n\n        // Init scene and start rendering\n        this.scene.init(this.framebuffer).then(\n            () => {\n                this.scene.onInit();\n                this.startTime = Date.now();\n                this.renderLoop();\n            }\n        );\n    }\n\n    public renderLoop(): void {\n        this.scene.render(this.framebuffer, Date.now() - this.startTime);\n        this.flipBackbuffer();\n        requestAnimationFrame(this.boundRenderLoop);\n    }\n\n    public flipBackbuffer(): void {\n        this.context.putImageData(this.framebuffer.getImageData(), 0, 0);\n    }\n\n    public appendTo(element: HTMLElement): void {\n        element.appendChild(this.canvas);\n    }\n\n}\n","export enum CullFace {\n    FRONT = 0,\n    BACK = 1\n}\n","\nimport { ScaleClipBlitter } from './blitter/ScaleClipBlitter';\nimport { ControllableCamera } from './camera';\nimport { Color } from './core/Color';\nimport { CullFace } from './CullFace';\nimport { Torus } from './geometrical-objects/Torus';\nimport { Matrix3f, Matrix4f, Vector2f, Vector3f, Vector4f } from './math';\nimport { Sphere } from './math/Sphere';\nimport RandomNumberGenerator from './RandomNumberGenerator';\nimport { FlatShadingTriangleRasterizer } from './rasterizer/FlatShadingTriangleRasterizer';\nimport { LineRasterizerDda } from './rasterizer/line/LineRasterizer';\nimport { LineRasterizerNoZ } from './rasterizer/line/LineRasterizerNoZ';\nimport { TexturedTriangleRasterizer } from './rasterizer/TexturedTriangleRasterizer';\nimport { TexturingRenderingPipeline } from './rendering-pipelines/TexturingRenderingPipeline';\nimport { AbstractClipEdge } from './screen-space-clipping/AbstractClipEdge';\nimport { BottomClipEdge } from './screen-space-clipping/BottomClipEdge';\nimport { CohenSutherlandLineClipper } from './screen-space-clipping/CohenSutherlandLineClipper';\nimport { LeftClipEdge } from './screen-space-clipping/LeftClipEdge';\nimport { RightClipEdge } from './screen-space-clipping/RightClipEdge';\nimport { TopClipEdge } from './screen-space-clipping/TopClipEdge';\nimport { Texture } from './texture/Texture';\nimport { TextureCoordinate } from './TextureCoordinate';\nimport { Vertex } from './Vertex';\n\n/*\nimport { FlatShadingRenderingPipeline } from './rendering-pipelines/FlatShadingRenderingPipeline';\nimport { TexturingRenderingPipeline } from './rendering-pipelines/TexturingRenderingPipeline';\nimport { BlenderJsonParser } from './blender/BlenderJsonParser';\nimport { Material } from './shading/material/Material';\nimport { PointLight } from './shading/light/PointLight';\n*/\n\n\n// let labJson2 = <any>require('./assets/lab2.json');\n// let bakedJson = <any>require('./assets/abstract.json');\n\nexport class Framebuffer {\n\n    public static PIXEL_SIZE_IN_BYTES = 4;\n\n    public minWindow: Vector2f;\n    public maxWindow: Vector2f;\n\n\n    public framebuffer: Uint32Array;\n    public wBuffer: Float32Array;\n\n    public cullMode: CullFace = CullFace.BACK;\n\n    public camera: ControllableCamera;\n    public bob: Texture;\n    public triangleRasterizer = new FlatShadingTriangleRasterizer(this);\n    public texturedTriangleRasterizer = new TexturedTriangleRasterizer(this);\n\n    public scaleClipBlitter = new ScaleClipBlitter(this);\n    // public renderingPipeline: FlatShadingRenderingPipeline;\n     public texturedRenderingPipeline: TexturingRenderingPipeline;\n    public lineRasterizer = new LineRasterizerDda(this);\n    public lineRasterizerNo = new LineRasterizerNoZ(this);\n    public tmpGlitch: Uint32Array;\n\n    public lensFlareVisible: boolean = false;\n    public lensFlareStart = 0;\n    public lensFlareEnd = 0;\n\n    public width: number;\n    public height: number;\n    private imageData: ImageData;\n    private unsignedIntArray: Uint8ClampedArray;\n\n    private torus = new Torus();\n\n    private plane: {\n        points: Vector4f[];\n        points2: Vector4f[];\n        normals: Vector4f[];\n        normals2: Vector4f[];\n        index:Array<number>;\n    };\n\n    private cylinder2: {\n        points: Vector4f[];\n        points2: Vector4f[];\n        normals: Vector4f[];\n        normals2: Vector4f[];\n        index:Array<number>;\n    };\n\n    private linerClipper = new CohenSutherlandLineClipper(this);\n    public clipRegion = Array<AbstractClipEdge>();\n    private texture = new Texture();\n\n    constructor(width: number, height: number) {\n        this.width = width;\n        this.height = height;\n\n        this.imageData = new ImageData(width, height);\n        this.wBuffer = new Float32Array(width * height);\n        const arrayBuffer = new ArrayBuffer(this.width * this.height * Framebuffer.PIXEL_SIZE_IN_BYTES);\n        this.unsignedIntArray = new Uint8ClampedArray(arrayBuffer);\n        this.framebuffer = new Uint32Array(arrayBuffer);\n        this.tmpGlitch = new Uint32Array(width * height);\n        // this.renderingPipeline = new FlatShadingRenderingPipeline(this);\n     this.texturedRenderingPipeline = new TexturingRenderingPipeline(this);\n        this.minWindow = new Vector2f(0, 0);\n        this.maxWindow = new Vector2f(width - 1, height - 1);\n\n        this.clipRegion = new Array<AbstractClipEdge>(\n            new RightClipEdge(this),\n            new LeftClipEdge(this),\n            new BottomClipEdge(this),\n            new TopClipEdge(this)\n        );\n    }\n\n    public setCullFace(face: CullFace): void {\n        this.cullMode = face;\n    }\n\n    public setTexture(texture: Texture): void {\n        this.bob = texture;\n    }\n\n    public precompute(texture: Texture): void {\n        // this.blengetBlenderScene(hoodlumJson, false);\n     \n         //this.cylinder = this.createCylinder();\n       \n        // this.sphereDisp = this.createSphereDistplaced(texture);\n    }\n\n    public getImageData(): ImageData {\n        this.imageData.data.set(this.unsignedIntArray);\n        return this.imageData;\n    }\n\n    public clear() {\n        const color: number = Color.BLACK.toPackedFormat();\n        const count: number = this.width * this.height;\n        for (let i = 0; i < count; i++) {\n            this.framebuffer[i] = color;\n        }\n    }\n\n    public clearColorBuffer(color: number) {\n        this.framebuffer.fill(color);\n    }\n\n    public drawPixel(x: number, y: number, color: number) {\n        this.framebuffer[x + y * this.width] = color;\n\n    }\n    public drawPixel4(x: number, y: number, color: number, alpha: number) {\n        const index: number = x + y * this.width;\n        const inverseAlpha = 1 - alpha;\n        const r = (((this.framebuffer[index] >> 0) & 0xff) * (inverseAlpha)\n            + ((color >> 0) & 0xff) * (alpha)) | 0;\n        const g = (((this.framebuffer[index] >> 8) & 0xff) * (inverseAlpha) +\n            ((color >> 8) & 0xff) * (alpha)) | 0;\n        const b = (((this.framebuffer[index] >> 16) & 0xff) * (inverseAlpha) +\n            ((color >> 16) & 0xff) * (alpha)) | 0;\n        this.framebuffer[x + y * this.width] = r | (g << 8) | (b << 16) | (255 << 24);\n\n    }\n\n    public drawPixel3(x: number, y: number, color: number, alpha2: number) {\n\n        const index: number = x + y * this.width;\n        const alpha = ((color >> 24) & 0xff) / 255 * alpha2;\n        const inverseAlpha = 1 - alpha;\n\n        const r = (((this.framebuffer[index] >> 0) & 0xff) * (inverseAlpha)\n            + ((color >> 0) & 0xff) * (alpha)) | 0;\n        const g = (((this.framebuffer[index] >> 8) & 0xff) * (inverseAlpha) +\n            ((color >> 8) & 0xff) * (alpha)) | 0;\n        const b = (((this.framebuffer[index] >> 16) & 0xff) * (inverseAlpha) +\n            ((color >> 16) & 0xff) * (alpha)) | 0;\n\n        this.framebuffer[index] = r | (g << 8) | (b << 16) | (255 << 24);\n    }\n\n    /**\n     * Renders a pixel using fractional x,y coordinates\n     * blended with the framebuffer background\n     *\n     * @param  {x} number                 this can be a float\n     * @param  {y} number                 this can be a float\n     * @param  {color} number             color to blend into framebuffer\n     */\n    drawPixelAntiAliased(x: number, y: number, color: number) {\n        if ((x < 0 || x >= this.width) || (y < 0 || y >= this.height)) return;\n        const roundedX = Math.floor(x);\n        const roundedY = Math.floor(y);\n        const percentX = 1 - Math.abs(x - roundedX);\n        const percentY = 1 - Math.abs(y - roundedY);\n        const percent = percentX * percentY;\n        this.drawPixel3(roundedX, roundedY, color, percent);\n    }\n\n    /**\n     * Renders a pixel using fractional x,y coordinates\n     * to the framebuffer background\n     */\n    drawPixelAliased(x: number, y: number, color: number) {\n        if ((x < 0 || x >= this.width) || (y < 0 || y >= this.height)) return;\n        const roundedX = Math.round(x);\n        const roundedY = Math.round(y)\n        this.drawPixel(roundedX, roundedY, color);\n    }\n\n    /**\n     * Renders a pixel using fractional x,y coordinates\n     * blended with the framebuffer background in a 4x4 matrix\n     * https://en.wikipedia.org/wiki/Spatial_anti-aliasing\n     */\n    drawPixelAntiAliasedSpacial(x: number, y: number, color: number) {\n        if ((x < 0 || x >= this.width) || (y < 0 || y >= this.height)) return;\n        for (let roundedX = Math.floor(x); roundedX <= Math.ceil(x); roundedX++) {\n            for (let roundedY = Math.floor(y); roundedY <= Math.ceil(y); roundedY++) {\n                const percentX = 1 - Math.abs(x - roundedX);\n                const percentY = 1 - Math.abs(y - roundedY);\n                const percent = percentX * percentY;\n                this.drawPixel4(roundedX, roundedY, color, percent);\n            }\n        }\n    }\n\n    public readPixel(x: number, y: number): number {\n        return this.framebuffer[x + y * this.width];\n    }\n\n    public drawRect(x, y, width, color) {\n        let start = x + y * this.width;\n\n        for (let i = 0; i < width; i++) {\n            this.framebuffer[start++] = color;\n        }\n    }\n\n    public drawRect2(x: number, y: number, width: number, height: number, color: number) {\n        let start = x + y * this.width;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n\n                this.framebuffer[start++] = color;\n\n            }\n            start += this.width - width;\n        }\n    }\n\n    public drawText(x: number, y: number, text: string, texture: Texture): void {\n        let xpos = x;\n        const firstIndex = ' '.charCodeAt(0);\n        for (let i = 0; i < text.length; i++) {\n            const index = text.charCodeAt(i) - firstIndex;\n            const tx = Math.floor(index % 32) * 8;\n            const ty = Math.floor(index / 32) * 8;\n            this.drawTextureRectFastAlpha(xpos, y, tx, ty, 8, 8, texture);\n            xpos += 8;\n        }\n    }\n\n    public addReflections() {\n        const start = 150;\n        for (let i = 0; i < 50; i++) {\n            for (let x = 0; x < this.width; x++) {\n                this.framebuffer[(start + i) * this.width + x] = this.framebuffer[(start - i * 3 - 1) * this.width + x +\n                    this.interpolate(0, 50, i) * (Math.sin(Date.now() * 0.002 + i * 0.2) * 14) | 0];\n            }\n        }\n    }\n\n    public drawTextureRect2(xs: number, ys: number, xt: number, yt: number, width: number, height: number, texture: Texture, alpha2: number): void {\n        for (let w = 0; w < width; w++) {\n            for (let h = 0; h < height; h++) {\n                const texIndex = (xt + w) + ((yt + h) * texture.width);\n                const frIndex = (xs + w) + ((ys + h) * this.width);\n                const alpha = ((texture.texture[texIndex] >> 24) & 0xff) / 255 * alpha2;\n                const inverseAlpha = 1 - alpha;\n\n                const r = (((this.framebuffer[frIndex] >> 0) & 0xff) * (inverseAlpha) + ((texture.texture[texIndex] >> 0) & 0xff) * (alpha)) | 0;\n                const g = (((this.framebuffer[frIndex] >> 8) & 0xff) * (inverseAlpha) + ((texture.texture[texIndex] >> 8) & 0xff) * (alpha)) | 0;\n                const b = (((this.framebuffer[frIndex] >> 16) & 0xff) * (inverseAlpha) + ((texture.texture[texIndex] >> 16) & 0xff) * (alpha)) | 0;\n\n                this.framebuffer[frIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n            }\n        }\n    }\n\n    public drawTextureRectFastAlpha(xs: number, ys: number, xt: number, yt: number, width: number, height: number, texture: Texture): void {\n        let texIndex = xt + yt * texture.width;\n        let frIndex = xs + ys * this.width;\n\n        for (let h = 0; h < height; h++) {\n            for (let w = 0; w < width; w++) {\n                const color = texture.texture[texIndex];\n                if (color & 0xff000000) {\n                    this.framebuffer[frIndex] = color;\n                }\n                texIndex++;\n                frIndex++;\n            }\n            texIndex += texture.width - width;\n            frIndex += this.width - width;\n        }\n    }\n\n\n    public drawTextureColorized(x: number, y: number, texture: Texture, color: Color): void {\n\n        let frIndex = x + y * this.width;\n        let texIndex = 0;\n\n        for (let h = 0; h < texture.height; h++) {\n            for (let w = 0; w < texture.width; w++) {\n                const txPixel = texture.texture[texIndex];\n\n\n                const r = (txPixel >> 0 & 0xff) * color.r / 255;\n                const g = (txPixel >> 8 & 0xff) * color.g / 255;\n                const b = (txPixel >> 16 & 0xff) * color.b / 255;\n\n                this.framebuffer[frIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n\n                texIndex++;\n                frIndex++;\n            }\n\n            frIndex += this.width - texture.width;\n        }\n    }\n\n    public drawTextureRectNoAlpha(xs: number, ys: number, xt: number, yt: number, width: number, height: number, texture: Texture): void {\n        let texIndex = xt + yt * texture.width;\n        let frIndex = xs + ys * this.width;\n\n        for (let h = 0; h < height; h++) {\n            for (let w = 0; w < width; w++) {\n                this.framebuffer[frIndex] = texture.texture[texIndex];\n                texIndex++;\n                frIndex++;\n            }\n            texIndex += texture.width - width;\n            frIndex += this.width - width;\n        }\n    }\n\n    /**\n     * Transitions from one pixel to another using alpha\n     *\n     * @param  {number} c1\n     * @param  {number} c2\n     * @param  {number} alpha number ranging from 0-255\n     * @return {number}     color blended difference between c1 and c2\n     */\n    public static blend(c1: number, c2: number, nAlpha: number): number {\n\n        if (0 === nAlpha) {\n            return c1;\n        }\n\n        if (255 === nAlpha) {\n            return c2;\n        }\n\n        const nInvAlpha: number = 255 - nAlpha;\n\n        const r1: number = (c1 & 0x00FF0000) >> 16;\n        const r2: number = (c2 & 0x00FF0000) >> 16;\n        const r: number = (r2 * nAlpha + r1 * nInvAlpha) >> 8;\n\n        const g1: number = (c1 & 0x0000FF00) >> 8;\n        const g2: number = (c2 & 0x0000FF00) >> 8;\n        const g: number = (g2 * nAlpha + g1 * nInvAlpha) >> 8;\n\n        const b1: number = (c1 & 0x000000FF);\n        const b2: number = (c2 & 0x000000FF);\n        const b: number = (b2 * nAlpha + b1 * nInvAlpha) >> 8;\n\n        return 0xff000000 | r << 16 | g << 8 | b;\n    }\n\n    public drawTextureRect(xs: number, ys: number, xt: number, yt: number, width: number, height: number, texture: Uint32Array, pixelWidth: number, alpha2: number): void {\n        let texIndex = xt + yt * pixelWidth;\n        let frIndex = xs + ys * this.width;\n\n        for (let h = 0; h < height; h++) {\n            for (let w = 0; w < width; w++) {\n                const alpha = ((texture[texIndex] >> 24) & 0xff) / 255 * alpha2;\n                const inverseAlpha = 1 - alpha;\n\n                const fbPixel = this.framebuffer[frIndex];\n                const txPixel = texture[texIndex];\n\n                const r = (fbPixel >> 0 & 0xff) * inverseAlpha + (txPixel >> 0 & 0xff) * alpha;\n                const g = (fbPixel >> 8 & 0xff) * inverseAlpha + (txPixel >> 8 & 0xff) * alpha;\n                const b = (fbPixel >> 16 & 0xff) * inverseAlpha + (txPixel >> 16 & 0xff) * alpha;\n\n                this.framebuffer[frIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n                texIndex++;\n                frIndex++;\n            }\n            texIndex += pixelWidth - width;\n            frIndex += this.width - width;\n        }\n    }\n\n    public drawTextureRectAdd(xs: number, ys: number, xt: number, yt: number, width: number, height: number, texture: Texture, alpha2: number): void {\n        let texIndex = xt + yt * texture.width;\n        let frIndex = xs + ys * this.width;\n\n        for (let h = 0; h < height; h++) {\n            for (let w = 0; w < width; w++) {\n                const alpha = ((texture.texture[texIndex] >> 24) & 0xff) / 255 * alpha2;\n\n                const fbPixel = this.framebuffer[frIndex];\n                const txPixel = texture.texture[texIndex];\n\n                const r = Math.min(255, (fbPixel >> 0 & 0xff) + (txPixel >> 0 & 0xff) * alpha);\n                const g = Math.min(255, (fbPixel >> 8 & 0xff) + (txPixel >> 8 & 0xff) * alpha);\n                const b = Math.min(255, (fbPixel >> 16 & 0xff) + (txPixel >> 16 & 0xff) * alpha);\n\n                this.framebuffer[frIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n                texIndex++;\n                frIndex++;\n            }\n            texIndex += texture.width - width;\n            frIndex += this.width - width;\n        }\n    }\n\n    public pixelate() {\n        const xoff = 200;\n        const yoff = 50;\n\n        for (let x = 0; x < 10; x++) {\n            for (let y = 0; y < 10; y++) {\n                this.drawBox2(x * 10 + xoff, y * 10 + yoff, 10, 10, this.readPixel(x * 10 + xoff, y * 10 + yoff));\n            }\n        }\n        this.drawLineDDA(new Vector3f(xoff, yoff, -0.3), new Vector3f(xoff + 20 * 5, yoff, -0.3), 0xffffffff);\n        this.drawLineDDA(new Vector3f(xoff, yoff + 20 * 5, -0.3), new Vector3f(xoff + 20 * 5, yoff + 20 * 5, -0.3), 0xffffffff);\n        this.drawLineDDA(new Vector3f(xoff, yoff, -0.3), new Vector3f(xoff, yoff + 20 * 5, -0.3), 0xffffffff);\n        this.drawLineDDA(new Vector3f(xoff + 20 * 5, yoff, -0.3), new Vector3f(xoff + 20 * 5, yoff + 20 * 5, -0.3), 0xffffffff);\n    }\n\n    public interpolate(start: number, end: number, current: number): number {\n        if (current <= start) {\n            return 0;\n        }\n        if (current >= end) {\n            return 1;\n        }\n        return (current - start) / (end - start);\n    }\n\n    public fastFramebufferCopyOffset(src: Uint32Array, dest: Uint32Array, offset = 0) {\n        let i = this.width * this.height / 32 + 1;\n        let k = this.width * this.height;\n        let l = this.width * (this.height - offset);\n        while (--i) {\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n            src[--k] = dest[--l]; src[--k] = dest[--l];\n        }\n    }\n\n    // 6 times faster than the slow method that clips and does alpha blending\n    public fastFramebufferCopy(src: Uint32Array, dest: Uint32Array) {\n        src.set(dest);\n    }\n\n    public noise(elapsedTime: number, texture: Texture, scale: number = 0.07): void {\n        const rng = new RandomNumberGenerator();\n        rng.setSeed(elapsedTime);\n        for (let y = 0; y < this.height; y++) {\n            this.drawTextureRect(0, y, Math.floor(rng.getFloat() * (texture.texture.length - this.width)), 0, this.width, 1, texture.texture, texture.width, scale);\n        }\n    }\n\n    public drawTexturedBillboard(xp: number, yp: number, width: number, height: number, texture: Texture, z: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                if (this.wBuffer[index2] > z) {\n                    this.wBuffer[index2] = z;\n                    const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n\n                    const r = (this.framebuffer[index2] >> 0 & 0xff) + (texture.texture[textureIndex] >> 0 & 0xff);\n                    const g = (this.framebuffer[index2] >> 8 & 0xff) + (texture.texture[textureIndex] >> 8 & 0xff);\n                    const b = (this.framebuffer[index2] >> 16 & 0xff) + (texture.texture[textureIndex] >> 16 & 0xff);\n\n                    this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                xx += yStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawParticle(xp: number, yp: number, width: number, height: number, texture: Texture, z: number, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                if (this.wBuffer[index2] > z) {\n\n                    const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n\n                    const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale;\n                    const inverseAlpha = 1 - alpha;\n                    const framebufferPixel = this.framebuffer[index2];\n                    const texturePixel = texture.texture[textureIndex];\n\n                    const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                    const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                    const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n\n                    this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawParticle2(\n        xp: number, yp: number, width: number, height: number, texture: Texture, z: number, alphaBlend: number,\n        imgNum: number = 0, spritH: number): void {\n        const xStep = texture.width / width;\n        const yStep = spritH / height;\n        let xx = 0;\n        let yy = 0;\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n        let xTextureStart: number;\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                if (this.wBuffer[index2] > z) {\n\n                    const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, spritH - 1) * texture.width +\n                        spritH * texture.width * imgNum;\n\n                    const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale;\n                    const inverseAlpha = 1 - alpha;\n                    const framebufferPixel = this.framebuffer[index2];\n                    const texturePixel = texture.texture[textureIndex];\n\n                    const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                    const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                    const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n\n                    this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawParticle2Sub(\n        xp: number, yp: number, width: number, height: number, texture: Texture, z: number, alphaBlend: number,\n        imgNum: number = 0, spritH: number): void {\n        const xStep = texture.width / width;\n        const yStep = spritH / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > this.height - 1 ||\n            xp + width < 0 ||\n            xp > this.width - 1) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - (this.height - 1), 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - (this.height - 1), 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = Math.ceil((width + xp) - Math.max(xp + width - (this.width - 1), 0));\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = Math.ceil(width - Math.max(xp + width - (this.width - 1), 0));\n        }\n\n        const sub: number = Math.ceil(xp) - xp;\n        const suby: number = Math.ceil(yp) - yp;\n        xTextureStart += sub * xStep;\n        yy += suby * yStep;\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = Math.ceil(xStart) + Math.ceil(yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                if (this.wBuffer[index2] > z) {\n\n                    const textureIndex = Math.min(Math.round(xx) | 0, texture.width - 1) +\n                        Math.min(Math.round(yy) | 0, spritH - 1) * texture.width +\n                        spritH * texture.width * imgNum;\n                    const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale;\n                    const inverseAlpha = 1 - alpha;\n                    const framebufferPixel = this.framebuffer[index2];\n                    const texturePixel = texture.texture[textureIndex];\n                    const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                    const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                    const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n                    this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawParticleNoDepth(xp: number, yp: number, width: number, height: number, texture: Texture, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > this.height - 1 ||\n            xp + width < 0 ||\n            xp > this.width - 1) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n\n                const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n\n                const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale;\n                const inverseAlpha = 1 - alpha;\n                const framebufferPixel = this.framebuffer[index2];\n                const texturePixel = texture.texture[textureIndex];\n\n                const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n\n                this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawSoftParticle(xp: number, yp: number, width: number, height: number, texture: Texture, z: number, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                if (this.wBuffer[index2] > z) {\n                    // float scale = 0.2f;\n                    // float fade = clamp((depthMapDepth.x-depth)*scale, 0.0, 1.0);\n                    const zDist = Math.min(Math.max(((1 / z - 1 / this.wBuffer[index2])), 0.0), 1.0);\n                    // this.wBuffer[index2] = z;\n                    const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n\n                    const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale * zDist;\n                    const inverseAlpha = 1 - alpha;\n\n                    const r = (this.framebuffer[index2] >> 0 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 0 & 0xff) * alpha;\n                    const g = (this.framebuffer[index2] >> 8 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 8 & 0xff) * alpha;\n                    const b = (this.framebuffer[index2] >> 16 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 16 & 0xff) * alpha;\n\n                    this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawFog(color: Color, fogScale: number, fogOffset: number): void {\n        const videoMemorySize: number = this.width * this.height;\n        const wBufferScale: number = -fogScale;\n\n        for (let index: number = 0; index < videoMemorySize; index++) {\n            const alpha = Math.max(Math.min(wBufferScale * (1 / this.wBuffer[index] + fogOffset), 1.0), 0.0);\n            const inverseAlpha = 1.0 - alpha;\n\n            const r = (this.framebuffer[index] >> 0 & 0xff) * inverseAlpha + color.r * alpha;\n            const g = (this.framebuffer[index] >> 8 & 0xff) * inverseAlpha + color.g * alpha;\n            const b = (this.framebuffer[index] >> 16 & 0xff) * inverseAlpha + color.b * alpha;\n\n            this.framebuffer[index] = r | (g << 8) | (b << 16) | (255 << 24);\n        }\n    }\n\n    public drawScaledTextureClipBi(xp: number, yp: number, width: number, height: number, texture: Texture, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                // let textureIndex = //Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n                const color = texture.getBilinearFilteredPixel2(xx, yy);\n\n                const alpha = 255 * alphaScale;\n                const inverseAlpha = 1 - alpha;\n\n                const framebufferPixel = this.framebuffer[index2];\n                const texturePixel = color;\n\n                const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n\n                this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawScaledTextureClipBiAdd(xp: number, yp: number, width: number, height: number, texture: Texture, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                // let textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n                const color = texture.getBilinearFilteredPixel2(xx, yy);\n\n                const framebufferPixel = this.framebuffer[index2];\n                const texturePixel = color;\n\n                const r = Math.min((framebufferPixel >> 0 & 0xff) + (texturePixel >> 0 & 0xff) * alphaBlend, 255);\n                const g = Math.min((framebufferPixel >> 8 & 0xff) + (texturePixel >> 8 & 0xff) * alphaBlend, 255);\n                const b = Math.min((framebufferPixel >> 16 & 0xff) + (texturePixel >> 16 & 0xff) * alphaBlend, 255);\n\n                this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawScaledTextureClipAdd(xp: number, yp: number, width: number, height: number, texture: Texture, alpha: number = 1.0): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.width, 0);\n        }\n\n        let index2 = (xStart) + (yStart) * this.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                const textureIndex = Math.min(xx | 0, texture.width - 1) + Math.min(yy | 0, texture.height - 1) * texture.width;\n\n                const framebufferPixel = this.framebuffer[index2];\n                const texturePixel = texture.texture[textureIndex];\n\n                const r = Math.min((framebufferPixel >> 0 & 0xff) + (texturePixel >> 0 & 0xff) * alpha, 255);\n                const g = Math.min((framebufferPixel >> 8 & 0xff) + (texturePixel >> 8 & 0xff) * alpha, 255);\n                const b = Math.min((framebufferPixel >> 16 & 0xff) + (texturePixel >> 16 & 0xff) * alpha, 255);\n\n                this.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.width;\n        }\n    }\n\n    public drawTexture(x: number, y: number, texture: Texture, alpha2: number) {\n        const SCREEN_WIDTH = this.width;\n        const SCREEN_HEIGHT = this.height;\n\n        let framebufferIndex: number = Math.max(x, 0) + Math.max(y, 0) * this.width;\n        let textureIndex: number = Math.max(0, 0 - x) + Math.max(0, 0 - y) * texture.width;\n\n        const width: number = Math.min(texture.width, SCREEN_WIDTH - x) - Math.max(0, 0 - x);\n        const height: number = Math.min(texture.height, SCREEN_HEIGHT - y) - Math.max(0, 0 - y);\n\n        const textureRowOffset = texture.width - width;\n        const framebufferRowOffset = this.width - width;\n\n        const div = 1 / 255 * alpha2;\n\n        for (let yHeight: number = 0; yHeight < height; yHeight++) {\n            for (let xWidth: number = 0; xWidth < width; xWidth++) {\n                const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * div;\n                const inverseAlpha = 1 - alpha;\n\n                const r = (this.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 0 & 0xff) * alpha;\n                const g = (this.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 8 & 0xff) * alpha;\n                const b = (this.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 16 & 0xff) * alpha;\n\n                this.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n\n                framebufferIndex++;\n                textureIndex++;\n            }\n\n            textureIndex += textureRowOffset;\n            framebufferIndex += framebufferRowOffset;\n        }\n    }\n\n    public drawTextureFullscreen(texture: Texture, alpha2: number) {\n\n        let framebufferIndex: number = 0;\n        const inverseAlpha = 1 - alpha2;\n        for (let y: number = 0; y < this.width * this.height; y++) {\n\n            const r = (this.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (texture.texture[framebufferIndex] >> 0 & 0xff) * alpha2;\n            const g = (this.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (texture.texture[framebufferIndex] >> 8 & 0xff) * alpha2;\n            const b = (this.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (texture.texture[framebufferIndex] >> 16 & 0xff) * alpha2;\n\n            this.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n            framebufferIndex++;\n        }\n    }\n\n    public drawTexture3(x: number, y: number, texture: Texture, alpha2: number, time: number) {\n        const SCREEN_WIDTH = this.width;\n        const SCREEN_HEIGHT = this.height;\n\n        let framebufferIndex: number = Math.max(x, 0) + Math.max(y, 0) * this.width;\n        let textureIndex: number = Math.max(0, 0 - x) + Math.max(0, 0 - y) * texture.width;\n\n        const width: number = Math.min(texture.width, SCREEN_WIDTH - x) - Math.max(0, 0 - x);\n        const height: number = Math.min(texture.height, SCREEN_HEIGHT - y) - Math.max(0, 0 - y);\n\n        const textureRowOffset = texture.width - width;\n        const framebufferRowOffset = this.width - width;\n\n        const div = 1 / 255 * alpha2;\n\n        const mHeight = Math.floor(height * Math.max(Math.min(1, time), 0));\n\n        for (let yHeight: number = 0; yHeight < mHeight; yHeight++) {\n            for (let xWidth: number = 0; xWidth < width; xWidth++) {\n                const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * div;\n                const inverseAlpha = 1 - alpha;\n\n                const r = (this.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 0 & 0xff) * alpha;\n                const g = (this.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 8 & 0xff) * alpha;\n                const b = (this.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (texture.texture[textureIndex] >> 16 & 0xff) * alpha;\n\n                this.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n\n                framebufferIndex++;\n                textureIndex++;\n            }\n\n            textureIndex += textureRowOffset;\n            framebufferIndex += framebufferRowOffset;\n        }\n    }\n\n    public drawTextureNoClipAlpha(x: number, y: number, texture: Texture): void {\n        let framebufferIndex: number = x + y * this.width;\n        let textureIndex: number = 0;\n\n        const framebufferRowOffset = this.width - texture.width;\n\n        for (let yHeight = 0; yHeight < texture.height; yHeight++) {\n            for (let xWidth = 0; xWidth < texture.width; xWidth++) {\n                const color = texture.texture[textureIndex];\n\n                if (color & 0xff000000) {\n                    this.framebuffer[framebufferIndex] = color;\n                }\n\n                framebufferIndex++;\n                textureIndex++;\n            }\n\n            framebufferIndex += framebufferRowOffset;\n        }\n    }\n\n    // TODO:\n    // - implement scale and translate using homogenous 4x4 matrices\n    //   instead of fucking around with the projection formular\n    public scene8(elapsedTime: number): void {\n\n        const index: Array<number> = [\n            0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6,\n            6, 7, 7, 4, 0, 7, 1, 6, 2, 5, 3, 4,\n        ];\n\n        const points: Array<Vector3f> = [\n            new Vector3f(1.0, 1.0, -1.0), new Vector3f(-1.0, 1.0, -1.0),\n            new Vector3f(-1.0, 1.0, 1.0), new Vector3f(1.0, 1.0, 1.0),\n            new Vector3f(1.0, -1.0, 1.0), new Vector3f(-1.0, -1.0, 1.0),\n            new Vector3f(-1.0, -1.0, -1.0), new Vector3f(1.0, -1.0, -1.0)\n        ];\n\n        const scale = 0.8;\n\n        let modelViewMartrix = Matrix3f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(Matrix3f.constructYRotationMatrix(elapsedTime * 0.05));\n        modelViewMartrix = modelViewMartrix.multiplyMatrix(Matrix3f.constructXRotationMatrix(elapsedTime * 0.05));\n\n        const points2: Array<Vector3f> = new Array<Vector3f>();\n        points.forEach((element) => {\n            const transformed = modelViewMartrix.multiply(element);\n\n            const x = transformed.x;\n            const y = transformed.y;\n            const z = transformed.z - 4 + Math.sin(elapsedTime * 0.09) * 2; // TODO: use translation matrix!\n\n            points2.push(new Vector3f(x, y, z));\n        });\n\n        for (let i = 0; i < index.length; i += 2) {\n            const color = 255 | 0 << 16 | 255 << 24;\n            this.nearPlaneClipping(points2[index[i]], points2[index[i + 1]], color);\n        }\n    }\n\n    public project(t1: { x: number, y: number, z: number }): Vector3f {\n        return new Vector3f(Math.round((this.width / 2) + (292 * t1.x / (-t1.z))),\n            Math.round((this.height / 2) - (t1.y * 292 / (-t1.z))),\n            t1.z);\n    }\n\n    // https://math.stackexchange.com/questions/859454/maximum-number-of-vertices-in-intersection-of-triangle-with-box/\n    public nearPlaneClipping(t1: Vector3f, t2: Vector3f, color: number): void {\n        const NEAR_PLANE_Z = -1.7;\n\n        if (t1.z < NEAR_PLANE_Z && t2.z < NEAR_PLANE_Z) {\n            this.linerClipper.cohenSutherlandLineClipper(this.project(t1), this.project(t2), color);\n        } else if (t1.z > NEAR_PLANE_Z && t2.z > NEAR_PLANE_Z) {\n            return;\n        } else if (t1.z < NEAR_PLANE_Z) {\n            const ratio = (NEAR_PLANE_Z - t1.z) / (t2.z - t1.z);\n            const t3 = new Vector3f(ratio * (t2.x - t1.x) + t1.x, ratio * (t2.y - t1.y) + t1.y, NEAR_PLANE_Z);\n            this.linerClipper.cohenSutherlandLineClipper(this.project(t1), this.project(t3), color);\n        } else if (t2.z < NEAR_PLANE_Z) {\n            const ratio = (NEAR_PLANE_Z - t2.z) / (t1.z - t2.z);\n            const t3 = new Vector3f(ratio * (t1.x - t2.x) + t2.x, ratio * (t1.y - t2.y) + t2.y, NEAR_PLANE_Z);\n            this.linerClipper.cohenSutherlandLineClipper(this.project(t2), this.project(t3), color);\n        }\n    }\n\n    public clearDepthBuffer(): void {\n        this.wBuffer.fill(-1 / 900);\n    }\n\n    public drawBox() {\n        const height = this.maxWindow.y - this.minWindow.y + 1;\n        const width = this.maxWindow.x - this.minWindow.x + 1;\n        let index = this.minWindow.y * this.width + this.minWindow.x;\n        for (let i = 0; i < height; i++) {\n            this.framebuffer.fill(255 << 24 | 55 << 16 | 55 << 8 | 55, index, index + width);\n            index += this.width;\n        }\n    }\n\n    public drawBox2(x1: number, y1: number, width: number, height: number, color: number) {\n\n        let index = y1 * this.width + x1;\n        for (let i = 0; i < height; i++) {\n            this.framebuffer.fill(color, index, index + width);\n            index += this.width;\n        }\n    }\n\n    // TODO: implement subpixel accuracy\n    // https://github.com/specht/cruiser\n    public wireFrameSphereClipping(elapsedTime: number): void {\n\n        this.wBuffer.fill(100);\n\n        const points: Array<Vector4f> = [];\n\n        const STEPS = 16;\n        const STEPS2 = 16;\n\n        // TODO: move into setup method\n        for (let i = 0; i <= STEPS; i++) {\n            for (let r = 0; r < STEPS2; r++) {\n                points.push(this.sphereFunction2(-i * Math.PI / STEPS - Math.PI / 2, -r * 2 * Math.PI / STEPS2));\n            }\n        }\n\n        const index: Array<number> = [];\n\n        for (let j = 0; j < STEPS; j++) {\n            for (let i = 0; i < STEPS2; i++) {\n                index.push(((STEPS2 * j) + (1 + i) % STEPS2)); // 2\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 1\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n\n                index.push(((STEPS2 * j) + STEPS2 + (0 + i) % STEPS2)); // 4\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 5\n            }\n        }\n\n        // Create MV Matrix\n        const scale = 10.8 + 5 * (Math.sin(elapsedTime * 0.16) + 1) / 2;\n        let modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(Matrix4f.constructYRotationMatrix(elapsedTime * 0.08));\n        modelViewMartrix = modelViewMartrix.multiplyMatrix(Matrix4f.constructXRotationMatrix(elapsedTime * 0.08));\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(0 + 20 * Math.sin(elapsedTime * 0.04), 5 * Math.sin(elapsedTime * 0.06), -22).multiplyMatrix(modelViewMartrix);\n\n        const points2: Array<Vector3f> = new Array<Vector3f>();\n\n        for (let p = 0; p < points.length; p++) {\n            const transformed = modelViewMartrix.multiplyHom(points[p]);\n\n            const x = transformed.x;\n            const y = transformed.y;\n            const z = transformed.z;\n\n            const xx = (this.width * 0.5) + (x / (-z * 0.0078));\n            const yy = (this.height * 0.5) + (y / (-z * 0.0078));\n\n            points2.push(new Vector3f(xx, yy, z));\n        }\n\n        // draw clip region\n        const colred = 255 << 24 | 230 << 16 | this.height << 16 | this.height;\n        this.drawLineDDA(new Vector3f(this.minWindow.x - 1, this.minWindow.y - 1, 0), new Vector3f(this.minWindow.x - 1, this.maxWindow.y + 1, 0), colred);\n        this.drawLineDDA(new Vector3f(this.maxWindow.x + 1, this.minWindow.y - 1, 0), new Vector3f(this.maxWindow.x + 1, this.maxWindow.y + 1, 0), colred);\n        this.drawLineDDA(new Vector3f(this.minWindow.x - 1, this.minWindow.y - 1, 0), new Vector3f(this.maxWindow.x + 1, this.minWindow.y - 1, 0), colred);\n        this.drawLineDDA(new Vector3f(this.minWindow.x - 1, this.maxWindow.y + 1, 0), new Vector3f(this.maxWindow.x + 2, this.maxWindow.y + 1, 0), colred);\n\n        this.drawBox();\n\n        for (let i = 0; i < index.length; i += 3) {\n            const v1 = points2[index[i]];\n            const v2 = points2[index[i + 1]];\n            const v3 = points2[index[i + 2]];\n\n            const colLine = 255 << 24 | 255 << 16 | 255 << 8 | 255;\n            if (this.isTriangleCCW(v1, v2, v3)) {\n                this.linerClipper.cohenSutherlandLineClipper(v1, v2, colLine);\n                this.linerClipper.cohenSutherlandLineClipper(v1, v3, colLine);\n                this.linerClipper.cohenSutherlandLineClipper(v3, v2, colLine);\n            }\n        }\n    }\n\n    public isTriangleCCW(v1: { x: number, y: number, z: number },\n        v2: { x: number, y: number, z: number },\n        v3: { x: number, y: number, z: number }): boolean {\n        const det: number =\n            v1.x * v2.y - v2.x * v1.y +\n            v2.x * v3.y - v3.x * v2.y +\n            v3.x * v1.y - v1.x * v3.y;\n        if (this.cullMode === CullFace.BACK) {\n            return det < 0.0;\n        } else {\n            return det > 0.0;\n        }\n    }\n    /*\n        public wireFrameTerrain(elapsedTime: number, heightmap: Texture): void {\n\n            this.clearDepthBuffer();\n\n            let index: Array<number> = [\n            ];\n\n            let points: Array<Vector3f> = [];\n            for (let y = 0; y < 256; y++) {\n                for (let x = 0; x < 256; x++) {\n                    points.push(new Vector3f((x - 128) * 20.0, (heightmap.texture[x + y * 256] & 0x000000ff) * 128 / 256 - 70, (y - 128) * 20.0));\n                }\n            }\n\n            for (let y = 0; y < 256; y += 1) {\n                for (let x = 0; x < 256 - 1; x += 1) {\n                    index.push(0 + x + (y * 256));\n                    index.push(1 + x + (y * 256));\n                }\n            }\n\n            for (let x = 0; x < 256; x += 1) {\n                for (let y = 0; y < 256 - 1; y += 1) {\n\n                    index.push(x + ((y + 0) * 256));\n                    index.push(x + ((y + 1) * 256));\n                }\n            }\n\n            let scale = 0.8;\n\n            let modelViewMartrix = Matrix3f.constructYRotationMatrix(elapsedTime * 0.003);\n\n            let points2: Array<Vector3f> = new Array<Vector3f>();\n\n            let xOff = + Math.cos(elapsedTime * 0.000001) * 128 * 20;\n            let zOff = Math.sin(elapsedTime * 0.000001) * 128 * 20;\n            points.forEach(element => {\n                let transformed = modelViewMartrix.multiply(element);\n\n                let x = transformed.x + xOff;\n                let y = transformed.y;\n                let z = transformed.z + zOff; // TODO: use translation matrix!\n\n                points2.push(new Vector3f(x, y, z));\n            });\n\n            for (let i = 0; i < index.length; i += 2) {\n                let scale = (1 - Math.min(255, -points2[index[i]].z * 0.9) / 255);\n                let color = (255 * scale) << 8 | 100 * scale | (this.height * scale) << 16 | 255 << 24;\n                this.nearPlaneClipping(points2[index[i]], points2[index[i + 1]], color);\n            }\n        }\n    */\n    public drawBoundingSphere(sphere: Sphere, matrix: Matrix4f, color: number): void {\n        const points: Array<Vector4f> = [];\n\n        const STEPS = 8;\n        const STEPS2 = 8;\n\n        // TODO: move into setup method\n        for (let i = 0; i <= STEPS; i++) {\n            for (let r = 0; r < STEPS2; r++) {\n\n                const pos = this.sphereFunction2(-i * Math.PI / STEPS - Math.PI / 2, -r * 2 * Math.PI / STEPS2).mul(sphere.getRadius() + 0.01).add(sphere.getCenter());\n                pos.w = 1;\n\n                points.push(pos);\n            }\n        }\n\n        const index: Array<number> = [];\n\n        for (let j = 0; j < STEPS; j++) {\n            for (let i = 0; i < STEPS2; i++) {\n                index.push(((STEPS2 * j) + (1 + i) % STEPS2)); // 2\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 1\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n\n                index.push(((STEPS2 * j) + STEPS2 + (0 + i) % STEPS2)); // 4\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 5\n            }\n        }\n\n        const modelViewMartrix = matrix;\n\n        const points2: Array<Vector3f> = new Array<Vector3f>();\n\n        for (let p = 0; p < points.length; p++) {\n            const transformed = modelViewMartrix.multiplyHom(points[p]);\n            points2.push(new Vector3f(transformed.x, transformed.y, transformed.z));\n        }\n\n        for (let i = 0; i < index.length; i += 3) {\n\n            const v1 = points2[index[i]];\n            const v2 = points2[index[i + 1]];\n            const v3 = points2[index[i + 2]];\n\n            this.nearPlaneClipping(v1, v2, color);\n            this.nearPlaneClipping(v1, v3, color);\n            this.nearPlaneClipping(v3, v2, color);\n\n        }\n    }\n    public drawPlanedeformationTunnelAnim(elapsedTime: number, texture: Texture) {\n\n        let i = 0;\n        for (let y = 0; y < this.height; y++) {\n            for (let x = 0; x < this.width; x++) {\n                const xdist = (x - this.width / 2);\n                const ydist = (y - this.height / 2);\n                const dist = 256 * 0.2 / Math.max(1.0, Math.sqrt(xdist * xdist + ydist * ydist));\n                const dist2 = dist + elapsedTime * 0.002;\n                const angle = (Math.atan2(xdist, ydist) / Math.PI + 1.0) * 16 + elapsedTime * 0.00069;\n\n                const color1 = texture.texture[(dist2 & 0x1f) + (angle & 0x1f) * 32];\n                // darkening can be done with alpha blended texture\n                const scale = 1 - this.cosineInterpolate(1.0, 6.0, dist);\n                const r = ((color1 >> 0) & 0xff) * scale;\n                const g = ((color1 >> 8) & 0xff) * scale;\n                const b = ((color1 >> 16) & 0xff) * scale;\n                const final = r | g << 8 | b << 16;\n\n                this.framebuffer[i++] = final;\n            }\n        }\n    }\n\n\n\n    public drawParticleWaves(elapsedTime: number, texture: Texture, noClear: boolean = false) {\n        if (!noClear) { this.clearColorBuffer(72 | 56 << 8 | 48 << 16 | 255 << 24); }\n        this.clearDepthBuffer();\n\n        const points: Array<Vector3f> = new Array<Vector3f>();\n        const num = 50;\n        const scale = 2;\n        for (let i = 0; i < num; i++) {\n            for (let j = 0; j < num; j++) {\n\n                const x = (j - num / 2) * scale;\n                const y = 4 * (Math.sin(j * 0.09 * 2 + elapsedTime * 0.0008) + Math.cos(i * 0.08 * 2 + elapsedTime * 0.0009));\n                const z = (i - num / 2) * scale;\n\n                points.push(new Vector3f(x, y, z));\n            }\n        }\n\n        const modelViewMartrix = Matrix4f.constructTranslationMatrix(0, -0.0, -49).multiplyMatrix(\n\n            Matrix4f.constructXRotationMatrix(Math.PI * 0.1).multiplyMatrix(\n                Matrix4f.constructYRotationMatrix(elapsedTime * 0.00006))\n        );\n\n        const points2: Array<Vector3f> = new Array<Vector3f>(points.length);\n        points.forEach((element) => {\n\n            const transformed = this.project(modelViewMartrix.multiply(element));\n\n            points2.push(transformed);\n        });\n\n        points2.sort((a, b) => {\n            return a.z - b.z;\n        });\n\n        points2.forEach((element) => {\n            const size = -(1.3 * 192 / (element.z));\n            this.drawParticle(\n                Math.round(element.x - size / 2),\n                Math.round(element.y - size / 2),\n                Math.round(size), Math.round(size), texture, 1 / element.z, this.interpolate(-60, -25, element.z));\n        });\n    }\n\n    public drawScreenBounds(framebuffer: Framebuffer): void {\n        const color: number = Color.WHITE.toPackedFormat();\n        const width: number = this.width / 2;\n        const height: number = this.height / 2;\n\n        framebuffer.drawLineDDANoZ(\n            new Vector3f(width / 2, height / 2, 0),\n            new Vector3f(width / 2 + width, height / 2, -100),\n            color\n        );\n\n        framebuffer.drawLineDDANoZ(\n            new Vector3f(width / 2, height / 2, 0),\n            new Vector3f(width / 2, height / 2 + height, -100),\n            color\n        );\n\n        framebuffer.drawLineDDANoZ(\n            new Vector3f(width / 2 + width, height / 2, 0),\n            new Vector3f(width / 2 + width, height / 2 + height, -100),\n            color\n        );\n\n        framebuffer.drawLineDDANoZ(\n            new Vector3f(width / 2, height / 2 + height, 0),\n            new Vector3f(width / 2 + width, height / 2 + height, -100),\n            color\n        );\n    }\n\n    public drawParticleStreams(framebuffer: Framebuffer, elapsedTime: number, texture: Texture, light: Vector3f) {\n\n        const points: Array<Vector3f> = new Array<Vector3f>();\n        const points2: Array<Vector3f> = new Array<Vector3f>(points.length);\n        const transformed = framebuffer.project(light);\n\n        points2.push(transformed);\n        points2.sort((a, b) => {\n            return a.z - b.z;\n        });\n\n        points2.forEach(element => {\n            // let size = -(2.0 * 192 / (element.z));\n            const size = -(80.3 * 192 / (element.z));\n\n            framebuffer.drawParticle2(\n                Math.round(element.x - size / 2),\n                Math.round(element.y - size / 2),\n                Math.round(size), Math.round(size), texture, 1 / element.z, 1.0, 0, 200);\n        });\n\n    }\n\n    public drawPlaneDeformation(elapsedTime: number, texture: Texture): void {\n        // optimize\n        // power of two modulo with &\n        // this.framebuffer.clearColor(new Color());\n        // precompute LUD + render to half size backbuffer\n        const IMG_WIDTH = texture.width;\n        const IMG_HEIGHT = texture.height;\n\n        let framebufferIndex = 0;\n\n        for (let y = 0; y < this.height; y++) {\n            const yy = (-1.00 + 2.00 * y / this.height);\n\n            for (let x = 0; x < this.width; x++) {\n\n                const xx = (-1.00 + 2.00 * x / this.width);\n\n                // magic formulas here\n                const u = ((xx / Math.abs(yy)) * IMG_WIDTH * 0.05) | 0;\n                const v = (1.0 / Math.abs(yy) * IMG_HEIGHT * 0.05 + elapsedTime * 0.008) | 0;\n\n                const scale = 1 - Math.max(Math.min(1 / Math.abs(yy) * 0.2, 1), 0);\n                let color = texture.texture[(u & 0xff) + (v & 0xff) * IMG_WIDTH];\n                const r = ((color >> 0) & 0xff) * scale;\n                const g = ((color >> 8) & 0xff) * scale;\n                const b = ((color >> 16) & 0xff) * scale;\n                color = (255 << 24) | (b << 16) | (g << 8) | (r << 0);\n\n                this.framebuffer[framebufferIndex++] = color;\n            }\n        }\n    }\n\n    public torusFunction(alpha: number): Vector3f {\n        return new Vector3f(Math.sin(alpha) * 10, 0, Math.cos(alpha) * 10);\n    }\n\n    public cosineInterpolate(y1: number, y2: number, mu: number): number {\n        if (mu <= y1) { return 0; }\n        if (mu >= y2) { return 1; }\n        const mu2 = (mu - y1) / (y2 - y1);\n        return (1 - Math.cos(mu2 * Math.PI)) / 2;\n    }\n\n    \n    /*\n    public createCylinder() {\n        const k = {\n            points: []\n        };\n\n        const LOOPX = 50;\n        const LOOPY = 110;\n        for (let y = 0; y < LOOPY; y++) {\n            for (let x = 0; x < LOOPX; x++) {\n                const xx = Math.sin(2 * Math.PI / LOOPX * x) * 30;\n                const xx2 = Math.sin(2 * Math.PI / LOOPX * (x + 1)) * 30;\n                const yy = Math.cos(2 * Math.PI / LOOPX * x) * 30;\n                const yy2 = Math.cos(2 * Math.PI / LOOPX * (x + 1)) * 30;\n\n                k.points.push(new Vector3f(xx, 0 + y, yy));\n                k.points.push(new Vector3f(xx, 1 + y, yy));\n                k.points.push(new Vector3f(xx2, 0 + y, yy2));\n\n                k.points.push(new Vector3f(xx2, 0 + y, yy2));\n                k.points.push(new Vector3f(xx, 1 + y, yy));\n                k.points.push(new Vector3f(xx2, 1 + y, yy2));\n            }\n        }\n        // optimize\n        const points: Array<Vector3f> = [];\n        const points2: Array<Vector3f> = [];\n        const normals: Array<Vector3f> = [];\n        const normals2: Array<Vector3f> = [];\n        const texture: Array<TextureCoordinate> = [];\n\n        const index: Array<number> = [];\n\n        k.points.forEach((i) => {\n            const p = i;\n\n            const point = points.find((pointVar) => pointVar.sub(p).length() < 0.001);\n\n            if (point) {\n                const idx = points.indexOf(point);\n                index.push(idx);\n            } else {\n                index.push(points.push(p) - 1);\n            }\n        });\n\n        points.forEach(() => {\n            normals.push(new Vector3f(0, 0, 0));\n            normals2.push(new Vector3f(0, 0, 0));\n            points2.push(new Vector3f(0, 0, 0));\n            texture.push(new TextureCoordinate());\n        });\n\n        return {\n            points,\n            points2,\n            normals,\n            normals2,\n            index,\n            texture\n        };\n    }\n*/\n   /*\n\n*/\n    \n   \n    /*\n    public shadingCylinderEnv(elapsedTime: number): void {\n        this.wBuffer.fill(100);\n        let result = this.cylinder;\n\n        for (let i = 0; i < result.points.length; i++) {\n            let y = result.points[i].y - 30;\n            let x = result.points[i].x - 50;\n            let length = Math.sqrt(x * x + y * y);\n            let myScale = (1 + 0.2 * Math.sin(result.points[i].y * 0.01 + elapsedTime * 1.83));\n            result.points2[i].y = result.points[i].y;\n            result.points2[i].x = result.points[i].x * myScale + Math.sin(result.points[i].y * 0.1 + elapsedTime * 3.83) * 8.3\n                + Math.sin(result.points[i].y * 0.55 + elapsedTime * 2.83) * 2;\n            result.points2[i].z = result.points[i].z * myScale + Math.cos(result.points[i].y * 0.1 + elapsedTime * 3.83) * 8.3\n                + Math.cos(result.points[i].y + result.points[i].x * 0.55 + elapsedTime * 2.83) * 2;\n\n            result.normals[i].x = 0;\n            result.normals[i].y = 0;\n            result.normals[i].z = 0;\n        }\n\n        let points = result.points2;\n        let index = result.index;\n        let normals = result.normals;\n\n        let norm: Vector3f = new Vector3f(0, 0, 0);\n        let norm2: Vector3f = new Vector3f(0, 0, 0);\n        let cross: Vector3f = new Vector3f(0, 0, 0);\n        for (let i = 0; i < index.length; i += 3) {\n            let v1: Vector3f = points[index[i]];\n            let v2: Vector3f = points[index[i + 1]];\n            let v3: Vector3f = points[index[i + 2]];\n            norm.sub2(v2, v1);\n            norm2.sub2(v3, v1);\n            cross.cross2(norm, norm2);\n            let normal = cross;\n            normals[index[i]].add2(normals[index[i]], normal);\n            normals[index[i + 1]].add2(normals[index[i + 1]], normal);\n            normals[index[i + 2]].add2(normals[index[i + 2]], normal);\n        }\n\n        let textureCoords: Array<TextureCoordinate> = result.texture;\n\n        for (let i = 0; i < normals.length; i++) {\n            normals[i].normalize2();\n        }\n\n        let scale = 3.7;\n\n        let modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(Matrix4f.constructYRotationMatrix(0)\n            .multiplyMatrix(Matrix4f.constructXRotationMatrix(0).multiplyMatrix(Matrix4f.constructTranslationMatrix(0, 0\n                , 0))));\n\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-80, -210,\n            -290)\n            .multiplyMatrix(modelViewMartrix);\n\n        let points2: Array<Vector3f> = result.points2;\n        let normals2: Array<Vector3f> = result.normals2;\n\n        let normalMatrix = modelViewMartrix.computeNormalMatrix();\n\n        for (let n = 0; n < normals.length; n++) {\n            normalMatrix.multiplyArr(normals[n], normals2[n]);\n            this.fakeSphere2(normals2[n], textureCoords[n]);\n        }\n\n        for (let p = 0; p < points.length; p++) {\n            let transformed = modelViewMartrix.multiply(points[p]);\n\n            points2[p].x = Math.round((this.width * 0.5) + (transformed.x / (-transformed.z * 0.0078)));\n            points2[p].y = Math.round((this.height * 0.5) - (transformed.y / (-transformed.z * 0.0078)));\n            points2[p].z = transformed.z;\n        }\n\n        let vertex1 = new Vertex();\n        vertex1.textureCoordinate = new TextureCoordinate();\n        let vertex2 = new Vertex();\n        vertex2.textureCoordinate = new TextureCoordinate();\n        let vertex3 = new Vertex();\n        vertex3.textureCoordinate = new TextureCoordinate();\n        let vertexArray = new Array<Vertex>(vertex1, vertex2, vertex3);\n        for (let i = 0; i < index.length; i += 3) {\n\n            // Only render triangles with CCW-ordered vertices\n            //\n            // Reference:\n            // David H. Eberly (this.height6).\n            // 3D Game Engine Design: A Practical Approach to Real-Time Computer Graphics,\n            // p. 69. Morgan Kaufmann Publishers, United States.\n            //\n            let v1 = points2[index[i]];\n            let t1 = textureCoords[index[i]];\n\n            let v2 = points2[index[i + 1]];\n            let t2 = textureCoords[index[i + 1]];\n\n            let v3 = points2[index[i + 2]];\n            let t3 = textureCoords[index[i + 2]];\n\n            if (this.isTriangleCCW(v1, v2, v3)) {\n\n                let color = 255 << 24 | 255 << 16 | 255 << 8 | 255;\n\n                vertexArray[0].position = v1;\n                vertexArray[0].textureCoordinate = t1;\n\n                vertexArray[1].position = v2;\n                vertexArray[1].textureCoordinate = t2;\n\n                vertexArray[2].position = v3;\n                vertexArray[2].textureCoordinate = t3;\n\n                if (v1.x < Framebuffer.minWindow.x ||\n                    v2.x < Framebuffer.minWindow.x ||\n                    v3.x < Framebuffer.minWindow.x ||\n                    v1.x > Framebuffer.maxWindow.x ||\n                    v2.x > Framebuffer.maxWindow.x ||\n                    v3.x > Framebuffer.maxWindow.x ||\n                    v1.y < Framebuffer.minWindow.y ||\n                    v2.y < Framebuffer.minWindow.y ||\n                    v3.y < Framebuffer.minWindow.y ||\n                    v1.y > Framebuffer.maxWindow.y ||\n                    v2.y > Framebuffer.maxWindow.y ||\n                    v3.y > Framebuffer.maxWindow.y) {\n\n                    this.clipConvexPolygon2(vertexArray, color);\n                } else {\n                    this.texturedTriangleRasterizer.drawTriangleDDA2(vertexArray[0], vertexArray[1], vertexArray[2], color);\n                }\n            }\n        }\n    }\n    */\n     /*\n\n    /*\n    public shadingSphereEnvDisp(elapsedTime: number): void {\n        this.wBuffer.fill(100);\n\n        let result = this.sphereDisp;\n\n        let scale2 = (Math.sin(elapsedTime * 1.8) + 1) * 0.5;\n        for (let i = 0; i < result.points.length; i++) {\n            let y = result.points[i].z;\n            let x = result.points[i].x;\n            let length = Math.sqrt(x * x + y * y);\n            let rot = Math.sin(result.points[i].y * 0.539 + (10 - length) * 0.05 + elapsedTime * 0.9) * 4.5;\n            result.points2[i].y = result.points[i].y;\n            result.points2[i].x = result.points[i].x * Math.cos(rot) - result.points[i].z * Math.sin(rot);\n            result.points2[i].z = result.points[i].x * Math.sin(rot) + result.points[i].z * Math.cos(rot);\n\n            result.normals[i].x = 0;\n            result.normals[i].y = 0;\n            result.normals[i].z = 0;\n        }\n\n        let points = result.points2;\n        let index = result.index;\n        let normals = result.normals;\n\n        let norm: Vector3f = new Vector3f(0, 0, 0);\n        let norm2: Vector3f = new Vector3f(0, 0, 0);\n        let cross: Vector3f = new Vector3f(0, 0, 0);\n        for (let i = 0; i < index.length; i += 3) {\n            let v1: Vector3f = points[index[i]];\n            let v2: Vector3f = points[index[i + 1]];\n            let v3: Vector3f = points[index[i + 2]];\n            norm.sub2(v2, v1);\n            norm2.sub2(v3, v1);\n            cross.cross2(norm, norm2);\n            let normal = cross;\n            normals[index[i]].add2(normals[index[i]], normal);\n            normals[index[i + 1]].add2(normals[index[i + 1]], normal);\n            normals[index[i + 2]].add2(normals[index[i + 2]], normal);\n        }\n\n        for (let i = 0; i < normals.length; i++) {\n            normals[i].normalize2();\n        }\n\n        let scale = 3.7;\n\n        let modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(Matrix4f.constructYRotationMatrix(elapsedTime * 0.35)\n            .multiplyMatrix(Matrix4f.constructXRotationMatrix(elapsedTime * 0.3).multiplyMatrix(Matrix4f.constructTranslationMatrix(0, 0\n                , 0))));\n\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-0, -0,\n            -10)\n            .multiplyMatrix(modelViewMartrix);\n\n            let points2: Array<Vector3f> = result.points2;\n        let normals2: Array<Vector3f> = result.normals2;\n\n        let normalMatrix = modelViewMartrix.computeNormalMatrix();\n\n        for (let n = 0; n < normals.length; n++) {\n            normalMatrix.multiplyArr(normals[n], normals2[n]);\n        }\n\n        for (let p = 0; p < points.length; p++) {\n            let transformed = modelViewMartrix.multiply(points[p]);\n\n            points2[p].x = Math.round((this.width * 0.5) + (transformed.x / (-transformed.z * 0.0078)));\n            points2[p].y = Math.round((this.height * 0.5) - (transformed.y / (-transformed.z * 0.0078)));\n            points2[p].z = transformed.z;\n        }\n\n        let vertex1 = new Vertex();\n        vertex1.textureCoordinate = new TextureCoordinate();\n        let vertex2 = new Vertex();\n        vertex2.textureCoordinate = new TextureCoordinate();\n        let vertex3 = new Vertex();\n        vertex3.textureCoordinate = new TextureCoordinate();\n        let vertexArray = new Array<Vertex>(vertex1, vertex2, vertex3);\n        for (let i = 0; i < index.length; i += 3) {\n\n            let v1 = points2[index[i]];\n            let n1 = normals2[index[i]];\n\n            let v2 = points2[index[i + 1]];\n            let n2 = normals2[index[i + 1]];\n\n            let v3 = points2[index[i + 2]];\n            let n3 = normals2[index[i + 2]];\n\n            if (this.isTriangleCCW(v1, v2, v3)) {\n\n                let color = 255 << 24 | 255 << 16 | 255 << 8 | 255;\n\n                vertexArray[0].position = v1;\n                this.fakeSphere(n1, vertex1);\n\n                vertexArray[1].position = v2;\n                this.fakeSphere(n2, vertex2);\n\n                vertexArray[2].position = v3;\n                this.fakeSphere(n3, vertex3);\n\n                if (v1.x < Framebuffer.minWindow.x ||\n                    v2.x < Framebuffer.minWindow.x ||\n                    v3.x < Framebuffer.minWindow.x ||\n                    v1.x > Framebuffer.maxWindow.x ||\n                    v2.x > Framebuffer.maxWindow.x ||\n                    v3.x > Framebuffer.maxWindow.x ||\n                    v1.y < Framebuffer.minWindow.y ||\n                    v2.y < Framebuffer.minWindow.y ||\n                    v3.y < Framebuffer.minWindow.y ||\n                    v1.y > Framebuffer.maxWindow.y ||\n                    v2.y > Framebuffer.maxWindow.y ||\n                    v3.y > Framebuffer.maxWindow.y) {\n\n                    this.clipConvexPolygon2(vertexArray, color);\n                } else {\n                    this.texturedTriangleRasterizer.drawTriangleDDA2(vertexArray[0], vertexArray[1], vertexArray[2], color);\n                }\n            }\n        }\n    }\n*/\n\n    public fakeSphere(normal: Vector4f, vertex: Vertex): void {\n        // https://www.mvps.org/directx/articles/spheremap.htm\n        // vertex.textureCoordinate.u = 0.5 + normal.x * 0.5;\n        // vertex.textureCoordinate.v = 0.5 - normal.y * 0.5;\n        vertex.textureCoordinate.u = 0.5 + Math.asin(normal.x) / Math.PI;\n        vertex.textureCoordinate.v = 0.5 - Math.asin(normal.y) / Math.PI;\n    }\n\n    public fakeSphere2(normal: Vector3f, tex: TextureCoordinate): void {\n        tex.u = 0.5 + Math.asin(normal.x) / Math.PI;\n        tex.v = 0.5 - Math.asin(normal.y) / Math.PI;\n    }\n\n    public drawLensFlare(screenPos: Vector3f, elapsedTime: number, texture: Array<{ tex: Texture, scale: number, alpha: number }>, dirt: Texture): void {\n        const pos = screenPos;\n\n        if (pos.z < 0 &&\n            pos.x > 0 && pos.x < this.width &&\n            pos.y > 0 && pos.y < this.height &&\n            this.wBuffer[pos.x + (pos.y * this.width)] > (1 / pos.z)) {\n            if (!this.lensFlareVisible) {\n                this.lensFlareVisible = true;\n                this.lensFlareStart = elapsedTime;\n            }\n        } else {\n            if (this.lensFlareVisible) {\n                this.lensFlareVisible = false;\n                this.lensFlareEnd = elapsedTime;\n            }\n        }\n\n        let scale = this.interpolate(this.lensFlareStart, this.lensFlareStart + 100, elapsedTime);\n        if (this.lensFlareVisible !== true) {\n            scale *= (1 - this.interpolate(this.lensFlareEnd, this.lensFlareEnd + 100, elapsedTime));\n        }\n        const dir = new Vector3f(this.width / 2, this.height / 2, 0).sub(pos);\n\n        if (scale > 0) {\n            for (let i = 0; i < texture.length; i++) {\n                const temp = pos.add(dir.mul(texture[i].scale));\n                this.drawTexture(Math.round(temp.x) - texture[i].tex.width / 2, Math.round(temp.y) - texture[i].tex.height / 2, texture[i].tex, texture[i].alpha * scale);\n            }\n        }\n\n        // this.drawTextureRectAdd(0, 0, 0, 0, this.width, this.height, dirt, 0.03 + 0.15 * scale);\n        this.drawScaledTextureClipBi(0, 0, this.width, this.height, dirt, 0.15 + 0.20 * scale*0);\n    }\n\n    public drawLineDDA(start: Vector3f, end: Vector3f, color: number): void {\n        this.lineRasterizer.drawLineDDA(start, end, color);\n    }\n\n    public drawLineDDANoZ(start: Vector3f, end: Vector3f, color: number): void {\n        this.lineRasterizerNo.drawLineDDANoZ(start, end, color);\n    }\n\n    private sphereFunction2(theta: number, phi: number): Vector4f {\n\n        const pos = new Vector4f(Math.cos(theta) * Math.cos(phi),\n            Math.cos(theta) * Math.sin(phi),\n            Math.sin(theta), 1.0);\n\n        return pos;\n    }\n\n}\n","export default class RandomNumberGenerator {\n\n    private seed: number;\n\n    public constructor() {\n        this.seed = 6;\n    }\n\n    public getFloat(): number {\n        this.seed = (this.seed * 9301 + 49297) % 233280;\n        return this.seed / 233280;\n    }\n\n    public setSeed(seed: number): void {\n        this.seed = seed;\n    }\n\n}\n","import { Framebuffer } from './Framebuffer';\nimport { Matrix4f, Vector4f } from './math';\nimport { Texture, TextureUtils } from './texture';\nimport { TextureCoordinate } from './TextureCoordinate';\nimport { TexturingRenderingPipeline } from './rendering-pipelines/TexturingRenderingPipeline';\nimport { TexturedMesh } from './rendering-pipelines/TexturedMesh';\n\nexport class SkyBox {\n\n    private back: Texture;\n    private down: Texture;\n    private front: Texture;\n    private left: Texture;\n    private right: Texture;\n    private up: Texture;\n\n    private texturedRenderingPipeline: TexturingRenderingPipeline = new TexturingRenderingPipeline(null);\n    public init(): Promise<any> {\n\n        return Promise.all([\n            TextureUtils.load(require('./assets/skybox/skybox_back.png'), false).then(\n                (texture: Texture) => this.back = texture\n            ),\n            TextureUtils.load(require('./assets/skybox/skybox_down.png'), false).then(\n                (texture: Texture) => this.down = texture\n            ),\n            TextureUtils.load(require('./assets/skybox/skybox_front.png'), false).then(\n                (texture: Texture) => this.front = texture\n            ),\n            TextureUtils.load(require('./assets/skybox/skybox_left.png'), false).then(\n                (texture: Texture) => this.left = texture\n            ),\n            TextureUtils.load(require('./assets/skybox/skybox_right.png'), false).then(\n                (texture: Texture) => this.right = texture\n            ),\n            TextureUtils.load(require('./assets/skybox/skybox_up.png'), false).then(\n                (texture: Texture) => this.up = texture\n            )]).then(() => {\n                this.back.setClamp(true);\n                this.down.setClamp(true);\n                this.front.setClamp(true);\n                this.left.setClamp(true);\n                this.right.setClamp(true);\n                this.up.setClamp(true);\n            });\n    }\n\n    // move code from framebuffer into draw method!\n    public draw(framebuffer: Framebuffer, mv: Matrix4f): void {\n    \n        this.texturedRenderingPipeline.setFramebuffer(framebuffer);\n        this.drawSkyBox(framebuffer, mv.getRotation());\n    }\n\n    public drawSkyBox(framebuffer: Framebuffer, rotation: Matrix4f): void {\n        const sclae = 20;\n        const textures = [\n            this.back,\n            this.left,\n            this.front,\n            this.right\n        ];\n\n        let camera: Matrix4f;\n        let mv: Matrix4f;\n        let skyBoxSideModel: TexturedMesh;\n\n        const skyPoints = [\n            new Vector4f(1, 1, -1, 1),\n            new Vector4f(-1, 1, -1, 1),\n            new Vector4f(-1, -1, -1, 1),\n            new Vector4f(1, 1, -1, 1),\n            new Vector4f(-1, -1, -1, 1),\n            new Vector4f(1, -1, -1, 1)\n        ];\n\n        for (let i = 0; i < 4; i++) {\n            camera =\n                rotation.multiplyMatrix(\n                    Matrix4f.constructXRotationMatrix(Math.PI).multiplyMatrix(\n                        Matrix4f.constructYRotationMatrix(+ Math.PI * 2 / 4 * i)));\n\n\n            mv = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(sclae, sclae, sclae));\n\n\n            // skybox: starz\n            skyBoxSideModel = {\n                points: skyPoints,\n                points2: skyPoints.map(() => new Vector4f(0, 0, 0)),\n                uv: [\n                    new TextureCoordinate(1, 1),\n                    new TextureCoordinate(0, 1),\n                    new TextureCoordinate(0, 0),\n                    new TextureCoordinate(1, 1),\n                    new TextureCoordinate(0, 0),\n                    new TextureCoordinate(1, 0),\n                ],\n                faces: [\n                    {\n                        vertices: [0, 1, 2],\n                        uv: [0, 1, 2]\n                    },\n                    {\n                        vertices: [3, 4, 5],\n                        uv: [3, 4, 5]\n                    }\n                ]\n            };\n\n            framebuffer.setTexture(textures[i]);\n            this.texturedRenderingPipeline.setFramebuffer(framebuffer);\n            this.texturedRenderingPipeline.setModelViewMatrix(mv);\n            this.texturedRenderingPipeline.draw(framebuffer, skyBoxSideModel);\n\n        }\n\n        camera = rotation.multiplyMatrix(\n            Matrix4f.constructXRotationMatrix(Math.PI)).multiplyMatrix(\n                Matrix4f.constructYRotationMatrix(0)\n                    .multiplyMatrix(Matrix4f.constructYRotationMatrix(Math.PI * 2 / 4 * 1).multiplyMatrix(Matrix4f.constructXRotationMatrix(-Math.PI * 2 / 4)))\n            );\n\n\n        mv = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(sclae, sclae, sclae));\n\n        // skybox: starz\n        skyBoxSideModel = {\n\n            points: skyPoints,\n            points2: skyPoints.map(() => new Vector4f(0, 0, 0)),\n            uv: [\n                new TextureCoordinate(0, 0),\n                new TextureCoordinate(1, 0),\n                new TextureCoordinate(1, 1),\n                new TextureCoordinate(0, 0),\n                new TextureCoordinate(1, 1),\n                new TextureCoordinate(0, 1),\n            ],\n            faces: [\n                {\n                    vertices: [0, 1, 2],\n                    uv: [0, 1, 2]\n                },\n                {\n                    vertices: [3, 4, 5],\n                    uv: [3, 4, 5]\n                }\n            ]\n        };\n\n        framebuffer.setTexture(this.up);\n        this.texturedRenderingPipeline.setModelViewMatrix(mv);\n        this.texturedRenderingPipeline.draw(framebuffer, skyBoxSideModel);\n\n\n        camera =\n            rotation.multiplyMatrix(\n                Matrix4f.constructXRotationMatrix(Math.PI)).multiplyMatrix(\n                    Matrix4f.constructYRotationMatrix(0)\n                        .multiplyMatrix(Matrix4f.constructYRotationMatrix(Math.PI * 2 / 2).multiplyMatrix(Matrix4f.constructXRotationMatrix(Math.PI * 2 / 4)))\n\n                );\n\n\n        mv = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(sclae, sclae, sclae));\n\n        // skybox: starz\n        skyBoxSideModel = {\n            points: skyPoints,\n            points2: skyPoints.map(() => new Vector4f(0, 0, 0)),\n            uv: [\n                new TextureCoordinate(1, 1),\n                new TextureCoordinate(0, 1),\n                new TextureCoordinate(0, 0),\n                new TextureCoordinate(1, 1),\n                new TextureCoordinate(0, 0),\n                new TextureCoordinate(1, 0),\n            ],\n            faces: [\n                {\n                    vertices: [0, 1, 2],\n                    uv: [0, 1, 2]\n                },\n                {\n                    vertices: [3, 4, 5],\n                    uv: [3, 4, 5]\n                }\n            ]\n        };\n\n        framebuffer.setTexture(this.down);\n        this.texturedRenderingPipeline.setModelViewMatrix(mv);\n        this.texturedRenderingPipeline.draw(framebuffer, skyBoxSideModel);\n    }\n\n}\n","export class TextureCoordinate {\n    public u: number;\n    public v: number;\n\n    constructor(u?: number, v?: number) {\n        this.u = u;\n        this.v = v;\n    }\n}\n","import { Color } from './core/Color';\nimport { Vector4f } from './math/index';\nimport { TextureCoordinate } from './TextureCoordinate';\n\nexport class Vertex {\n    public position: Vector4f;\n    public projection: Vector4f;\n    public normal: Vector4f;\n    public color: Color;\n    public textureCoordinate: TextureCoordinate = new TextureCoordinate();\n}\n","import { EulerAngleCamera } from '../camera/EulerAngleCamera';\nimport { Utils } from '../core/Utils';\nimport { Matrix4f } from '../math/Matrix4f';\nimport { Vector3f } from '../math/Vector3f';\nimport { CameraKeyFrame } from './CameraKeyFrame';\n\nexport class BlenderCameraAnimator {\n\n    public pos: Vector3f;\n    private keyFrames: Array<CameraKeyFrame>;\n\n    // TODO:\n    // - should we really loop or better restart??\n    // - dont use linear interpolation see bourke\n    // - maybe quaternions and slerp for rotation\n    // temp solution: no linear for\n\n    public setKeyFrames(keyFrames: Array<CameraKeyFrame>): void {\n        this.keyFrames = keyFrames;\n    }\n\n    public getViewMatrix(elapsedTime: number): Matrix4f {\n        const keyFrameDuration = 2600;\n\n        elapsedTime *= 1.0;\n\n        const first = ((elapsedTime / keyFrameDuration) | 0) % this.keyFrames.length;\n        const zero = ((first - 1) + this.keyFrames.length) % this.keyFrames.length;\n        const second = (first + 1) % this.keyFrames.length;\n        const third = (first + 2) % this.keyFrames.length;\n        const fraction = ((elapsedTime / keyFrameDuration) % this.keyFrames.length) - first;\n\n        const mu2 = (1 - Math.cos(fraction * Math.PI)) / 2;\n        const position = new Vector3f(\n            Utils.CubicInterpolate(this.keyFrames[zero].position.x, this.keyFrames[first].position.x, this.keyFrames[second].position.x, this.keyFrames[third].position.x, fraction),\n            Utils.CubicInterpolate(this.keyFrames[zero].position.y, this.keyFrames[first].position.y, this.keyFrames[second].position.y, this.keyFrames[third].position.y, fraction),\n            Utils.CubicInterpolate(this.keyFrames[zero].position.z, this.keyFrames[first].position.z, this.keyFrames[second].position.z, this.keyFrames[third].position.z, fraction)\n        );\n        let look = this.keyFrames[first].rotation.mul(1 - mu2).add(this.keyFrames[second].rotation.mul(mu2));\n\n        look = new Vector3f(\n            Utils.CubicInterpolate(this.keyFrames[zero].rotation.x, this.keyFrames[first].rotation.x, this.keyFrames[second].rotation.x, this.keyFrames[third].rotation.x, fraction),\n            Utils.CubicInterpolate(this.keyFrames[zero].rotation.y, this.keyFrames[first].rotation.y, this.keyFrames[second].rotation.y, this.keyFrames[third].rotation.y, fraction),\n            Utils.CubicInterpolate(this.keyFrames[zero].rotation.z, this.keyFrames[first].rotation.z, this.keyFrames[second].rotation.z, this.keyFrames[third].rotation.z, fraction)\n        );\n        this.pos = position;\n\n        return new EulerAngleCamera(position, look.x, look.y, look.z).getViewMatrix();\n    }\n\n}\n\n","import { Vector3f } from '../math';\n\nexport class CameraKeyFrame {\n\n    public position: Vector3f;\n    public rotation: Vector3f;\n\n    constructor(position: Vector3f, rotation: Vector3f) {\n        this.position = position;\n        this.rotation = rotation;\n    }\n\n}","import { FlatShadedFace } from '../geometrical-objects/FlatShadedFace';\nimport { FlatshadedMesh } from '../geometrical-objects/FlatshadedMesh';\nimport { Vector4f } from '../math/index';\nimport { BlenderScene } from './BlenderScene';\nimport { Face } from './face';\nimport { Mesh } from './mesh';\nimport { Vector } from './vector';\nimport { TexturedMesh } from '../rendering-pipelines/TexturedMesh';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { ComputationalGeometryUtils } from '../math/Geometry';\nimport { TexCoord } from './tex-coord';\n\nexport class BlenderJsonParser {\n\n    public static parse(blenderScene: BlenderScene, invert: boolean = false): Array<FlatshadedMesh> {\n        const scene: Array<FlatshadedMesh> = [];\n\n        blenderScene.forEach((object: Mesh) => {\n            const points: Array<Vector4f> = new Array<Vector4f>();\n            const normals: Array<Vector4f> = new Array<Vector4f>();\n\n            object.vertices.forEach((v: Vector) => {\n                points.push(new Vector4f(v.x, v.y, v.z).mul(1));\n            });\n\n            object.normals.forEach((v: Vector) => {\n                normals.push(\n                    invert ? new Vector4f(v.x, v.y, v.z).normalize().mul(-1) : new Vector4f(v.x, v.y, v.z).normalize()\n                );\n            });\n\n            const faces: Array<FlatShadedFace> = [];\n            object.faces.forEach((f: Face) => {\n                faces.push({\n                    n1: f.normals[0],\n                    n2: f.normals[1],\n                    n3: f.normals[2],\n                    v1: f.vertices[0],\n                    v2: f.vertices[1],\n                    v3: f.vertices[2],\n                });\n            });\n\n            const obj: FlatshadedMesh = {\n                faces,\n                normals,\n                points,\n                transformedNormals: normals.map(() => new Vector4f(0, 0, 0, 0)),\n                transformedPoints: points.map(() => new Vector4f(0, 0, 0, 0)),\n            };\n\n            scene.push(obj);\n        });\n\n        return scene;\n    }\n\n    public static getBlenderScene(\n        file: BlenderScene, disp: boolean = true): Array<TexturedMesh> {\n        const scene: Array<TexturedMesh> = [];\n\n        file.forEach((object: Mesh) => {\n            const points: Array<Vector4f> = new Array<Vector4f>();\n            const normals: Array<Vector4f> = new Array<Vector4f>();\n            let coords: Array<TextureCoordinate>;\n\n            if (object.uv) {\n                coords = [];\n                object.uv.forEach((v: TexCoord) => {\n                    const uv: TextureCoordinate = new TextureCoordinate();\n                    uv.u = v.u;\n                    uv.v = 1.0 - v.v;\n                    coords.push(uv);\n                });\n            }\n\n            object.vertices.forEach((v: Vector) => {\n                // some transformation in order for the vertices to be in worldspace\n                if (disp)\n                    points.push(new Vector4f(v.x, v.y, v.z).mul(2).add(new Vector4f(0, -2.7, 0, 0)));\n                else\n                    points.push(new Vector4f(v.x, v.y, v.z).mul(2));\n            });\n\n            object.normals.forEach((v: Vector) => {\n                normals.push(new Vector4f(v.x, v.y, v.z));\n            });\n\n            const sphere = new ComputationalGeometryUtils().computeBoundingSphere(points);\n            sphere.getCenter().w = 1;\n\n            // Create class for objects\n            const obj = {\n                points,\n                normals,\n                uv: coords,           // NO!!!\n                faces: object.faces, // NOO!!!\n                points2: points.map(() => new Vector4f(0, 0, 0, 0)),\n                normals2: normals.map(() => new Vector4f(0, 0, 0, 0)),\n                boundingSphere: sphere, // NO!!!\n                name: object.name /// NO!\n            };\n            scene.push(obj);\n        });\n\n        return scene;\n    }\n\n}\n","export class Face {\n    public vertices: Array<number>;\n    public normals: Array<number>;\n    public uv: Array<number>;\n}\n","import { Face } from './face';\nimport { TexCoord } from './tex-coord';\nimport { Vector } from './vector';\n\nexport class Mesh {\n\n    public name: string;\n    public vertices: Array<Vector>;\n    public normals: Array<Vector>;\n    public uv: Array<TexCoord>;\n    public faces: Array<Face>;\n\n}\n","import { Mesh } from './mesh';\nimport { Vector } from './vector';\nimport { TexCoord } from './tex-coord';\nimport { Face } from './face';\n\nexport function convertToMeshArray(data: string): Array<Mesh> {\n    const json: Array<Mesh> = new Array<Mesh>();\n\n    let currentObject: Mesh = null;\n\n    let normalCount: number = 0;\n    let vertexCount: number = 0;\n    let uvCount: number = 0;\n    let normalOffset: number = 0;\n    let vertexOffset: number = 0;\n    let uvOffset: number = 0;\n\n    data.toString().split('\\n').forEach((line: string) => {\n\n        if (line.startsWith('o ')) {\n            const coords: Array<string> = line.split(' ');\n\n            currentObject = new Mesh();\n            currentObject.name = coords[1];\n            currentObject.normals = [];\n            currentObject.vertices = [];\n            currentObject.faces = [];\n            currentObject.uv = []; // OPTIONAL\n\n            json.push(currentObject);\n            normalOffset = normalCount;\n            vertexOffset = vertexCount;\n            uvOffset = uvCount;\n        }\n\n        if (currentObject === null &&\n            (line.startsWith('v ') ||\n                line.startsWith('vn ') ||\n                line.startsWith('vt '))) {\n            console.error('Error: OBJ file does not contain Objects.');\n            throw Error();\n        }\n\n        if (line.startsWith('v ')) {\n            const coords: Array<string> = line.split(' ');\n\n            const vertex: Vector = new Vector(\n                Number.parseFloat(coords[1]),\n                Number.parseFloat(coords[2]),\n                Number.parseFloat(coords[3])\n            );\n\n            currentObject.vertices.push(vertex);\n            vertexCount++;\n        }\n\n        if (line.startsWith('vn ')) {\n            const coords: Array<string> = line.split(' ');\n\n            const normal: Vector = new Vector(\n                Number.parseFloat(coords[1]),\n                Number.parseFloat(coords[2]),\n                Number.parseFloat(coords[3])\n            );\n\n            currentObject.normals.push(normal);\n            normalCount++;\n        }\n\n        if (line.startsWith('vt ')) { // OPTIONAL\n            const coords: Array<string> = line.split(' ');\n\n            const uv: TexCoord = new TexCoord(\n                Number.parseFloat(coords[1]),\n                Number.parseFloat(coords[2])\n            );\n\n            currentObject.uv.push(uv);\n            uvCount++;\n        }\n\n        if (line.startsWith('f ')) {\n            const coords: Array<string> = line.split(' ');\n\n            const face: Face = new Face();\n            face.vertices = [];\n            face.normals = [];\n            face.uv = [];\n\n            // vertex indices\n            face.vertices.push(Number(coords[1].split('/')[0]) - 1 - vertexOffset);\n            face.vertices.push(Number(coords[2].split('/')[0]) - 1 - vertexOffset);\n            face.vertices.push(Number(coords[3].split('/')[0]) - 1 - vertexOffset);\n\n            // uv indices OPTIONAL!\n            face.uv.push(Number(coords[1].split('/')[1]) - 1 - uvOffset);\n            face.uv.push(Number(coords[2].split('/')[1]) - 1 - uvOffset);\n            face.uv.push(Number(coords[3].split('/')[1]) - 1 - uvOffset);\n\n            // normal indices\n            face.normals.push(Number(coords[1].split('/')[2]) - 1 - normalOffset);\n            face.normals.push(Number(coords[2].split('/')[2]) - 1 - normalOffset);\n            face.normals.push(Number(coords[3].split('/')[2]) - 1 - normalOffset);\n\n            currentObject.faces.push(face);\n        }\n    });\n\n    return json;\n}\n","\nexport class TexCoord {\n\n    public u: number;\n    public v: number;\n\n    public constructor(u: number, v: number) {\n        this.u = u;\n        this.v = v;\n    }\n\n}\n","export class Vector {\n\n    public x: number;\n    public y: number;\n    public z: number;\n\n    public constructor(x: number, y: number, z: number) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Texture } from '../texture/Texture';\n\nexport class ScaleClipBlitter {\n\n    constructor(private framebuffer: Framebuffer) {\n\n    }\n\n    public drawScaledTextureClip(xp: number, yp: number, width: number, height: number, texture: Texture, alphaBlend: number): void {\n        const xStep = texture.width / width;\n        const yStep = texture.height / height;\n        let xx = 0;\n        let yy = 0;\n\n        let newHeight: number;\n        let newWidth: number;\n        let yStart: number;\n        let xStart: number;\n\n        if (yp + height < 0 ||\n            yp > (this.framebuffer.height - 1) ||\n            xp + width < 0 ||\n            xp > (this.framebuffer.width - 1)) {\n            return;\n        }\n\n        if (yp < 0) {\n            yy = yStep * -yp;\n            newHeight = (height + yp) - Math.max(yp + height - this.framebuffer.height, 0);\n            yStart = 0;\n        } else {\n            yStart = yp;\n            newHeight = height - Math.max(yp + height - this.framebuffer.height, 0);\n        }\n\n        let xTextureStart: number;\n\n        if (xp < 0) {\n            xTextureStart = xx = xStep * -xp;\n            newWidth = (width + xp) - Math.max(xp + width - this.framebuffer.width, 0);\n            xStart = 0;\n        } else {\n            xTextureStart = 0;\n            xStart = xp;\n            newWidth = width - Math.max(xp + width - this.framebuffer.width, 0);\n        }\n\n        const alphaScale = 1 / 255 * alphaBlend;\n        let index2 = (xStart) + (yStart) * this.framebuffer.width;\n        for (let y = 0; y < newHeight; y++) {\n            for (let x = 0; x < newWidth; x++) {\n                const xxInt = xx | 0;\n                const yyInt = yy | 0;\n                const textureIndex = xxInt + yyInt * texture.width;\n                // (xxInt > texture.width - 1 ? texture.width - 1 : xxInt) +\n                // (yyInt > texture.height - 1 ? texture.height - 1 : yyInt) * texture.width;\n\n                const alpha = (texture.texture[textureIndex] >> 24 & 0xff) * alphaScale;\n                const inverseAlpha = 1 - alpha;\n\n                const framebufferPixel = this.framebuffer.framebuffer[index2];\n                const texturePixel = texture.texture[textureIndex];\n\n                const r = (framebufferPixel >> 0 & 0xff) * inverseAlpha + (texturePixel >> 0 & 0xff) * alpha;\n                const g = (framebufferPixel >> 8 & 0xff) * inverseAlpha + (texturePixel >> 8 & 0xff) * alpha;\n                const b = (framebufferPixel >> 16 & 0xff) * inverseAlpha + (texturePixel >> 16 & 0xff) * alpha;\n\n                this.framebuffer.framebuffer[index2] = r | (g << 8) | (b << 16) | (255 << 24);\n                xx += xStep;\n                index2++;\n            }\n            yy += yStep;\n            xx = xTextureStart;\n            index2 += -newWidth + this.framebuffer.width;\n        }\n    }\n\n}\n","import { Vector3f } from '../math';\n\nexport class CameraFrame {\n    public frame: number;\n    public position: Vector3f;\n    public rotation: Vector3f;\n\n    constructor(frame: number, position: Vector3f, rotation: Vector3f) {\n        this.frame = frame;\n        this.position = position;\n        this.rotation = rotation;\n    }\n}\n","import { CameraKeyFrame } from '../animation/CameraKeyFrame';\nimport { Vector3f } from '../math';\nimport { CameraPath } from './CameraPath';\nimport { CameraFrame } from './CameraFrame';\n\nexport class CameraLoader {\n\n    public static load(filename: string): Promise<Array<CameraKeyFrame>> {\n        return fetch(filename).then((response: Response) => {\n            return response.text();\n        }).then((text: string): Array<CameraKeyFrame> => {\n\n            const json: any = JSON.parse(text);\n            const cameraPath: CameraPath = new CameraPath();\n            const keys = new Array<CameraKeyFrame>();\n\n            for (let i = 0; i < json.length; i++) {\n                const frame = json[i];\n\n                const myFrame = new CameraFrame(\n                    frame.frame,\n                    new Vector3f(\n                        frame.location[0],\n                        frame.location[1],\n                        frame.location[2]\n                    ),\n                    new Vector3f(\n                        frame.rotation[0],\n                        frame.rotation[1],\n                        frame.rotation[2]\n                    ));\n\n                cameraPath.frames.push(myFrame);\n                keys.push(new CameraKeyFrame(new Vector3f(\n                    frame.location[0],\n                    frame.location[2],\n                    -frame.location[1]\n                ),\n                    new Vector3f(\n                        frame.rotation[0] - 90 * 0.0174533,\n                        frame.rotation[2],\n                        frame.rotation[1]\n                    )));\n\n            }\n\n            return keys;\n        });\n    }\n\n}\n","import { CameraFrame } from './CameraFrame';\n\nexport class CameraPath {\n    public frames: Array<CameraFrame>;\n    constructor() {\n        this.frames = new Array<CameraFrame>();\n    }\n}\n\n","import { Matrix4f, Vector3f } from '../math';\n\nexport class EulerAngleCamera {\n\n    protected position: Vector3f;\n    protected rx: number;\n    protected ry: number;\n    protected rz: number;\n\n    constructor(position: Vector3f, rx: number, ry: number, rz: number) {\n        this.position = position;\n        this.rx = rx;\n        this.ry = ry;\n        this.rz = rz;\n    }\n\n    public getViewMatrix(): Matrix4f {\n        const rz = Matrix4f.constructZRotationMatrix(-this.rz);\n        const rx = Matrix4f.constructXRotationMatrix(-this.rx);\n        const ry = Matrix4f.constructYRotationMatrix(-this.ry);\n\n        const translation = Matrix4f.constructTranslationMatrix(-this.position.x, -this.position.y, -this.position.z);\n\n        return rx.multiplyMatrix(ry).multiplyMatrix(rz).multiplyMatrix(translation);\n    }\n\n    public getPosition(): Vector3f {\n        return this.position;\n    }\n\n}\n","/**\n * Color\n *\n * @export\n * @class Color\n * @see https://www.rapidtables.com/web/color/RGB_Color.html\n * @author Johannes Diemke\n */\nexport class Color {\n\n    public static readonly BLACK: Color = new Color(0, 0, 0, 255);\n    public static readonly WHITE: Color = new Color(255, 255, 255, 255);\n    public static readonly RED: Color = new Color(255, 0, 0, 255);\n    public static readonly GREEN: Color = new Color(0, 255, 0, 255);\n    public static readonly LIME: Color = new Color(0, 255, 0, 255);\n    public static readonly BLUE: Color = new Color(0, 0, 255, 255);\n    public static readonly DARK_BLUE: Color = new Color(0, 0, 64, 255);\n    public static readonly YELLOW: Color = new Color(255, 255, 0, 255);\n    public static readonly CYAN: Color = new Color(0, 255, 255, 255);\n    public static readonly MAGENTA: Color = new Color(255, 0, 255, 255);\n    public static readonly SLATE_GRAY: Color = new Color(112, 128, 144, 255);\n    public static readonly DARK_GRAY: Color = new Color(19, 19, 20, 255);\n    public static readonly ORANGE: Color = new Color(255, 160, 122);\n\n    constructor(public r: number = 0, public g: number = 0, public b: number = 0, public a: number = 255) {\n    }\n\n    public toPackedFormat(): number {\n        return this.r | this.g << 8 | this.b << 16 | this.a << 24;\n    }\n\n    public sub(color: Color): Color {\n        return new Color(this.r - color.r, this.g - color.g, this.b - color.b, 255);\n    }\n\n    public add(color: Color): Color {\n        return new Color(this.r + color.r, this.g + color.g, this.b + color.b, 255);\n    }\n\n    public div(num: number): Color {\n        return new Color(this.r / num, this.g / num, this.b / num, 255);\n    }\n\n    public mul(num: number): Color {\n        return new Color(this.r * num, this.g * num, this.b * num, 255);\n    }\n\n}\n","import { DLNode } from './Node';\n\n/**\n * Doubly Linked-List implementation class.\n * https://en.wikipedia.org/wiki/Doubly_linked_list\n * https://github.com/DameLyngdoh/dl-doubly-linked-list-ts\n *\n */\nexport class DoublyLinkedList<T> {\n    /**\n     * The start node of the list.\n     */\n    private _start: DLNode<T> | null;\n\n    /**\n     * The last  node of the list.\n     */\n    private _end: DLNode<T> | null;\n\n    /**\n     * The number of nodes in the list.\n     */\n    private _length: number;\n\n    constructor() {\n        this._start = null;\n        this._end = null;\n        this._length = 0;\n    }\n\n    get start(): DLNode<T> | null {\n        return this._start;\n    }\n\n    set start(start: DLNode<T> | null) {\n        this._start = start;\n    }\n\n    get end(): DLNode<T> | null {\n        return this._end;\n    }\n\n    set end(end: DLNode<T> | null) {\n        this._end = end;\n    }\n\n    get length(): number {\n        return this._length + 1;\n    }\n\n    /**\n     * Returns true if the list is empty.\n     * @returns Returns true if list is empty or false otherwise.\n     */\n    public isEmpty(): boolean {\n        return this.length === 0;\n    }\n\n    /**\n     * Inserts a node to the start of the list.\n     * @param node The node to be inserted to the list.\n     */\n    public insertStart(node: DLNode<T>): void {\n        if (this.isEmpty()) {\n            this.start = node;\n            this.end = node;\n        }\n        else {\n            node.next = this.start;\n            if (this.start != null) {\n                this.start.previous = node;\n            }\n            this.start = node;\n        }\n        this._length++;\n    }\n\n    /**\n     * Inserts a node to the end of the list.\n     * @param node The node to be inserted to the list.\n     */\n    public insertEnd(node: DLNode<T>): void {\n        if (this.isEmpty()) {\n            this.start = node;\n            this.end = node;\n        }\n        else {\n            node.previous = this.end;\n            if (this.end != null) {\n                this.end.next = node;\n            }\n            this.end = node;\n        }\n        this._length++;\n    }\n\n    /**\n     * Inserts a node at the specified index in the list.\n     * @param node The node to be inserted to the list.\n     * @param index The index to insert the node at. A value of -1 will insert the node to the end of the list.\n     */\n    public insert(node: DLNode<T>, index: number): void {\n        if (index === 0) {\n            this.insertStart(node);\n            return;\n        }\n        else if (index === -1) {\n            this.insertEnd(node);\n            return;\n        }\n\n        let currentNode = this.start;\n        let i: number = 0;\n        for (i = 0; i < index - 1 && currentNode !== null; i++) {\n            currentNode = currentNode.next;\n        }\n\n        // Insertion not possible\n        if (i !== index - 1 && currentNode === null) {\n            return;\n        }\n\n        if (currentNode != null) {\n            node.previous = currentNode;\n            node.next = currentNode.next;\n            if (currentNode.next != null) {\n                currentNode.next.previous = node;\n            }\n            else {\n                this.end = node;\n            }\n            currentNode.next = node;\n        }\n        this._length++;\n    }\n\n    /**\n     * Deletes the first node from the list.\n     */\n    public deleteStart(): void {\n        if (this.isEmpty()) {\n            return;\n        }\n\n        if (this.start != null && this.start.next == null) {\n            this.start = null;\n            this.end = null;\n        }\n        else if (this.start != null) {\n            this.start = this.start.next;\n            if (this.start != null) {\n                this.start.previous = null;\n            }\n        }\n        this._length--;\n    }\n\n    /**\n     * Deletes the last node from the list.\n     */\n    public deleteEnd(): void {\n        if (this.isEmpty()) {\n            return;\n        }\n\n        if (this.end != null && this.end.previous == null) {\n            this.start = null;\n            this.end = null;\n        }\n        else if (this.end != null) {\n            this.end = this.end.previous;\n            if (this.end != null) {\n                this.end.next = null;\n            }\n        }\n        this._length--;\n    }\n\n    /**\n     * Deletes a node from a specific index in the list. If the index is out of bounds, then no deletion will occur.\n     * @param index The index of the node to be deleted.\n     */\n    public delete(index: number): void {\n        if (this.isEmpty()) {\n            return;\n        }\n        if (index === 0) {\n            this.deleteStart();\n            return;\n        }\n        else if (index === -1) {\n            this.deleteEnd();\n            return;\n        }\n\n        const node = this.getNode(index);\n        if (node != null) {\n            if (node.next === null && node.previous !== null) {\n                this.deleteEnd();\n            }\n            else if (node.previous === null && node.next !== null) {\n                this.deleteStart();\n            }\n            else if (node.next !== null && node.previous !== null) {\n                node.previous.next = node.next;\n                node.next.previous = node.previous;\n                this._length--;\n            }\n        }\n    }\n\n    /**\n     * Retrieves a node from the specific index.\n     * @param index The index from which to retrieve the node.\n     * @returns Returns the node at the specific index or null if the index is out of bounds.\n     */\n    public getNode(index: number): DLNode<T> | null {\n        if (this.isEmpty() || index < 0) {\n            return null;\n        }\n\n        let currentNode = this.start;\n        for (let i = 1; i <= index && currentNode != null; i++) {\n            currentNode = currentNode.next;\n        }\n\n        return currentNode;\n    }\n\n    /**\n     * Returns an array of the nodes in the order of the list.\n     * @returns Array of nodes.\n     */\n    public toArray(): Array<DLNode<T>> {\n        const array: Array<DLNode<T>> = new Array<DLNode<T>>();\n\n        if (this.length === 0) {\n            return array;\n        }\n\n        let i = 0;\n\n        let currentNode: DLNode<T> | null = this.start;\n        while (currentNode != null && i < 12) {\n            array.push(currentNode);\n            currentNode = currentNode.next;\n            i++;\n        }\n        return array;\n    }\n\n    /**\n     * Clears the list and deletes all nodes.\n     */\n    public clear(): void {\n        this.end = null;\n        this.start = null;\n        this._length = 0;\n    }\n}","/**\n * Node implementation class. A node is a vertex in the list which contains data and pointers to the next node and previous node.\n */\nexport class DLNode<T> {\n    /**\n     * The data contained in the node.\n     */\n    private _data: T | null = null;\n\n    /**\n     * The edge or pointer to the next node.\n     */\n    private _next: DLNode<T> | null = null;\n\n    /**\n     * The edge or pointer to the previous node.\n     */\n    private _previous: DLNode<T> | null = null;\n\n    constructor() { }\n\n    get data(): T | null {\n        return this._data;\n    }\n\n    set data(data: T | null) {\n        this._data = data;\n    }\n\n    get next(): DLNode<T> | null {\n        return this._next;\n    }\n\n    set next(next: DLNode<T> | null) {\n        this._next = next;\n    }\n\n    get previous(): DLNode<T> | null {\n        return this._previous;\n    }\n\n    set previous(previous: DLNode<T> | null) {\n        this._previous = previous;\n    }\n}","export class Utils {\n    /**\n     * Returns a number whose value is limited to the given range.\n     *\n     * Example: limit the output of this computation to between 0 and 255\n     * (x * 255).clamp(0, 255)\n     *\n     * @param {Number} min The lower boundary of the output range\n     * @param {Number} max The upper boundary of the output range\n     * @returns A number in the range [min, max]\n     * @type Number\n     */\n    public static clamp(input: number, min: number, max: number): number {\n        return input <= min ? min : input >= max ? max : input;\n    }\n\n    /**\n     * Re-maps a number from one range to another.\n     *\n     * @param  {number} value           the incoming value to be converted\n     * @param  {number} istart          lower bound of the value's current range\n     * @param  {number} istop           upper bound of the value's current range\n     * @param  {number} ostart          lower bound of the value's target range\n     * @param  {number} ostop           upper bound of the value's target range\n     */\n    public static map(value: number, istart: number, istop: number, ostart: number, ostop: number): number {\n        return ostart + (ostop - ostart) * ((value - istart) / (istop - istart));\n    }\n\n    /**\n     * returns random integer between two values\n     *\n     * @param  {number} value           the incoming value to be converted\n     */\n    public static getRandomInt(min: number, max: number): number {\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive\n    }\n\n    public static arrayCopy(src, srcPosition: number, dst, dstPosition: number, length: number) {\n        // the index to begin splicing from dst array\n        let start: number;\n        let end: number;\n\n        if (typeof length !== 'undefined') {\n            end = Math.min(length, src.length);\n            start = dstPosition;\n            src = src.slice(srcPosition, end + srcPosition);\n        } else {\n            if (typeof dst !== 'undefined') {\n                // src, dst, length\n                // rename  so we don't get confused\n                end = dst;\n                end = Math.min(end, src.length);\n            } else {\n                // src, dst\n                end = src.length;\n            }\n\n            start = 0;\n            // rename  so we don't get confused\n            dst = srcPosition;\n            src = src.slice(0, end);\n        }\n\n        // Since we are not returning the array and JavaScript is pass by reference\n        // we must modify the actual values of the array\n        // instead of reassigning arrays\n        Array.prototype.splice.apply(dst, [start, end].concat(src));\n    }\n\n    // This is a port of Ken Perlin's Java code. The\n    // original Java code is at http://cs.nyu.edu/%7Eperlin/noise/.\n    // Note that in this version, a number from 0 to 1 is returned.\n    public static PerlinNoise = new function () {\n\n        this.noise = (x: number, y: number, z: number) => {\n\n            const p = new Array(512)\n            const permutation = [151, 160, 137, 91, 90, 15,\n                131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23,\n                190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33,\n                88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166,\n                77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244,\n                102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\n                135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123,\n                5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42,\n                223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9,\n                129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228,\n                251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\n                49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\n                138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180\n            ];\n            for (let i = 0; i < 256; i++)\n                p[256 + i] = p[i] = permutation[i];\n\n            const X = Math.floor(x) & 255;                              // FIND UNIT CUBE THAT\n            const Y = Math.floor(y) & 255;                              // CONTAINS POINT.\n            const Z = Math.floor(z) & 255;\n            x -= Math.floor(x);                                         // FIND RELATIVE X,Y,Z\n            y -= Math.floor(y);                                         // OF POINT IN CUBE.\n            z -= Math.floor(z);\n            const u = fade(x);                                          // COMPUTE FADE CURVES\n            const v = fade(y);                                          // FOR EACH OF X,Y,Z.\n            const w = fade(z);\n            const A = p[X] + Y;\n            const AA = p[A] + Z;\n            const AB = p[A + 1] + Z;       // HASH COORDINATES OF\n            const B = p[X + 1] + Y;\n            const BA = p[B] + Z;\n            const BB = p[B + 1] + Z;   // THE 8 CUBE CORNERS,\n\n            return scale(lerp(w, lerp(v, lerp(u, grad(p[AA], x, y, z),  // AND ADD\n                grad(p[BA], x - 1, y, z)), // BLENDED\n                lerp(u, grad(p[AB], x, y - 1, z),  // RESULTS\n                    grad(p[BB], x - 1, y - 1, z))),// FROM  8\n                lerp(v, lerp(u, grad(p[AA + 1], x, y, z - 1),  // CORNERS\n                    grad(p[BA + 1], x - 1, y, z - 1)), // OF CUBE\n                    lerp(u, grad(p[AB + 1], x, y - 1, z - 1),\n                        grad(p[BB + 1], x - 1, y - 1, z - 1)))));\n        }\n        function fade(t) { return t * t * t * (t * (t * 6 - 15) + 10); }\n        function lerp(t, a, b) { return a + t * (b - a); }\n        function grad(hash, x, y, z) {\n            const h = hash & 15;                      // CONVERT LO 4 BITS OF HASH CODE\n            const u = h < 8 ? x : y;                 // INTO 12 GRADIENT DIRECTIONS.\n            const v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n            return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);\n        }\n        function scale(n) { return (1 + n) / 2; }\n    }\n\n    /**\n     * Cubic interpolation is the simplest method that offers true continuity between samples. \n     * It estimates values corresponding to intermediate samples present between the original or previous samples\n     *\n     * @param  {number} y0           sample 1\n     * @param  {number} y1           sample 2\n     * @param  {number} y2           sample 3\n     * @param  {number} y3           sample 4\n     * @param  {number} mu           behaves the same way for interpolating between the sample y1 to y2\n     */\n    public static CubicInterpolate(y0: number, y1: number, y2: number, y3: number, mu: number): number {\n        const mu2 = mu * mu;\n        const a0 = y3 - y2 - y0 + y1;\n        const a1 = y0 - y1 - a0;\n        const a2 = y2 - y0;\n        const a3 = y1;\n        return (a0 * mu * mu2 + a1 * mu2 + a2 * mu + a3);\n    }\n\n    /**\n     * Cosine interpolation serves to provide a smooth transition between adjacent samples. \n     * It estimates values corresponding to intermediate samples present between the original or previous samples\n     *\n     * @param  {number} y0           sample 1\n     * @param  {number} y1           sample 2\n     * @param  {number} mu           behaves the same way for interpolating between the sample 1 to 2\n     */\n    public static CosineInterpolate(y1: number, y2: number, mu: number): number {\n        const mu2 = (1 - Math.cos(mu * Math.PI)) / 2;\n        return (y1 * (1 - mu2) + y2 * mu2);\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { BlenderLoader } from './../../model/blender/BlenderLoader';\n\n/**\n * TODO: use cube mesh and draw using drawObject2\n */\nexport class AbstractCube extends AbstractScene {\n\n    private blurred: Texture;\n    private noise: Texture;\n\n    private accumulationBuffer: Uint32Array;\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    private scene: Array<FlatshadedMesh>;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n\n        return Promise.all([\n            BlenderLoader.load(require('../../assets/jsx/stravaganza.jsx')).then(\n                (mesh: Array<FlatshadedMesh>) => this.scene = mesh\n            ),\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        framebuffer.drawScaledTextureClipBi(0,0,framebuffer.width, framebuffer.height, this.blurred, 1.0);\n\n        this.drawBlenderScene2(framebuffer, time);\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n\n        framebuffer.noise(time, this.noise);\n    }\n\n    public drawBlenderScene2(framebuffer: Framebuffer, elapsedTime: number): void {\n        framebuffer.clearDepthBuffer();\n\n        const camera: Matrix4f = Matrix4f.constructTranslationMatrix(0, 0, -12).multiplyMatrix(\n            Matrix4f.constructYRotationMatrix(elapsedTime * 0.0002)\n                .multiplyMatrix(\n                    Matrix4f.constructXRotationMatrix(elapsedTime * 0.0002)\n                )\n        );\n\n        let mv: Matrix4f = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(5, 16, 5));\n        let model: FlatshadedMesh = this.scene[0];\n        this.renderingPipeline.draw(framebuffer, model, mv);\n\n        mv = camera.multiplyMatrix(Matrix4f.constructZRotationMatrix(\n            Math.PI * 0.5 * framebuffer.cosineInterpolate(0, 600, Math.floor(elapsedTime * 0.7) % 4000))\n            .multiplyMatrix(Matrix4f.constructXRotationMatrix(\n                Math.PI * 0.5 * framebuffer.cosineInterpolate(2000, 2600, Math.floor(elapsedTime * 0.7) % 4000)))\n        );\n        model = this.scene[1];\n        this.renderingPipeline.draw(framebuffer, model, mv);\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { TexturedMesh } from '../../rendering-pipelines/TexturedMesh';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { SkyBox } from '../../SkyBox';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { BlenderLoader } from '../../model/blender/BlenderLoader';\nimport { TexturingRenderingPipeline } from '../../rendering-pipelines/TexturingRenderingPipeline';\n\n/**\n * TODO:\n * - Move procedural texture generation into dedicated class\n * - create Mesh / Textured Mesh class\n * - Create Lens Flare class\n * - Create Pipeline class\n */\nexport class BakedLighting extends AbstractScene {\n\n    private skyBox: SkyBox;\n    private baked: Texture;\n    private noise: Texture;\n    private blenderObj8: Array<TexturedMesh>;\n    private accumulationBuffer: Uint32Array;\n    private texturedRenderingPipeline: TexturingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.texturedRenderingPipeline = new TexturingRenderingPipeline(framebuffer);\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        framebuffer.setCullFace(CullFace.BACK);\n        this.skyBox = new SkyBox();\n\n        return Promise.all([\n            this.skyBox.init(),\n            BlenderLoader.loadWithTexture(require('../../assets/jsx/abstract.jsx')).then(\n                (mesh: Array<TexturedMesh>) => this.blenderObj8 = mesh\n            ),\n            TextureUtils.load(require('../../assets/Backed.png'), false).then(\n                (texture: Texture) => this.baked = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n\n        this.texturedRenderingPipeline.setCullFace(CullFace.BACK);\n\n        this.drawBlenderScene7(framebuffer, time - 1100000);\n        /*\n            [\n                //   { tex: this.texture10, scale: 0.0, alpha: 1.0 },\n                { tex: this.texture11, scale: 2.3, alpha: 0.5 },\n                { tex: this.texture13, scale: 1.6, alpha: 0.25 },\n                { tex: this.texture13, scale: 0.7, alpha: 0.22 },\n                { tex: this.texture13, scale: -0.4, alpha: 0.22 },\n            ], this.dirt, this.skybox);*/\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n        framebuffer.noise(time, this.noise);\n    }\n\n    public drawBlenderScene7(framebuffer: Framebuffer, elapsedTime: number): void {\n        elapsedTime *= 0.2;\n        framebuffer.clearDepthBuffer();\n\n        const camera: Matrix4f =\n            Matrix4f.constructTranslationMatrix(0, 0, -134 + (Math.sin(elapsedTime * 0.00007) * 0.5 + 0.5) * 17).multiplyMatrix(\n                Matrix4f.constructXRotationMatrix(elapsedTime * 0.0006).multiplyMatrix(\n                    Matrix4f.constructYRotationMatrix(-elapsedTime * 0.0005).multiplyMatrix(\n                        Matrix4f.constructTranslationMatrix(0, -25, 0)\n                    )));\n\n        const mv: Matrix4f = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(13, 13, 13));\n\n        this.skyBox.draw(framebuffer, mv);\n\n        framebuffer.clearDepthBuffer();\n        framebuffer.setTexture(this.baked);\n        this.texturedRenderingPipeline.setModelViewMatrix(mv);\n        this.texturedRenderingPipeline.drawMeshArray(framebuffer, this.blenderObj8);\n    }\n\n}\n","import { CameraKeyFrame } from '../../animation/CameraKeyFrame';\nimport { CameraLoader } from '../../camera/CameraLoader';\nimport { Color } from '../../core/Color';\nimport { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { Matrix4f, Vector4f } from '../../math';\nimport { WavefrontLoader } from '../../model/wavefront-obj/WavefrontLoader';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { PointLight } from '../../shading/light/PointLight';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { ModelViewMatrix } from '../md2/ModelViewMatrix';\n\nimport CameraPathFile from '../../assets/camera-path.jsx';\nimport { BlenderCameraAnimator } from '../../animation/BlenderCameraAnimator';\nimport { SkyBox } from '../../SkyBox';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\n\nexport class BlenderCameraScene extends AbstractScene {\n\n    private static readonly CLEAR_COLOR: number = Color.ORANGE.toPackedFormat();\n\n    private texture4: Texture;\n    private startTime: number;\n\n    private modelViewMatrix: ModelViewMatrix = new ModelViewMatrix();\n\n    private fpsStartTime: number = Date.now();\n    private fpsCount: number = 0;\n    private fps: number = 0;\n\n    private meshes: Array<FlatshadedMesh>;\n    private path: Array<CameraKeyFrame>;\n    private skyBox: SkyBox;\n\n    private light1: PointLight;\n    private light2: PointLight;\n\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n\n        this.light1 = new PointLight();\n        this.light1.ambientIntensity = new Vector4f(1, 1, 1, 1);\n        this.light1.diffuseIntensity = new Vector4f(1, 0.0, 1, 1);\n        this.light1.specularIntensity = new Vector4f(0.5, 0.5, 0.7, 1);\n        this.light1.position = new Vector4f(0, -10, -1, 1);\n\n        this.light2 = new PointLight();\n        this.light2.ambientIntensity = new Vector4f(0.5, 0.5, 1, 1);\n        this.light2.diffuseIntensity = new Vector4f(0.3, 0.3, 1, 1);\n        this.light2.specularIntensity = new Vector4f(0.8, 0.8, 0.8, 1);\n        this.light2.position = new Vector4f(3, 0, -2, 1);\n\n        this.renderingPipeline.setLights([this.light1, this.light2]);\n\n        this.skyBox = new SkyBox();\n        this.startTime = Date.now();\n        return Promise.all([\n            this.skyBox.init(),\n            WavefrontLoader.load(require('../../assets/monkey.obj')).then(\n                (value: Array<FlatshadedMesh>) => this.meshes = value\n            ),\n            CameraLoader.load(CameraPathFile).then(\n                (value: Array<CameraKeyFrame>) => this.path = value\n            ),\n            TextureUtils.load(require('../../assets/font.png'), true).then(\n                (texture: Texture) => this.texture4 = texture),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, timeInput: number): void {\n        const currentTime: number = Date.now();\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n        this.renderingPipeline.setLights([this.light1, this.light2]);\n\n        if (currentTime > this.fpsStartTime + 1000) {\n            this.fpsStartTime = currentTime;\n            this.fps = this.fpsCount;\n            this.fpsCount = 0;\n        }\n        this.fpsCount++;\n\n        const cameraAnimator = new BlenderCameraAnimator();\n        cameraAnimator.setKeyFrames(this.path);\n\n        const modelViewMartrix: Matrix4f = cameraAnimator.getViewMatrix(timeInput);\n\n        // framebuffer.clearColorBuffer(WavefrontScene.CLEAR_COLOR);\n        this.skyBox.draw(framebuffer, modelViewMartrix);\n        framebuffer.clearDepthBuffer();\n\n        this.computeCameraMovement();\n\n\n\n        // TODO: move loop into render pipeline\n        // TODO: use frame position for interpolation speed\n        let faces: number = 0;\n        for (let j = 0; j < this.meshes.length; j++) {\n            this.renderingPipeline.draw(framebuffer, this.meshes[j], modelViewMartrix);\n            faces += this.meshes[j].faces.length;\n        }\n\n        framebuffer.drawText(8, 8, 'FPS: ' + this.fps.toString(), this.texture4);\n        framebuffer.drawText(8, 16, 'FACES: ' + faces, this.texture4);\n    }\n\n    private computeCameraMovement(): void {\n        this.modelViewMatrix.setIdentity();\n        this.modelViewMatrix.trans(0, 0, -15);\n\n    }\n\n}\n","import { Color } from '../../core/Color';\nimport { Utils } from '../../core/Utils';\nimport { Framebuffer } from '../../Framebuffer';\nimport RandomNumberGenerator from '../../RandomNumberGenerator';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture, TextureUtils } from '../../texture/index';\n\n// Transitions\nexport enum TransitionMethods {\n    FADEIN = 1,\n    FADEOUT = 2,\n    BLOCKFADE = 3,\n    CROSSFADE = 4,\n    CIRCLE = 5,\n    WIPE_LEFT = 6\n}\n\nexport class BlockFade extends AbstractScene {\n    private ledTexture: Texture;\n    private startTime: number = Date.now();\n    private transitionFramebufferTo: Framebuffer;\n\n    public transitionCircle: Uint32Array;\n    public transitionWipe: Uint32Array;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.transitionFramebufferTo = new Framebuffer(framebuffer.width, framebuffer.height);\n\n        // draw side wipe\n        this.transitionWipe = new Uint32Array(framebuffer.width * framebuffer.height);\n        for (let y = 0; y < framebuffer.height; y++) {\n            for (let x = 0; x < framebuffer.width; x++) {\n                const c2 = Utils.map(x, 0, framebuffer.width, 0, 255);\n                const color = new Color(c2, c2, c2, 255).toPackedFormat();\n                this.transitionWipe[x + y * framebuffer.width] = color;\n            }\n        }\n\n        // draw circle gradient\n        this.transitionCircle = new Uint32Array(framebuffer.width * framebuffer.height);\n        this.transitionCircle.fill(Color.WHITE.toPackedFormat(), 0, this.transitionCircle.length);\n        for (let d = 0; d < framebuffer.width / 2; d += 1) {\n            const c3 = Utils.map(d, 0, framebuffer.width / 2, 0, 255);\n            this.drawCircle(framebuffer.width / 2, framebuffer.height / 2, d, c3);\n        }\n\n        return Promise.all([\n            TextureUtils.load(require('../../assets/atlantis.png'), false).then(\n                (textureBackground: Texture) => this.ledTexture = textureBackground\n            ),\n        ]);\n    }\n\n    private putpixel(x: number, y: number, color: number) {\n        this.transitionCircle[x + y * this.transitionFramebufferTo.width] = new Color(color, color, color, 255).toPackedFormat();\n    }\n\n    private drawCircle(x0: number, y0: number, radius: number, color: number) {\n        let x = 0;\n        let y = radius;\n        let d = -(radius >>> 1);\n\n        while (x <= y) {\n            this.putpixel(x + x0, y + y0, color);\n            this.putpixel(y + x0, x + y0, color);\n            this.putpixel(-x + x0, y + y0, color);\n            this.putpixel(-y + x0, x + y0, color);\n            this.putpixel(-x + x0, -y + y0, color);\n            this.putpixel(-y + x0, -x + y0, color);\n            this.putpixel(x + x0, -y + y0, color);\n            this.putpixel(y + x0, -x + y0, color);\n\n            if (d <= 0) {\n                x++;\n                d += x;\n            } else {\n                y--;\n                d -= y;\n            }\n        }\n    }\n\n    public render(framebuffer: Framebuffer): void {\n        const time: number = Date.now() - this.startTime;\n        framebuffer.clear();\n        this.blockFade(framebuffer, this.ledTexture.texture, this.ledTexture.width, time, 0);\n    }\n\n    /**\n     * Transitions from one effect to another using using \"transition\" value from JSRocket\n     *\n     * @param  {Framebuffer} framebuffer             pixels\n     * @param  {AbstractScene} transitionSceneFrom   previous effect\n     * @param  {AbstractScene} transitionSceneTo     effect we are transitioning to\n     * @param  {number} transitionMethod             transition effect to use (blend, wipe, crossfade, etc)\n     */\n    public transition(\n        framebuffer: Framebuffer,\n        transitionSceneFrom: AbstractScene,\n        transitionSceneTo: AbstractScene,\n        transitionMethod: TransitionMethods,\n        transitionValue: number,\n        time: number) {\n\n        // render the 'To' effect into the framebuffer\n        transitionSceneTo.render(this.transitionFramebufferTo, time);\n\n        // render 'From' effect into framebuffer\n        transitionSceneFrom.render(framebuffer, time);\n        // apply transition to framebuffer (fromEffect) using texture (toEffect) 0-255\n        switch (Math.trunc(transitionMethod)) {\n            case TransitionMethods.BLOCKFADE: // 0 - 12000\n                this.blockFade(framebuffer, this.transitionFramebufferTo.framebuffer, this.transitionFramebufferTo.width, Utils.map(transitionValue, 0, 255, 0, 12000), 0);\n                break;\n            case TransitionMethods.CROSSFADE: // 0 - 255\n                this.crossFade(framebuffer.framebuffer, transitionValue);\n                break;\n            case TransitionMethods.FADEIN: // 0-255\n                this.fadeIn(framebuffer, transitionValue, 0);\n                break;\n            case TransitionMethods.FADEOUT: // 0-255\n                this.fadeOut(framebuffer, transitionValue, 0);\n                break;\n            case TransitionMethods.WIPE_LEFT: // 0 - 255\n                this.crossFadeImage(framebuffer, transitionValue, this.transitionWipe);\n                break;\n            case TransitionMethods.CIRCLE: // 0 - 255\n                this.crossFadeImage(framebuffer, transitionValue, this.transitionCircle);\n                break;\n            default: // 0 - 512\n                this.crossFade(framebuffer.framebuffer, Utils.map(transitionValue, 0, 255, 0, 12000));\n        }\n    }\n\n    public blockFade(framebuffer: Framebuffer, pixelArray: Uint32Array, pixelArrayWidth: number, time: number, startTime: number) {\n        const blockWidth = 20;\n        const horizontalUnits = Math.ceil(framebuffer.width / blockWidth);\n        const verticalUnits = Math.ceil(framebuffer.height / blockWidth);\n\n        const fadeArray = new Array<number>(horizontalUnits * verticalUnits);\n        const rng = new RandomNumberGenerator();\n        rng.setSeed(366);\n        for (let y = 0; y < verticalUnits; y++) {\n            for (let x = 0; x < horizontalUnits; x++) {\n                fadeArray[x + y * horizontalUnits] = 500 + Math.round(rng.getFloat() * 600000) % 10000;\n            }\n        }\n\n        for (let y = 0; y < verticalUnits; y++) {\n            for (let x = 0; x < horizontalUnits; x++) {\n                framebuffer.drawTextureRect(x * blockWidth, y * blockWidth, x * blockWidth, y * blockWidth, blockWidth, blockWidth, pixelArray, pixelArrayWidth,\n                    framebuffer.interpolate(startTime + fadeArray[x + y * horizontalUnits], startTime + fadeArray[x + y * horizontalUnits] + 700, time)\n                );\n            }\n        }\n    }\n\n    // blend entire image to another image\n    public crossFade(framebuffer: Uint32Array, alpha: number) {\n        for (let i = 0; i < framebuffer.length; i++) {\n            framebuffer[i] = Framebuffer.blend(\n                framebuffer[i],\n                this.transitionFramebufferTo.framebuffer[i],\n                alpha)\n        }\n    }\n\n    // transition using image\n    // https://github.com/Slynchy/SDL-AlphaMaskWipes/blob/master/Transition.h\n    public crossFadeImage(framebuffer: Framebuffer, alpha: number, transitionImage: Uint32Array) {\n        for (let i = 0; i < framebuffer.framebuffer.length; i++) {\n            framebuffer.framebuffer[i] = Framebuffer.blend(\n                framebuffer.framebuffer[i],\n                this.transitionFramebufferTo.framebuffer[i],\n                Utils.clamp(\n                    (alpha * 2) - (transitionImage[i] & 0xff),\n                    0, 255))\n        }\n    }\n\n    // fade in from solid color\n    public fadeIn(framebuffer: Framebuffer, alpha: number, startColor: number) {\n        for (let y = 0; y < framebuffer.height; y++) {\n            for (let x = 0; x < framebuffer.width; x++) {\n                framebuffer.drawPixel(x, y,\n                    Framebuffer.blend(\n                        startColor,\n                        this.transitionFramebufferTo.framebuffer[x + y * framebuffer.width],\n                        alpha)\n                );\n            }\n        }\n    }\n\n    // fade out to solid color\n    public fadeOut(framebuffer: Framebuffer, alpha: number, endColor: number) {\n        for (let y = 0; y < framebuffer.height; y++) {\n            for (let x = 0; x < framebuffer.width; x++) {\n                framebuffer.drawPixel(x, y,\n                    Framebuffer.blend(\n                        framebuffer.framebuffer[x + y * framebuffer.width],\n                        endColor,\n                        alpha)\n                );\n            }\n        }\n    }\n\n    // Alternating scanlines + RGB Distort /w external input\n    public renderScanlines(framebuffer: Framebuffer, shiftAmount: number) {\n        let i = 0;\n\n        const offRed = (2 * shiftAmount) << 0;\n        const offGreen = (5 * shiftAmount) << 0;\n        const offBlue = (2 * shiftAmount) << 0;\n\n        for (let y = 0; y < framebuffer.height; y++) {\n\n            // horizontal scanlines * intensity\n            const strips = (y & 1) * 16;\n            const verticalPosition = y * framebuffer.width;\n\n            for (let x = 0; x < framebuffer.width; x++) {\n                const imagePixelR = framebuffer.framebuffer[Utils.clamp(x + offRed, 0, framebuffer.width - 1) + verticalPosition] & 0xFF;\n                const imagePixelG = framebuffer.framebuffer[Utils.clamp(x + offGreen, 0, framebuffer.width - 1) + verticalPosition] >> 8 & 0xFF;\n                const imagePixelB = framebuffer.framebuffer[Utils.clamp(x + offBlue, 0, framebuffer.width - 1) + verticalPosition] >> 16 & 0xFF;\n\n                framebuffer.framebuffer[i++] = new Color(\n                    Utils.clamp(imagePixelR - strips, 0, 255),\n                    Utils.clamp(imagePixelG - strips, 0, 255),\n                    Utils.clamp(imagePixelB - strips, 0, 255)).toPackedFormat();\n            }\n        }\n    }\n\n}\n","import { Color } from '../../core/Color';\nimport { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Cube } from '../../geometrical-objects/Cube';\nimport { Matrix4f } from '../../math';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\nimport { AbstractScene } from '../../scenes/AbstractScene';\n\nexport class CubeScene extends AbstractScene {\n\n    private static BACKGROUND_COLOR: number = Color.BLACK.toPackedFormat();\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n    private cubeMesh: Cube = new Cube();\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n\n        return Promise.all([]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        framebuffer.clearColorBuffer(CubeScene.BACKGROUND_COLOR);\n        framebuffer.clearDepthBuffer();\n        \n        this.renderCube(framebuffer,time);\n    }\n\n    public renderCube(framebuffer: Framebuffer, time: number): void {\n        const elapsedTime: number = time * 0.02;\n        this.renderingPipeline.draw(framebuffer, this.cubeMesh.getMesh(), this.getModelViewMatrix(elapsedTime));\n    }\n\n    public renderBackground(framebuffer: Framebuffer, time: number): void {\n        const elapsedTime: number = time * 0.02;\n        framebuffer.clearDepthBuffer();\n        this.renderingPipeline.draw(framebuffer, this.cubeMesh.getMesh(), this.getModelViewMatrix(elapsedTime));\n    }\n\n    private getModelViewMatrix(elapsedTime: number): Matrix4f {\n        const scale: number = 3.2;\n\n        return Matrix4f.constructTranslationMatrix(0, 0, -9).multiplyMatrix(\n            Matrix4f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(\n                Matrix4f.constructYRotationMatrix(elapsedTime * 0.05)).multiplyMatrix(\n                    Matrix4f.constructXRotationMatrix(elapsedTime * 0.08)));\n    }\n\n}\n","/*\nName          : Aisa Demo\nRelease Date  : TBD\nPlatform      : JavaScript\nCategory      : Demo\nNotes         : Software rendered effects written in Typescript\n*/\n\n// Core\nimport { Framebuffer } from '../../Framebuffer';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { SoundManager } from '../../sound/SoundManager';\nimport { Color } from '../../core/Color';\nimport { BlockFade } from '../block-fade/BlockFade';\nimport { DoublyLinkedList } from '../../core/LinkedList';\nimport { DLNode } from '../../core/Node';\n\n// Stats\nimport Stats = require('stats.js');\n\n// Video Recording Tool\nimport { CanvasRecorder } from './canvas-record';\n\nexport class DemoScene {\n\n    // Sound Manager\n    private soundManager: SoundManager;\n\n    // Video Recorder\n    private canvasRecorder: CanvasRecorder;\n\n    // list of scenes\n    private sceneList: DoublyLinkedList<AbstractScene>;\n    private nodeInstance: DLNode<AbstractScene>;\n\n    // moving line marking current place in the timeline\n    private timelineRef: HTMLInputElement;\n\n    // transitions\n    private BlockFade: BlockFade;\n\n    // stats\n    private stats: Array<Stats>;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.soundManager = new SoundManager();\n\n        this.sceneList = new DoublyLinkedList();\n\n        this.initControls(framebuffer.width);\n\n        this.BlockFade = new BlockFade();\n\n        // initialize effects with progress\n        return this.allProgress([\n            // load music\n            import('../../assets/sound/NotMixedorMastered.ogg').then(musicData => {\n                this.soundManager.loadOgg(musicData.default)\n            }),\n\n            // load *.rocket file\n            import('../../assets/sound/demo.rocket').then(rocketData => {\n                // Set to true when using *.rocket from file system\n                // set to false when using rocket editor using websocket\n                this.soundManager.prepareSync(rocketData.default, true);\n            }),\n\n            // we use this for transitions\n            this.BlockFade.init(framebuffer),\n\n            // load and initialze effects\n            import('./parts/Scene1').then(plug => this.initScene(framebuffer, plug)), // cubicles\n            import('./parts/Scene1').then(plug => this.initScene(framebuffer, plug)), // cubicles\n            import('./parts/Scene2').then(plug => this.initScene(framebuffer, plug)), // telephone\n            import('./parts/Scene3').then(plug => this.initScene(framebuffer, plug)), // title screen here\n            import('./parts/Scene4').then(plug => this.initScene(framebuffer, plug)), // pizza delivery guy\n            import('./parts/Scene5').then(plug => this.initScene(framebuffer, plug)), // replace with something else\n            import('./parts/Scene6').then(plug => this.initScene(framebuffer, plug)), // spikeball + plane deformation\n            import('./parts/Scene7').then(plug => this.initScene(framebuffer, plug)), // cube + rotozoomer\n            import('./parts/Scene8').then(plug => this.initScene(framebuffer, plug)), // ledplasma + voxelcubes\n            import('./parts/Scene9').then(plug => this.initScene(framebuffer, plug)), // blender camera\n            import('./parts/Scene10').then(plug => this.initScene(framebuffer, plug)), // MetalHeadzScene\n            import('./parts/Scene11').then(plug => this.initScene(framebuffer, plug)), // AbstractCube\n            import('./parts/Scene12').then(plug => this.initScene(framebuffer, plug)), // DofBallsScene\n            import('./parts/Scene13').then(plug => this.initScene(framebuffer, plug)), // TorusKnotTunnelScene\n            import('./parts/Scene14').then(plug => this.initScene(framebuffer, plug)), // GearsScene\n            import('./parts/Scene15').then(plug => this.initScene(framebuffer, plug)), // BakedLighting\n            import('./parts/Scene16').then(plug => this.initScene(framebuffer, plug)), // ParticleStreamsScene\n            import('./parts/Scene17').then(plug => this.initScene(framebuffer, plug)), // HoodlumScene\n            import('./parts/Scene18').then(plug => this.initScene(framebuffer, plug)), // TwisterScene\n            import('./parts/Scene19').then(plug => this.initScene(framebuffer, plug)), // RazorScene\n            import('./parts/Scene20').then(plug => this.initScene(framebuffer, plug)), // sinescroller\n\n        ], (percent: number) => {\n            // update the progress bar via canvas\n            const outputX = Math.ceil(framebuffer.width * percent);\n            framebuffer.drawRect2(0, (framebuffer.height / 2) - 5, outputX, 10, Color.WHITE.toPackedFormat());\n\n            // update the canvas\n            const canvas = document.getElementById('aisa-canvas') as HTMLCanvasElement;\n            canvas.getContext('2d').putImageData(framebuffer.getImageData(), 0, 0);\n\n            // update memory usage\n            for (const p of this.stats) {\n                p.update();\n            }\n        });\n    }\n\n    /**\n     * Adds AbstractScenes to sceneList array and initializes it\n     *\n     * @param   {Framebuffer} framebuffer            scene initializes with information in framebuffer such as width and height\n     * @param   {Object} plug                        imported class\n     * @returns {Promise<any>}                       resolves promise after completion\n     */\n    private initScene(framebuffer: Framebuffer, plug: unknown, ...args: Array<any>): Promise<any> {\n        const constructorName = Object.keys(plug)[0];\n        const newNode: DLNode<AbstractScene> = new DLNode();\n        newNode.data = new plug[constructorName](...args);\n        this.sceneList.insert(newNode, this.sceneList.length - 1);\n        return newNode.data.init(framebuffer);\n    }\n\n    // this runs after init() has finished\n    public onInit(): void {\n\n        this.canvasRecorder = new CanvasRecorder();\n\n        // jump to last effect in timeline and set mute vs unmuted\n        this.soundManager.initTimeline();\n\n        // show debug / timeline navigator\n        document.getElementById('debug').style.display = 'block';\n    }\n\n    /**\n     * Setup debug tools for local development\n     */\n    private initControls(width: number) {\n        this.stats = new Array<Stats>();\n\n        // Stats - Memory in Megabytes\n        this.initStats(2, 0, width * 2);\n\n        // Stats - Frames per second\n        this.initStats(0, 50, width * 2);\n\n        // Stats - Milliseconds per frame\n        this.initStats(1, 100, width * 2);\n\n        document.getElementById('debug').style.width = `${width * 2}px`;\n\n        // Scene Playback Controls\n        const tickerPlayRef = document.getElementById('ticker_play');\n        const tickerStopRef = document.getElementById('ticker_stop');\n        const tickerNextRef = document.getElementById('ticker_next');\n        const tickerBackRef = document.getElementById('ticker_back');\n        const tickerRecordRef = document.getElementById('ticker_record');\n        const tickerScreenshotRef = document.getElementById('ticker_screenshot');\n        const tickerVolumeRef = document.getElementById('ticker_volume');\n\n        // timeline\n        this.timelineRef = document.getElementById('timeline') as HTMLInputElement;\n\n        // stop\n        tickerStopRef.addEventListener('click', () => {\n            this.soundManager.onPause();\n            this.nodeInstance = this.sceneList.start;\n            this.soundManager.seek(0);\n\n            tickerPlayRef.classList.add('fa-play');\n            tickerPlayRef.classList.remove('fa-pause');\n\n            // save video if recoding\n            if (this.canvasRecorder.recording) {\n                tickerRecordRef.style.color = 'white';\n                this.canvasRecorder.saveVideo();\n            }\n        })\n\n        // record video\n        tickerRecordRef.addEventListener('click', () => {\n            if (!this.canvasRecorder.recording) {\n                // start audio and video recording\n                tickerRecordRef.style.color = 'red';\n                this.soundManager.onPlay();\n                this.canvasRecorder.recordVideo(this.soundManager.audio);\n                tickerPlayRef.classList.remove('fa-play');\n                tickerPlayRef.classList.add('fa-pause');\n            } else {\n                // pause audio and save video file\n                tickerRecordRef.style.color = 'white';\n                this.soundManager.onPause();\n                this.canvasRecorder.saveVideo();\n                tickerPlayRef.classList.add('fa-play');\n                tickerPlayRef.classList.remove('fa-pause');\n            }\n        })\n\n        // play / pause\n        tickerPlayRef.addEventListener('click', () => {\n            if (this.soundManager.audio.paused && !this.soundManager.isPlaying) {\n                this.soundManager.onPlay();\n                tickerPlayRef.setAttribute('title', 'pause');\n                tickerPlayRef.classList.remove('fa-play');\n                tickerPlayRef.classList.add('fa-pause');\n            } else {\n                this.soundManager.onPause();\n                tickerPlayRef.setAttribute('title', 'play');\n                tickerPlayRef.classList.add('fa-play');\n                tickerPlayRef.classList.remove('fa-pause');\n            }\n        })\n\n        // toggle audio and save preference for subsequent reloads\n        tickerVolumeRef.addEventListener('click', () => {\n            this.soundManager.toggleSound(tickerVolumeRef, !this.soundManager.audio.muted);\n            localStorage.setItem('soundToggle', String(this.soundManager.audio.muted));\n        });\n\n        // save screenshot in PNG format\n        tickerScreenshotRef.addEventListener('click', () => {\n            const date = new Date();\n            const fileName = `Aisa ${date.toISOString().slice(0, 10)} at ${date\n                .toTimeString()\n                .slice(0, 8)\n                .replace(/:/g, '.')}.png`;\n            const canvas = document.getElementById('aisa-canvas');\n            const image = (canvas as HTMLCanvasElement).toDataURL('image/png').replace('image/png', 'image/octet-stream');\n            const anchor = document.createElement('a');\n            anchor.setAttribute('download', fileName);\n            anchor.setAttribute('href', image);\n            anchor.click();\n        })\n\n        // next\n        tickerNextRef.addEventListener('click', () => {\n            this.soundManager.jump(this.soundManager.audio.currentTime, 1, this.sceneList.length);\n        })\n\n        // back\n        tickerBackRef.addEventListener('click', () => {\n            this.soundManager.jump(this.soundManager.audio.currentTime, -1, this.sceneList.length);\n        })\n\n        // seek\n        this.timelineRef.addEventListener('input', (e) => {\n            const time = Number((e.target as HTMLInputElement).value);\n            const newSeek = time * this.soundManager.audio.duration / 1000;\n            this.soundManager.seek(newSeek);\n        });\n\n        // seek with scrollwheel\n        document.addEventListener(\"wheel\", (e) => {\n            const directionToScroll = (e.deltaY < 0) ? -0.06 : 0.06;\n            this.soundManager.audio.currentTime = this.soundManager.audio.currentTime + directionToScroll;\n            // prevent page scroll\n            e.preventDefault();\n            e.stopPropagation();\n        }, { passive: false })\n\n        // keyboard navigation controls\n        document.addEventListener('keydown', (e: KeyboardEvent) => {\n            switch (e.key) {\n                case 'MediaStop':\n                    tickerStopRef.click();\n                    break;\n                // play or pause\n                case 'MediaPlayPause':\n                case ' ':\n                    tickerPlayRef.click();\n                    break;\n                // navigate timeline backward\n                case 'ArrowLeft':\n                    this.soundManager.audio.currentTime = this.soundManager.audio.currentTime - 0.06;\n                    break;\n                // navigate timeline forward\n                case 'ArrowRight':\n                    this.soundManager.audio.currentTime = this.soundManager.audio.currentTime + 0.06;\n                    break;\n                // jump to next effect\n                case 'MediaTrackNext':\n                case 'ArrowUp':\n                    this.soundManager.jump(this.soundManager.audio.currentTime, 1, this.sceneList.length);\n                    break;\n                // jump to previous effect\n                case 'MediaTrackPrevious':\n                case 'ArrowDown':\n                    this.soundManager.jump(this.soundManager.audio.currentTime, -1, this.sceneList.length);\n                    break;\n                // toggle full screen\n                case 'f':\n                    document.getElementById('aisa-canvas').click();\n                    break;\n                // save a screenshot\n                case 's':\n                    tickerScreenshotRef.click();\n                    break;\n                // record video in webm format\n                case 'r':\n                    tickerRecordRef.click();\n                    break;\n                case 'd':\n                    break;\n            }\n        })\n    }\n\n    /**\n     * Runs all promises in an array and runs callback with percentage of completion\n     *\n     * @param   {Array<Promise<any>>} promises       array of promises to run\n     * @param   {Function} progressCallback          function sending percentage after individual promise is complete\n     * @returns {Promise<any>}                       promise resolve after all promises are complete\n     */\n    private allProgress(promises: Array<Promise<any>>, progressCallback: (percentage: number) => void): Promise<any> {\n        let d = 0;\n        for (const p of promises) {\n            p.then(() => {\n                d++;\n                progressCallback(d / promises.length);\n            });\n        }\n        return Promise.all(promises);\n    }\n\n    /**\n     * Adds JavaScript Performance Monitor and initializes it\n     *\n     * @param   {Object} args                        stat type[0-3], top in pixels, left in pixels\n     */\n    private initStats(...args: Array<number>) {\n        this.stats.push(new Stats());\n        const statsObj = this.stats[this.stats.length - 1];\n        statsObj.showPanel(args[0]);\n        statsObj.dom.style.cssText = `position:absolute;top:${args[1]}px;left:${args[2]}px;`;\n        document.body.appendChild(statsObj.dom);\n    }\n\n    public render(framebuffer: Framebuffer) {\n        // get time and values from music\n        this.soundManager.updateMusic();\n\n        // get which effect to run\n        this.nodeInstance = this.sceneList.getNode(this.soundManager.musicProperties.sceneData.effect);\n\n        // if \"transitionType\" in JSRocket is zero then run the effect by itself\n        if (this.soundManager.musicProperties.sceneData.transitionType === 0) {\n            this.nodeInstance.data.render(framebuffer, this.soundManager.musicProperties.timeMilliseconds)\n        } else {\n            // otherwise blend two effects together\n            this.BlockFade.transition(\n                framebuffer,\n                this.nodeInstance.data,\n                this.nodeInstance.next.data,\n                this.soundManager.musicProperties.sceneData.transitionType,\n                this.soundManager.musicProperties.sceneData.transitionValue,\n                this.soundManager.musicProperties.timeMilliseconds);\n        }\n\n        // TODO: send musicProperties instead of timeMilliseconds so all scenes can act on any channel\n        this.BlockFade.renderScanlines(framebuffer, this.soundManager.musicProperties.sceneData.bass * 2);\n\n        // comment out for release\n        this.drawStats();\n    }\n\n    /**\n     * Show FPS, Memory Usage and js rocket time and effect number\n     */\n    private drawStats() {\n\n        // update timeline marker\n        this.timelineRef.value = String((this.soundManager.musicProperties.timeSeconds * 1000 / this.soundManager.audio.duration));\n\n        // keep current time in local storage to stay in place during reloads\n        localStorage.setItem('lastTime', String(this.soundManager.musicProperties.timeSeconds));\n\n        if (!this.soundManager.syncDevice.connected && !this.soundManager.demoMode) {\n            console.error('Rocket not connected.');\n            return;\n        } else {\n            // get values from JS rocket\n            document.getElementById('scene').innerText = this.soundManager.musicProperties.sceneData.effect.toString();\n            document.getElementById('time').innerText = this.soundManager.musicProperties.timeSeconds.toFixed(2);\n        }\n        // update FPS and Memory usage\n        for (const p of this.stats) {\n            p.update();\n        }\n    }\n\n}\n","import fileExtension from 'file-loader';\n\nexport class CanvasRecorder {\n\n    public recording: boolean;\n    private canvasRecordingOptions;\n    private canvasRecorder;\n    private audioTrack: MediaStreamTrack;\n\n    public constructor() {\n        this.recording = false;\n    }\n\n    public getType(filename: string) {\n        const ext = fileExtension(filename);\n        return ['mkv'].includes(ext) ? 'video/x-matroska;codecs=avc1' : 'video/webm';\n    }\n\n    public createCanvasRecorder(canvas: HTMLCanvasElement, options = {}, audio: HTMLMediaElement) {\n        const date = new Date();\n        let link = null;\n\n        const {\n            filename = `Recording ${date.toISOString().slice(0, 10)} at ${date\n                .toTimeString()\n                .slice(0, 8)\n                .replace(/:/g, '.')}.webm`,\n            frameRate = 25,\n            download = true,\n            recorderOptions = {\n                mimeType: 'video/x-matroska;codecs=avc1',\n                audioBitsPerSecond: 128000, // 128 Kbit/sec\n                videoBitsPerSecond: 2500000 // 2.5 Mbit/sec\n            }\n        } = {\n            ...options\n        };\n\n        const mimeType = recorderOptions.mimeType || this.getType(filename);\n\n        if (download) {\n            link = link || document.createElement('a');\n            link.download = filename;\n        }\n\n        let chunks = [];\n\n        let stream = canvas.captureStream(frameRate);\n\n        if (!this.canvasRecorder) {\n            // get the audio track:\n            const ctx = new AudioContext();\n            const dest = ctx.createMediaStreamDestination();\n            const sourceNode = ctx.createMediaElementSource(audio);\n            sourceNode.connect(dest);\n            sourceNode.connect(ctx.destination);\n            this.audioTrack = dest.stream.getAudioTracks()[0];\n        }\n\n        stream.addTrack(this.audioTrack);\n\n        let recorder = new MediaRecorder(stream, { mimeType, ...recorderOptions });\n\n        recorder.ondataavailable = event => {\n            event.data.size && chunks.push(event.data);\n        };\n        recorder.onstop = () => {\n            if (download && chunks.length) {\n                const blob = new Blob(chunks, { type: mimeType });\n                const url = URL.createObjectURL(blob);\n                link.href = url;\n\n                const event = new MouseEvent('click');\n                link.dispatchEvent(event);\n                setTimeout(() => {\n                    URL.revokeObjectURL(url);\n                }, 1);\n            }\n        };\n\n        return {\n            start(timeslice) {\n                chunks = [];\n                recorder.start(timeslice);\n            },\n            set filename(name) {\n                link.download = name;\n            },\n            stop() {\n                recorder.stop();\n                return chunks;\n            },\n            dispose() {\n                recorder = null;\n                stream = null;\n            },\n            stream,\n            recorder\n        };\n    }\n\n    /**\n     * Records a video and sound using CanvasRecorder\n     */\n    public recordVideo(sound: HTMLMediaElement) {\n        console.info('recording video...');\n        this.recording = true;\n        const date = new Date();\n\n        // options\n        this.canvasRecordingOptions = {\n            filename: `Aisa ${date.toISOString().slice(0, 10)} at ${date\n                .toTimeString()\n                .slice(0, 8)\n                .replace(/:/g, '.')}.webm`,\n            frameRate: 60,\n            download: true,\n            recorderOptions: {\n                mimeType: 'video/webm',\n                audioBitsPerSecond: 128000, // 128 Kbit/sec\n                videoBitsPerSecond: 5000000 // 2.5 Mbit/sec\n            }\n        }\n\n        // Create canvas video recorder\n        const canvasObj = document.getElementById('aisa-canvas');\n        this.canvasRecorder = this.createCanvasRecorder(canvasObj as HTMLCanvasElement, this.canvasRecordingOptions, sound);\n        this.canvasRecorder.start();\n    }\n\n    public saveVideo() {\n        // Stop and dispose\n        this.canvasRecorder.stop();\n        this.canvasRecorder.dispose();\n        this.recording = false;\n        console.info(`saved video as ${this.canvasRecordingOptions.filename}`);\n    }\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { PlaneDeformationScene } from '../../plane-deformation/PlaneDeformationScene';\n\n// sideways 3D office scene\nexport class Scene1 {\n    private PlaneDeformationFloorScene = new PlaneDeformationScene(8, require('../../../assets/ground.png'));\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        return Promise.all([\n            this.PlaneDeformationFloorScene.init(framebuffer)\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.PlaneDeformationFloorScene.drawPlaneDeformation(framebuffer, 0, time >> 3);\n    }\n\n}\n","import { Framebuffer } from '../../../Framebuffer';\nimport { MetalHeadzScene } from '../../metalheadz/MetalHeadzScene';\n\nexport class Scene10 {\n    private MetalHeadzScene: MetalHeadzScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.MetalHeadzScene = new MetalHeadzScene();\n\n        return Promise.all([\n            this.MetalHeadzScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.MetalHeadzScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { AbstractCube } from '../../abstract-cube/AbstractCube';\n\nexport class Scene11 {\n    private AbstractCube: AbstractCube;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.AbstractCube = new AbstractCube();\n\n        return Promise.all([\n            this.AbstractCube.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.AbstractCube.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { DofBallsScene } from '../../dof-balls/DofBallsScene';\n\nexport class Scene12 {\n    private DofBallsScene: DofBallsScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.DofBallsScene = new DofBallsScene();\n\n        return Promise.all([\n            this.DofBallsScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.DofBallsScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { TorusKnotTunnelScene } from '../../torus-knot-tunnel/TorusKnotTunnelScene';\n\nexport class Scene13 {\n    private TorusKnotTunnelScene: TorusKnotTunnelScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.TorusKnotTunnelScene = new TorusKnotTunnelScene();\n\n        return Promise.all([\n            this.TorusKnotTunnelScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.TorusKnotTunnelScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { GearsScene } from '../../gears/GearsScene';\n\nexport class Scene14 {\n    private GearsScene: GearsScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.GearsScene = new GearsScene();\n\n        return Promise.all([\n            this.GearsScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.GearsScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { BakedLighting } from '../../baked-lighting/BakedLighting';\n\nexport class Scene15 {\n    private BakedLighting: BakedLighting;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.BakedLighting = new BakedLighting();\n\n        return Promise.all([\n            this.BakedLighting.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.BakedLighting.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { ParticleStreamsScene } from '../../particle-streams/ParticleStreamsScene';\n\nexport class Scene16 {\n    private ParticleStreamsScene: ParticleStreamsScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.ParticleStreamsScene = new ParticleStreamsScene();\n\n        return Promise.all([\n            this.ParticleStreamsScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.ParticleStreamsScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { HoodlumScene } from '../../hoodlum/HoodlumScene';\n\nexport class Scene17 {\n    private HoodlumScene: HoodlumScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.HoodlumScene = new HoodlumScene();\n\n        return Promise.all([\n            this.HoodlumScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.HoodlumScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { TwisterScene } from '../../twister/TwisterScene';\n\nexport class Scene18 {\n    private TwisterScene: TwisterScene;\n    public init(): Promise<any> {\n\n        this.TwisterScene = new TwisterScene();\n\n        return Promise.all([\n            this.TwisterScene.init(),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.TwisterScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { RazorScene } from '../../razor/RazorScene';\n\nexport class Scene19 {\n    private RazorScene: RazorScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.RazorScene = new RazorScene();\n\n        return Promise.all([\n            this.RazorScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.RazorScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\n\n// chick on phone\nexport class Scene2 {\n    private logo: Texture;\n\n    public init(): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(require('../../../assets/logos/chick-on-phone.png'), true).then(\n                (texture: Texture) => this.logo = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer): void {\n        framebuffer.drawTexture(0, ((framebuffer.height / 2) - (this.logo.height / 2)) | 0, this.logo, 1.0);\n    }\n\n}\n","import { Framebuffer } from '../../../Framebuffer';\nimport { SineScrollerScene } from '../../sine-scroller/SineScrollerScene';\n\nexport class Scene20 {\n    private SineScrollerScene: SineScrollerScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.SineScrollerScene = new SineScrollerScene();\n\n        return Promise.all([\n            this.SineScrollerScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.SineScrollerScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\n\n// chick on phone\nexport class Scene3 {\n    private logo: Texture;\n    private background: Texture;\n\n    public init(): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(require('../../../assets/logos/chick-on-phone.png'), true).then(\n                (texture: Texture) => this.background = texture\n            ),\n            TextureUtils.load(require('../../../assets/logos/pizza_express.png'), true).then(\n                (texture: Texture) => this.logo = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer): void {\n        framebuffer.drawTexture(0, ((framebuffer.height / 2) - (this.background.height / 2)) | 0, this.background, 1.0);\n\n        framebuffer.drawTexture(\n            ((framebuffer.width / 2) - (this.logo.width / 2)) | 0,\n            ((framebuffer.height / 2) - (this.logo.height / 2)) | 0,\n            this.logo,\n            1.0);\n    }\n\n}\n","import { Framebuffer } from '../../../Framebuffer';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\nimport { PlasmaScene } from '../../plasma/PlasmaScene';\n\n// pizza being delivered\nexport class Scene4 {\n\n    private pizza: Texture;\n    private image: Texture;\n    private PlasmaScene: PlasmaScene;\n\n    public init(): Promise<any> {\n        this.PlasmaScene = new PlasmaScene();\n\n        return Promise.all([\n            // https://www.pngkey.com/detail/u2r5r5o0o0e6a9i1_sign-up-for-deals-pizza-delivery-guy-png/\n            TextureUtils.load(require('../../../assets/logos/pizza-delivery.png'), true).then(\n                (texture: Texture) => this.pizza = texture\n            ),\n            TextureUtils.load(require('../../../assets/lsd.png'), true).then(\n                (texture: Texture) => this.image = texture\n            ),\n            this.PlasmaScene.init()\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.PlasmaScene.render(framebuffer, time);\n        framebuffer.drawTexture(50,  ((framebuffer.height / 2) - (this.image.height / 2)) | 0, this.image, 1.0);\n        framebuffer.drawTexture(framebuffer.width - this.pizza.width, (framebuffer.height ) - (this.pizza.height ) | 0, this.pizza, 1.0);\n    }\n\n}\n","import { Framebuffer } from '../../../Framebuffer';\nimport { TorusScene } from '../../torus/TorusScene';\n\nexport class Scene5 {\n    private TorusScene: TorusScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.TorusScene = new TorusScene();\n\n        return Promise.all([\n            this.TorusScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.TorusScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { PlaneDeformationScene } from '../../plane-deformation/PlaneDeformationScene';\nimport { DistortedSphereScene } from '../../distorted-sphere/DistortedSphereScene';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\n\n/**\n * TODO: extract lens into effect class\n */\nexport class Scene6 {\n    private PlaneDeformationScene: PlaneDeformationScene;\n    private DistortedSphereScene: DistortedSphereScene;\n    private logo: Texture;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.PlaneDeformationScene = new PlaneDeformationScene(3, require('../../../assets/textures/checker.png'));\n        this.DistortedSphereScene = new DistortedSphereScene();\n\n        return Promise.all([\n            this.DistortedSphereScene.init(framebuffer),\n            this.PlaneDeformationScene.init(framebuffer),\n            // https://www.pngitem.com/middle/iwTwxh_face-facial-hair-sitting-tongue-fear-woman-png/\n            TextureUtils.load(require('../../../assets/logos/drug-chick-2.png'), true).then(\n                (texture: Texture) => this.logo = texture\n            ),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n\n        this.PlaneDeformationScene.render(framebuffer, time);\n        this.DistortedSphereScene.renderTransparent(framebuffer, time);\n        framebuffer.drawTexture(0, framebuffer.height - this.logo.height, this.logo, 1.0);\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { RotoZoomerScene } from '../../roto-zoomer/RotoZoomerScene';\nimport { CubeScene } from '../../cube/CubeScene';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\n\nexport class Scene7 {\n    private RotoZoomerScene: RotoZoomerScene;\n    private CubeScene: CubeScene;\n    private logo: Texture;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.RotoZoomerScene = new RotoZoomerScene();\n        this.CubeScene = new CubeScene();\n\n        return Promise.all([\n            this.CubeScene.init(framebuffer),\n            this.RotoZoomerScene.init(),\n            // pngitem.com/middle/Tommih_happy-surprised-woman-surprised-girl-png-transparent-png/\n            TextureUtils.load(require('../../../assets/logos/drug-chick.png'), true).then(\n                (texture: Texture) => this.logo = texture\n            ),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.RotoZoomerScene.render(framebuffer, time);\n        this.CubeScene.renderBackground(framebuffer, time);\n        framebuffer.drawTexture(0, framebuffer.height - this.logo.height, this.logo, 1.0);\n\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { VoxelBallsScene } from '../../voxel-balls/VoxelBallsScene';\nimport { LedPlasmaScene } from '../../led-plasma/LedPlasmaScene';\nimport { Texture } from '../../../texture/Texture';\nimport { TextureUtils } from '../../../texture/TextureUtils';\n\nexport class Scene8 {\n    private VoxelBallsScene: VoxelBallsScene;\n    private LedPlasmaScene: LedPlasmaScene;\n    private logo: Texture;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.VoxelBallsScene = new VoxelBallsScene();\n        this.LedPlasmaScene = new LedPlasmaScene();\n\n        return Promise.all([\n            this.LedPlasmaScene.init(),\n            this.VoxelBallsScene.init(framebuffer),\n            // pngitem.com/middle/Tommih_happy-surprised-woman-surprised-girl-png-transparent-png/\n            TextureUtils.load(require('../../../assets/logos/drug-chick.png'), true).then(\n                (texture: Texture) => this.logo = texture\n            ),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.LedPlasmaScene.render(framebuffer, time);\n        this.VoxelBallsScene.renderTransparent(framebuffer, time);\n        // framebuffer.drawTexture(0, ((framebuffer.height / 2) - (this.logo.height / 2)) | 0, this.logo, 1.0);\n\n    }\n\n}","import { Framebuffer } from '../../../Framebuffer';\nimport { BlenderCameraScene } from '../../blender-camera-animation/WavefrontScene';\nexport class Scene9 {\n    private BlenderCameraScene: BlenderCameraScene;\n    public init(framebuffer: Framebuffer): Promise<any> {\n\n        this.BlenderCameraScene = new BlenderCameraScene();\n\n        return Promise.all([\n            this.BlenderCameraScene.init(framebuffer),\n        ])\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        framebuffer.clearColorBuffer(0);\n        framebuffer.clearDepthBuffer();\n        this.BlenderCameraScene.render(framebuffer, time);\n    }\n\n}","import { Framebuffer } from '../../Framebuffer';\nimport { Matrix4f, Vector4f } from '../../math';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { Vertex } from '../../Vertex';\nimport { TextureCoordinate } from '../../TextureCoordinate';\nimport { Color } from '../../core/Color';\nimport { CullFace } from '../../CullFace';\nimport { TexturingRenderingPipeline } from '../../rendering-pipelines/TexturingRenderingPipeline';\n\ninterface IndexMesh {\n    points: Array<Vector4f>,\n    points2: Array<Vector4f>,\n    normals: Array<Vector4f>,\n    normals2: Array<Vector4f>,\n    index: Array<number>\n}\n\n/**\n * TODO: extract lens into effect class\n */\nexport class DistortedSphereScene extends AbstractScene {\n\n    private heightmapSphere: Texture;\n\n    private env: Texture;\n    private obj: IndexMesh;\n    private texturedRenderingPipeline: TexturingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.texturedRenderingPipeline = new TexturingRenderingPipeline(framebuffer);\n        return Promise.all([\n            TextureUtils.load(require('../../assets/heightmapSphere.png'), false).then(\n                texture => this.heightmapSphere = texture\n            ),\n            TextureUtils.load(require('../../assets/envmap.png'), false).then(\n                texture => this.env = texture\n            ),\n        ]).then(\n            () => {\n                this.obj = this.createSphereDistplaced(this.heightmapSphere);\n            });\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        framebuffer.clearColorBuffer(Color.BLACK.toPackedFormat());\n        this.renderTransparent(framebuffer, time);\n    }\n\n    public renderTransparent(framebuffer: Framebuffer, time: number): void {\n        framebuffer.setCullFace(CullFace.BACK);\n        framebuffer.setTexture(this.env);\n        const scale: number = 3.7;\n\n        let modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale)\n            .multiplyMatrix(Matrix4f.constructYRotationMatrix(time * 0.0001)\n                .multiplyMatrix(Matrix4f.constructXRotationMatrix(time * 0.0001)));\n\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-0, -0,\n            -10 - (Math.sin(time * 0.0006) * 0.5 + 0.5) * 6)\n            .multiplyMatrix(modelViewMartrix);\n        framebuffer.clearDepthBuffer();\n        this.shadingSphereEnvDisp2(framebuffer, time * 0.0004, modelViewMartrix);\n    }\n\n    public createSphere() {\n\n        const pointsA: Array<Vector4f> = [\n            new Vector4f(0.0, -1.0, 0.0),\n            new Vector4f(1.0, 0.0, 0.0),\n            new Vector4f(0.0, 0.0, 1.0),\n            new Vector4f(-1.0, 0.0, 0.0),\n            new Vector4f(0.0, 0.0, -1.0),\n            new Vector4f(0.0, 1.0, 0.0)\n        ];\n\n        const indexA: Array<number> = [\n            0, 1, 2,\n            0, 2, 3,\n            0, 3, 4,\n            0, 4, 1,\n            1, 5, 2,\n            2, 5, 3,\n            3, 5, 4,\n            4, 5, 1\n        ];\n\n        const k = this.divideSphere(pointsA, indexA, 4);\n\n        // optimize\n        const points: Array<Vector4f> = [];\n        const points2: Array<Vector4f> = [];\n        const normals: Array<Vector4f> = [];\n        const normals2: Array<Vector4f> = [];\n\n        const index: Array<number> = [];\n\n        k.index.forEach(i => {\n            const p = k.points[i];\n\n            const point = points.find(findPoint => findPoint.sub(p).length() < 0.001);\n\n            if (point) {\n                const idx = points.indexOf(point);\n                index.push(idx);\n            } else {\n                index.push(points.push(p) - 1);\n            }\n        });\n\n        points.forEach(() => {\n            normals.push(new Vector4f(0, 0, 0));\n            normals2.push(new Vector4f(0, 0, 0));\n            points2.push(new Vector4f(0, 0, 0));\n        })\n\n        return {\n            points,\n            points2,\n            normals,\n            normals2,\n            index\n        }\n    }\n\n    public divideSphere(points: Array<Vector4f>, index: Array<number>, steps: number) {\n\n        const points2: Array<Vector4f> = [];\n        const normals2: Array<Vector4f> = [];\n        const index2: Array<number> = [];\n\n        let c = 0;\n        for (let i = 0; i < index.length; i += 3) {\n            const v1 = points[index[i]];\n            const v2 = points[index[i + 1]];\n            const v3 = points[index[i + 2]];\n\n            const vn1 = v2.sub(v1).mul(0.5).add(v1).normalize();\n            const vn2 = v3.sub(v2).mul(0.5).add(v2).normalize();\n            const vn3 = v1.sub(v3).mul(0.5).add(v3).normalize();\n\n            points2.push(v1); points2.push(vn1); points2.push(vn3);\n            normals2.push(v1); normals2.push(vn1); normals2.push(vn3);\n            index2.push(c++); index2.push(c++); index2.push(c++);\n\n            points2.push(vn1); points2.push(v2); points2.push(vn2);\n            normals2.push(vn1); normals2.push(v2); normals2.push(vn2);\n            index2.push(c++); index2.push(c++); index2.push(c++);\n\n            points2.push(vn1); points2.push(vn2); points2.push(vn3);\n            normals2.push(vn1); normals2.push(vn2); normals2.push(vn3);\n            index2.push(c++); index2.push(c++); index2.push(c++);\n\n            points2.push(vn3); points2.push(vn2); points2.push(v3);\n            normals2.push(vn3); normals2.push(vn2); normals2.push(v3);\n            index2.push(c++); index2.push(c++); index2.push(c++);\n        }\n\n        if (steps > 0) {\n            return this.divideSphere(points2, index2, --steps);\n        } else {\n            return {\n                points: points2,\n                normals: normals2,\n                index: index2\n            }\n        }\n    }\n\n\n    public createSphereDistplaced(texture: Texture) {\n        const sphere: {\n            points: Array<Vector4f>,\n            points2: Array<Vector4f>,\n            normals: Array<Vector4f>,\n            normals2: Array<Vector4f>,\n            index: Array<number>\n        } = this.createSphere();\n        const newPoints: Array<Vector4f> = new Array<Vector4f>();\n        sphere.points.forEach((point) => {\n            const x = point.x;\n            const y = point.y;\n            const z = point.z;\n            const u = Math.floor((0.5 + Math.atan2(z, x) / (2 * Math.PI)) * 255);\n            const v = Math.floor((0.5 - Math.asin(y) / Math.PI) * 255);\n            const disp = 1 + 1.4 * ((texture.texture[u + v * 256] & 0xff) / 255);\n            newPoints.push(point.mul(disp));\n        });\n        sphere.points = newPoints;\n        return sphere;\n    }\n\n    public shadingSphereEnvDisp2(framebuffer: Framebuffer, elapsedTime: number, modelViewMartrix: Matrix4f): void {\n        const result = this.obj;\n\n\n        for (let i = 0; i < result.points.length; i++) {\n            const y = result.points[i].z;\n            const x = result.points[i].x;\n            const length = Math.sqrt(x * x + y * y);\n            let rot = Math.sin(result.points[i].y * 0.539 + Math.max(20 - length * 2, 0) * 0.06 + elapsedTime * 0.9) * 4.5;\n            rot *= Math.sin(elapsedTime * 0.25) * 0.5 + 0.5;\n            result.points2[i].y = result.points[i].y;\n            result.points2[i].x = result.points[i].x * Math.cos(rot) - result.points[i].z * Math.sin(rot);\n            result.points2[i].z = result.points[i].x * Math.sin(rot) + result.points[i].z * Math.cos(rot);\n\n            result.normals[i].x = 0;\n            result.normals[i].y = 0;\n            result.normals[i].z = 0;\n        }\n\n        const points = result.points2;\n        const index = result.index;\n        const normals = result.normals;\n\n        const norm: Vector4f = new Vector4f(0, 0, 0);\n        const norm2: Vector4f = new Vector4f(0, 0, 0);\n        const cross: Vector4f = new Vector4f(0, 0, 0);\n        for (let i = 0; i < index.length; i += 3) {\n            const v1: Vector4f = points[index[i]];\n            const v2: Vector4f = points[index[i + 1]];\n            const v3: Vector4f = points[index[i + 2]];\n\n\n            norm.sub2(v2, v1);\n            norm2.sub2(v3, v1);\n            cross.cross2(norm, norm2);\n            const normal = cross;\n            normals[index[i]].add2(normals[index[i]], normal);\n            normals[index[i + 1]].add2(normals[index[i + 1]], normal);\n            normals[index[i + 2]].add2(normals[index[i + 2]], normal);\n        }\n\n        for (let i = 0; i < normals.length; i++) {\n            normals[i].normalize2();\n        }\n\n        const points2: Array<Vector4f> = result.points2;\n        const normals2: Array<Vector4f> = result.normals2;\n\n        const normalMatrix = modelViewMartrix.computeNormalMatrix();\n\n        for (let n = 0; n < normals.length; n++) {\n            normalMatrix.multiplyHomArr(normals[n], normals2[n]);\n        }\n\n        for (let p = 0; p < points.length; p++) {\n            const transformed = modelViewMartrix.multiplyHom(points[p]);\n\n            points2[p].x = Math.round((framebuffer.width * 0.5) + (transformed.x / (-transformed.z * 0.0078)));\n            points2[p].y = Math.round((framebuffer.height * 0.5) - (transformed.y / (-transformed.z * 0.0078)));\n            points2[p].z = transformed.z;\n        }\n\n        const vertex1 = new Vertex();\n        vertex1.textureCoordinate = new TextureCoordinate();\n        const vertex2 = new Vertex();\n        vertex2.textureCoordinate = new TextureCoordinate();\n        const vertex3 = new Vertex();\n        vertex3.textureCoordinate = new TextureCoordinate();\n        const vertexArray = new Array<Vertex>(vertex1, vertex2, vertex3);\n        for (let i = 0; i < index.length; i += 3) {\n\n            const v1 = points2[index[i]];\n            const n1 = normals2[index[i]];\n\n            const v2 = points2[index[i + 1]];\n            const n2 = normals2[index[i + 1]];\n\n            const v3 = points2[index[i + 2]];\n            const n3 = normals2[index[i + 2]];\n\n            if (framebuffer.isTriangleCCW(v1, v2, v3)) {\n\n                vertexArray[0].position = v1;\n                framebuffer.fakeSphere(n1, vertex1);\n\n                vertexArray[1].position = v2;\n                framebuffer.fakeSphere(n2, vertex2);\n\n                vertexArray[2].position = v3;\n                framebuffer.fakeSphere(n3, vertex3);\n\n                if (v1.x < framebuffer.minWindow.x ||\n                    v2.x < framebuffer.minWindow.x ||\n                    v3.x < framebuffer.minWindow.x ||\n                    v1.x > framebuffer.maxWindow.x ||\n                    v2.x > framebuffer.maxWindow.x ||\n                    v3.x > framebuffer.maxWindow.x ||\n                    v1.y < framebuffer.minWindow.y ||\n                    v2.y < framebuffer.minWindow.y ||\n                    v3.y < framebuffer.minWindow.y ||\n                    v1.y > framebuffer.maxWindow.y ||\n                    v2.y > framebuffer.maxWindow.y ||\n                    v3.y > framebuffer.maxWindow.y) {\n\n\n                    this.texturedRenderingPipeline.clipConvexPolygon2(framebuffer, vertexArray);\n                } else {\n                    this.texturedRenderingPipeline.triangleRasterizer.drawTriangleDDA(framebuffer, vertexArray[0], vertexArray[1], vertexArray[2]);\n                }\n            }\n        }\n    }\n\n}","import { Framebuffer } from '../../Framebuffer';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { Vector3f } from '../../math/Vector3f';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\n\nexport class DofBallsScene extends AbstractScene {\n\n    private blurred: Texture;\n    private particleTexture2: Texture;\n    private noise: Texture;\n    private start: number;\n\n    private accumulationBuffer: Uint32Array;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        this.start = Date.now();\n        return Promise.all([\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            ),\n            TextureUtils.load(require('../../assets/spriteBlur.png'), true).then(\n                (texture: Texture) => this.particleTexture2 = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        framebuffer.drawScaledTextureClipBi(0,0,framebuffer.width, framebuffer.height, this.blurred, 1.0);\n        this.drawParticleTorus(framebuffer, time, this.particleTexture2, true);\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.60);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n\n        framebuffer.noise(time, this.noise);\n    }\n\n    public computeDepthBlur(\n        nearPlane: number,\n        focalPlane: number,\n        farPlane: number, depth: number): number {\n\n        let f: number;\n\n        if (depth > focalPlane) {\n            f = (depth - focalPlane) / (nearPlane - focalPlane);\n        } else {\n            f = (depth - focalPlane) / (farPlane - focalPlane);\n        }\n        return Math.min(f, 1.0);\n    }\n\n    public drawParticleTorus(framebuffer: Framebuffer, elapsedTime: number, texture: Texture, noClear: boolean = false) {\n        if (!noClear) { framebuffer.clearColorBuffer(72 | 56 << 8 | 48 << 16 | 255 << 24); }\n        framebuffer.clearDepthBuffer();\n\n        const points: Array<Vector3f> = new Array<Vector3f>();\n        const num = 50;\n        const radi = 5.2;\n\n        for (let i = 0; i < num; i++) {\n            const x = radi * Math.cos(((i) * Math.PI * 2 / (num)) * 3.7 + elapsedTime * 0.0016);\n            const y = (i - num * 0.5) * 0.4;\n            const z = radi * Math.sin(((i) * Math.PI * 2 / (num)) * 3.7 + elapsedTime * 0.0016);\n\n            points.push(new Vector3f(x, y, z));\n        }\n\n        const modelViewMartrix: Matrix4f = Matrix4f.constructTranslationMatrix(0, 0, -12)\n            .multiplyMatrix(Matrix4f.constructYRotationMatrix(elapsedTime * 0.0004)\n                .multiplyMatrix(Matrix4f.constructXRotationMatrix(elapsedTime * 0.0004)));\n\n        const points2: Array<Vector3f> = new Array<Vector3f>(points.length);\n\n        points.forEach((element: Vector3f) => {\n            points2.push(framebuffer.project(modelViewMartrix.multiply(element)));\n        });\n\n        points2.sort((a: Vector3f, b: Vector3f) => a.z - b.z);\n\n        points2.forEach((element: Vector3f) => {\n            const size: number = -(2.9 * 292 / (element.z));\n            const spriteNum: number = Math.round(this.computeDepthBlur(0, -15, -70, element.z) * 13);\n\n            framebuffer.drawParticle2Sub(\n                element.x - size / 2,\n                element.y - size / 2,\n                size, size, texture, 1 / element.z, 1.0, spriteNum, 128\n            );\n        });\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { BlenderLoader } from '../../model/blender/BlenderLoader';\n\nexport class GearsScene extends AbstractScene {\n\n    private blurred: Texture;\n    private noise: Texture;\n    private gearsMesh: Array<FlatshadedMesh>;\n\n    private accumulationBuffer: Uint32Array;\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.FRONT);\n\n        return Promise.all([\n            BlenderLoader.load(require('../../assets/jsx/gear.jsx')).then(\n                (mesh: Array<FlatshadedMesh>) => this.gearsMesh = mesh\n            ),\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        framebuffer.drawScaledTextureClipBi(0,0,framebuffer.width, framebuffer.height, this.blurred, 1.0);\n\n        this.drawBlenderScene4(framebuffer, time);\n        /*  [\n              { tex: this.texture10, scale: 0.0, alpha: 1.0 },\n              { tex: this.texture11, scale: 2.3, alpha: 0.5 },\n              { tex: this.texture13, scale: 1.6, alpha: 0.25 },\n              { tex: this.texture13, scale: 0.7, alpha: 0.22 },\n              { tex: this.texture13, scale: -0.4, alpha: 0.22 },\n          ], this.dirt);*/\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n        framebuffer.noise(time, this.noise);\n    }\n\n    public drawBlenderScene4(framebuffer: Framebuffer, elapsedTime: number): void {\n        framebuffer.clearDepthBuffer();\n\n        const camera: Matrix4f = Matrix4f.constructTranslationMatrix(0, 0, -21).multiplyMatrix(\n            Matrix4f.constructYRotationMatrix(elapsedTime * 0.0002)\n                .multiplyMatrix(\n                    Matrix4f.constructXRotationMatrix(elapsedTime * 0.0002)\n                )\n        );\n\n        let scale: number = 0.1 * 2.1 * 2.1;\n        let factor: number = 2.1 - 0.09 - 0.09;\n        const fade: number = 0.09;\n        const dampFactor: number = Math.sin(elapsedTime * 0.00001) * 0.5 + 0.5;\n        for (let i: number = 1; i < 6; i++) {\n            scale *= factor;\n            factor -= fade;\n\n            const mv: Matrix4f = this.getModelViewMatrix(camera, dampFactor, scale, i, elapsedTime);\n\n            this.renderingPipeline.draw(framebuffer, this.gearsMesh[0], mv);\n        }\n        // let lensflareScreenSpace = framebuffer.project(camera.multiply(new Vector3f(16.0 * 20, 16.0 * 20, 0)));\n        // framebuffer.drawLensFlare(lensflareScreenSpace, elapsedTime * 0.3, texture, dirt);\n    }\n\n    private getModelViewMatrix(camera: Matrix4f, dampFactor: number, scale: number, i: number,\n        elapsedTime: number): Matrix4f {\n        const modelViewMartrix: Matrix4f =\n            Matrix4f.constructXRotationMatrix(elapsedTime * 0.0006 + dampFactor * 0.7 * (4 - i)).multiplyMatrix(\n                Matrix4f.constructYRotationMatrix(elapsedTime * 0.0005 + dampFactor * 0.7 * (4 - i)).multiplyMatrix(\n                    Matrix4f.constructScaleMatrix(scale, scale, scale)));\n\n        return camera.multiplyMatrix(modelViewMartrix);\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Matrix4f, Vector3f } from '../../math';\nimport RandomNumberGenerator from '../../RandomNumberGenerator';\nimport { TexturedMesh } from '../../rendering-pipelines/TexturedMesh';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture, TextureUtils } from '../../texture';\nimport { BlenderLoader } from './../../model/blender/BlenderLoader';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { TexturingRenderingPipeline } from '../../rendering-pipelines/TexturingRenderingPipeline';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\n\nexport class HoodlumScene extends AbstractScene {\n\n    private blurred: Texture;\n    private lab2: Texture;\n    private noise: Texture;\n    private particleTexture2: Texture;\n    private spaceLabMesh: Array<TexturedMesh>;\n    private hoodlumLogoMesh: Array<FlatshadedMesh>;\n    private accumulationBuffer: Uint32Array;\n\n    private texturedRenderingPipeline: TexturingRenderingPipeline;\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.texturedRenderingPipeline = new TexturingRenderingPipeline(framebuffer);\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        return Promise.all([\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            ),\n            BlenderLoader.loadWithTexture(require('../../assets/jsx/lab2.jsx')).then(\n                (mesh: Array<TexturedMesh>) => this.spaceLabMesh = mesh\n            ),\n            BlenderLoader.load(require('../../assets/jsx/hoodlum2018.jsx')).then(\n                (mesh: Array<FlatshadedMesh>) => this.hoodlumLogoMesh = mesh\n            ),\n            TextureUtils.load(require('../../assets/lab2.png'), false).then(texture => this.lab2 = texture),\n            TextureUtils.generateProceduralNoise().then(texture => this.noise = texture),\n            this.createProceduralTexture3().then(texture => this.particleTexture2 = texture),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.texturedRenderingPipeline.setCullFace(CullFace.BACK);\n        framebuffer.setCullFace(CullFace.BACK);\n\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        framebuffer.drawScaledTextureClipBi(0,0,framebuffer.width, framebuffer.height, this.blurred, 1.0);\n        framebuffer.setCullFace(CullFace.BACK);\n        framebuffer.setTexture(this.lab2);\n\n        this.drawBlenderScene9(framebuffer, time, this.particleTexture2);\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n\n        framebuffer.noise(time, this.noise);\n    }\n\n    public drawBlenderScene9(framebuffer: Framebuffer, elapsedTime: number, texture3: Texture): void {\n        framebuffer.clearDepthBuffer();\n\n        const camera: Matrix4f =\n            Matrix4f.constructTranslationMatrix(0, 0, -34 + (Math.sin(elapsedTime * 0.00007) * 0.5 + 0.5) * 7).multiplyMatrix(\n                Matrix4f.constructXRotationMatrix((Math.sin(elapsedTime * 0.00014) * 0.5 + 0.5) * 0.5 - 0.2).multiplyMatrix(\n                    Matrix4f.constructYRotationMatrix(-elapsedTime * 0.0002).multiplyMatrix(\n                        Matrix4f.constructTranslationMatrix(0, 1.9, 0)\n                    )));\n\n        let mv: Matrix4f = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(13, 13, 13));\n\n        this.texturedRenderingPipeline.setModelViewMatrix(mv);\n        this.texturedRenderingPipeline.drawMeshArray(framebuffer, this.spaceLabMesh);\n\n        mv = camera.multiplyMatrix(\n            Matrix4f.constructTranslationMatrix(0, -5.5, 0).multiplyMatrix(\n                Matrix4f.constructScaleMatrix(413, 413, 413).multiplyMatrix(\n                    Matrix4f.constructXRotationMatrix(Math.PI * 0.5)\n                )\n            ));\n\n        const model = this.hoodlumLogoMesh[0];\n        this.renderingPipeline.draw(framebuffer, model, mv);\n\n        const points: Array<Vector3f> = new Array<Vector3f>();\n        const num = 10;\n        const num2 = 6;\n\n        for (let i = 0; i < num; i++) {\n\n            for (let j = 0; j < num2; j++) {\n                const y = ((i + elapsedTime * 0.001) % 10) * 2.5 - 12;\n                const scale2 = (1 + 4 * framebuffer.interpolate(-10, 10, y)) *\n\n                    ((Math.sin(elapsedTime * 0.0012 + Math.PI * 2 / num * i * 2) * 0.5 + 0.5) * 0.5 + 0.5);\n                const x = scale2 * Math.sin(Math.PI * 2 / num2 * j + elapsedTime * 0.0008);\n\n                const z = scale2 * Math.cos(Math.PI * 2 / num2 * j + elapsedTime * 0.0008);\n\n                points.push(new Vector3f(x, y, z));\n            }\n        }\n\n        const modelViewMartrix = camera.multiplyMatrix(Matrix4f.constructTranslationMatrix(0, -0.0, 0));\n\n        const points2: Array<Vector3f> = new Array<Vector3f>(points.length);\n\n        points.forEach(element => {\n            const transformed = framebuffer.project(modelViewMartrix.multiply(element));\n            points2.push(transformed);\n        });\n\n        points2.sort((a, b) => {\n            return a.z - b.z;\n        });\n\n        points2.forEach(element => {\n            const size = -(4.3 * 192 / (element.z));\n            framebuffer.drawSoftParticle(\n                Math.round(element.x - size / 2),\n                Math.round(element.y - size / 2),\n                Math.round(size), Math.round(size), texture3, 1 / element.z, 0.7);\n        });\n    }\n\n    public createProceduralTexture3(): Promise<Texture> {\n        return new Promise((resolve) => {\n            const texture = new Texture();\n            texture.texture = new Uint32Array(256 * 256);\n\n            const rng = new RandomNumberGenerator();\n            rng.setSeed(100);\n\n            for (let y = 0; y < 256; y++) {\n                for (let x = 0; x < 256; x++) {\n                    const dx = 127 - x\n                    const dy = 127 - y\n                    const r = Math.sqrt(dx * dx + dy * dy) / 127;\n                    let c = 1 - r;\n                    c = c * c * c;\n                    if (r > 1) c = 0;\n                    c = Math.min(1, c * 2.9);\n\n                    texture.texture[x + y * 256] = 235 | 255 << 8 | 235 << 16 | (c * 255) << 24;\n                }\n            }\n\n            texture.width = 256;\n            texture.height = 256;\n            resolve(texture);\n        });\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { Vector3f } from '../../math/Vector3f';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\n\n/**\n * TODO: extract lens into effect class\n */\nexport class LedPlasmaScene extends AbstractScene {\n\n    private ledTexture: Texture;\n\n    public init(): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(require('../../assets/led.png'), false).then(\n                (texture: Texture) => this.ledTexture = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.led(framebuffer, time, this.ledTexture);\n    }\n\n    // TODO: create interesting pattern!\n    public led(framebuffer: Framebuffer, elapsedTime: number, texture: Texture): void {\n        const time = elapsedTime * 0.0007 * 1.0;\n        const lineDirection = new Vector3f(Math.sin(time), Math.cos(time), 0);\n        const radialWaveCenter = new Vector3f(40.0 / 2.0, 35.0 / 2.0, 0).add(new Vector3f(40.0 / 2.0 *\n            Math.sin(-time * 1.2), 35.0 / 2.0 * Math.cos(-time * 1.2), 0));\n        const difference: Vector3f = new Vector3f(0, 0, 0);\n\n        const horizontalUnits = Math.ceil(framebuffer.width / 8);\n        const verticalUnits = Math.ceil(framebuffer.height / 8);\n\n        for (let y = 0; y < verticalUnits; y++) {\n            for (let x = 0; x < horizontalUnits; x++) {\n                const directionalWave = (Math.sin((x * lineDirection.x + y * lineDirection.y) * 0.8 + time) + 1.0) * 0.5;\n                difference.x = x - radialWaveCenter.x;\n                difference.y = y - radialWaveCenter.y;\n                const radialWave = (Math.cos(difference.length() * 0.7) + 1.0) * 0.5;\n                const waveSum: number = (radialWave + directionalWave) * 0.5;\n\n                const intensity = ((waveSum * 15) | 0) % 16;\n                framebuffer.drawTextureRectNoAlpha(x * 8, y * 8, 0, 8 * intensity, 8, 8, texture);\n            }\n        }\n    }\n\n\n}\n","import { Matrix4f } from '../../math/index';\n\n/**\n * The primary purpose of the model view matrix class is to reduce\n * the instanciation of temporary matrix classes by reusing existing instances.\n */\nexport class ModelViewMatrix {\n\n    private currtentMatrix: Matrix4f;\n    private tempMatrix: Matrix4f;\n    private temp: Matrix4f;\n    private transformation: Matrix4f;\n\n    public constructor() {\n        this.currtentMatrix = new Matrix4f();\n        this.tempMatrix = new Matrix4f();\n        this.temp = new Matrix4f();\n        this.transformation = new Matrix4f();\n    }\n\n    public getMatrix(): Matrix4f {\n        return this.currtentMatrix;\n    }\n\n    public setIdentity(): void {\n        this.currtentMatrix.setIdentityMatrix();\n    }\n\n    public multMatrix(mat: Matrix4f): void {\n        this.currtentMatrix = this.currtentMatrix.multiplyMatrix(mat);\n    }\n\n    public trans(x: number, y: number, z: number): void {\n        this.transformation.setTranslationMatrix(x, y, z);\n        this.applyMat();\n    }\n\n    public scal(x: number, y: number, z: number): void {\n        this.transformation.setScaleMatrix(x, y, z);\n        this.applyMat();\n    }\n\n    public xRotate(x: number): void {\n        this.transformation.setXRotationMatrix(x);\n        this.applyMat();\n    }\n    public yRotate(x: number): void {\n        this.transformation.setYRotationMatrix(x);\n        this.applyMat();\n    }\n\n    private applyMat(): void {\n\n        this.tempMatrix.multiply2(this.currtentMatrix, this.transformation);\n        // switch back and front\n        this.temp = this.currtentMatrix;\n        this.currtentMatrix = this.tempMatrix;\n        this.tempMatrix = this.temp;\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Matrix4f, Vector3f } from '../../math';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { SkyBox } from '../../SkyBox';\nimport { Texture, TextureUtils } from '../../texture';\nimport { TexturingRenderingPipeline } from '../../rendering-pipelines/TexturingRenderingPipeline';\nimport { BlenderLoader } from '../../model/blender/BlenderLoader';\nimport { TexturedMesh } from '../../rendering-pipelines/TexturedMesh';\n\nexport class MetalHeadzScene extends AbstractScene {\n\n    private metalheadz: Texture;\n    private texture11: Texture;\n    private texture13: Texture;\n    private noise: Texture;\n    private dirt: Texture;\n    private skyBox: SkyBox;\n\n    private blenderObjMetal: any;\n\n    private accumulationBuffer: Uint32Array;\n    private texturedRenderingPipeline: TexturingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.texturedRenderingPipeline = new TexturingRenderingPipeline(framebuffer);\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        framebuffer.setCullFace(CullFace.BACK);\n        this.skyBox = new SkyBox();\n        // TODO:\n        // make classes for assets\n        // lens flare, 3d modell\n\n        return Promise.all([\n            this.skyBox.init(),\n            BlenderLoader.loadWithTexture(require('../../assets/jsx/metalheadz.jsx')).then(\n                (mesh: Array<TexturedMesh>) => this.blenderObjMetal = mesh\n            ),\n            TextureUtils.load(require('../../assets/metalheadz.png'), false).then(\n                (texture: Texture) => this.metalheadz = texture\n            ),\n            TextureUtils.load(require('../../assets/ring.png'), true).then(\n                (texture: Texture) => this.texture11 = texture\n            ),\n            TextureUtils.load(require('../../assets/bokeh.png'), true).then(\n                (texture: Texture) => this.texture13 = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            ),\n            TextureUtils.load(require('../../assets/dirt.png'), true).then(\n                (texture: Texture) => this.dirt = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.texturedRenderingPipeline.setCullFace(CullFace.BACK);\n        const elapsedTime: number = 0.2 * time;\n\n        framebuffer.clearDepthBuffer();\n\n        const camera: Matrix4f = this.computeCameraMovement(elapsedTime);\n        const mv: Matrix4f = camera.multiplyMatrix(Matrix4f.constructScaleMatrix(7, 7, 7));\n\n        this.skyBox.draw(framebuffer, mv);\n\n        framebuffer.clearDepthBuffer();\n        framebuffer.setTexture(this.metalheadz);\n\n        const renderingPipeline: TexturingRenderingPipeline = this.texturedRenderingPipeline;\n\n        renderingPipeline.setModelViewMatrix(mv);\n        renderingPipeline.drawMeshArray(framebuffer, this.blenderObjMetal);\n\n        const scale: number = 20;\n        const lensflareScreenSpace: Vector3f =\n            framebuffer.project(camera.getRotation().multiply(new Vector3f(1.1 * scale, 2 * scale, -0.9 * scale)));\n\n        framebuffer.drawLensFlare(lensflareScreenSpace, elapsedTime * 1.2, [\n            { tex: this.texture11, scale: 2.3, alpha: 0.5 },\n            { tex: this.texture13, scale: 1.6, alpha: 0.25 },\n            { tex: this.texture13, scale: 0.7, alpha: 0.22 },\n            { tex: this.texture13, scale: -0.4, alpha: 0.22 },\n        ], this.dirt);\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n        framebuffer.noise(time, this.noise);\n    }\n\n    private computeCameraMovement(elapsedTime: number): Matrix4f {\n        return Matrix4f.constructTranslationMatrix(0, 0, -134 + (Math.sin(elapsedTime * 0.00007) * 0.5 + 0.5) * 17)\n            .multiplyMatrix(\n                Matrix4f.constructXRotationMatrix(elapsedTime * 0.0008).multiplyMatrix(\n                    Matrix4f.constructYRotationMatrix(-elapsedTime * 0.0009).multiplyMatrix(\n                        Matrix4f.constructTranslationMatrix(0, 0, 0)\n                    )\n                )\n            );\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Vector3f, Matrix4f, Matrix3f } from '../../math';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture';\n\nexport class ParticleStreamsScene extends AbstractScene {\n\n    private blurred: Texture;\n    private particleTexture2: Texture;\n    private noise: Texture;\n\n    private accumulationBuffer: Uint32Array;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        return Promise.all([\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            ),\n            TextureUtils.generateProceduralParticleTexture().then(\n                (texture: Texture) => this.particleTexture2 = texture\n            ),\n            TextureUtils.generateProceduralNoise().then(\n                (texture: Texture) => this.noise = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        framebuffer.drawScaledTextureClipBi(0,0,framebuffer.width, framebuffer.height, this.blurred, 1.0);\n        this.drawParticleStreams(framebuffer, time, this.particleTexture2);\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTexture(0, 0, texture3, 0.55);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n        framebuffer.noise(time, this.noise);\n    }\n\n    public drawParticleStreams(framebuffer: Framebuffer, elapsedTime: number, texture: Texture) {\n\n        const points: Array<Vector3f> = new Array<Vector3f>();\n        const num = 50;\n        const num2 = 10;\n        const scale = 2.1;\n\n        for (let i = 0; i < num; i++) {\n            const radius = 2.8;\n            const radius2 = 2.9 + 3 * Math.sin(Math.PI * 2 * i / num - elapsedTime * 0.002);\n\n            for (let j = 0; j < num2; j++) {\n\n                const x = ((i - num / 2) * scale - elapsedTime * 0.008) % (num * scale) + (num * scale * 0.5);\n                const y = Math.cos(Math.PI * 2 / num2 * j + i * 0.02 + elapsedTime * 0.0005) * radius + 8 + radius2;\n                const z = Math.sin(Math.PI * 2 / num2 * j + i * 0.02 + elapsedTime * 0.0005) * radius;\n\n                points.push(Matrix3f.constructXRotationMatrix(Math.PI * 2 * i / num - Math.sin(elapsedTime * 0.0003 + Math.PI * 2 * i / num)).multiply(new Vector3f(x, y, z)));\n            }\n        }\n\n        for (let i = 0; i < 3; i++) {\n            const modelViewMartrix = Matrix4f.constructTranslationMatrix(0, -0.0, -49).multiplyMatrix(\n\n                Matrix4f.constructZRotationMatrix(Math.PI * 0.17).multiplyMatrix(\n                    Matrix4f.constructYRotationMatrix(elapsedTime * 0.00015).multiplyMatrix(\n                        Matrix4f.constructXRotationMatrix(Math.PI * 2 / 3 * i + elapsedTime * 0.0006)))\n            );\n\n            const points2: Array<Vector3f> = new Array<Vector3f>(points.length);\n            points.forEach(element => {\n\n\n                const transformed = framebuffer.project(modelViewMartrix.multiply(element));\n\n                points2.push(transformed);\n            });\n\n            points2.sort((a, b) => {\n                return a.z - b.z;\n            });\n\n            points2.forEach(element => {\n                // let size = -(2.0 * 192 / (element.z));\n                const size = -(1.3 * 192 / (element.z));\n                if (element.z < -4)\n                    framebuffer.drawParticleNoDepth(\n                        Math.round(element.x - size / 2),\n                        Math.round(element.y - size / 2),\n                        Math.round(size), Math.round(size), texture, framebuffer.interpolate(-90, -55, element.z));\n            });\n        }\n    }\n\n\n\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { Texture, TextureUtils } from '../../texture';\nimport { Color } from '../../core/Color';\nimport { Utils } from '../../core/Utils';\n\n/**\n * Plane deformation\n *\n * 2D plane deformations using lookup tables was a great\n * way to get smooth animations of complex calculations\n * running on slower processors. These effects were very\n * common in the 90s demoscene.\n *\n * The idea was to take a texture and deform it using a\n * pre-calculated math reference table. Different formulas\n * gave different effects such as fake 3d tunnels, wormholes\n * and landscapes.\n *\n * https://www.iquilezles.org/www/articles/deform/deform.htm\n *\n */\n\nexport class PlaneDeformationScene {\n\n    private mLUT: Int32Array;\n    public texture: Texture;\n\n    constructor(\n        private effectStyle: number,\n        private texturePath: string\n    ) {\n    }\n\n    onInit() { }\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(this.texturePath, false).then(\n                (texture: Texture) => {\n                    this.texture = texture;\n                    this.createLUT(this.effectStyle, framebuffer.width, framebuffer.height, this.texture.width, this.texture.height);\n                }\n            ),\n        ]);\n\n    }\n\n    // fill math lookup table values with crazy values\n    public createLUT(effectStyle: number, effectWidth: number, effectHeight: number, textureWidth: number, textureHeight: number): Promise<any> {\n\n        // initializae lookup array\n        this.mLUT = new Int32Array(3 * effectWidth * effectHeight);\n\n        // increment placeholder\n        let k = 0;\n\n        // u and v are euclidean coordinates\n        let u = 0;\n        let v = 0\n        let bright = 0;\n\n        for (let j = 0; j < effectHeight; j++) {\n            const y = -1.00 + 2.00 * j / effectHeight;\n            for (let i = 0; i < effectWidth; i++) {\n                const x = -1.00 + 2.00 * i / effectWidth;\n                const d = Math.sqrt(x * x + y * y);\n                const a = Math.atan2(y, x);\n\n                const r = d;\n                switch (effectStyle) {\n                    case 1:   // stereographic projection / anamorphosis\n                        u = Math.cos(a) / d;\n                        v = Math.sin(a) / d;\n                        bright = -50 * (2 / (6 * r + 3 * x));\n                        break;\n                    case 2:  // hypnotic rainbow spiral\n                        v = Math.sin(a + Math.cos(3 * r)) / (Math.pow(r, .2));\n                        u = Math.cos(a + Math.cos(3 * r)) / (Math.pow(r, .2));\n                        bright = 1;\n                        break;\n                    case 3:  // rotating tunnel\n                        v = 2 / (6 * r + 3 * x);\n                        u = a * 3 / Math.PI;\n                        bright = 25 * -v;\n                        break;\n                    case 4:  // wavy star-burst\n                        v = (-0.4 / r) + .1 * Math.sin(8 * a);\n                        u = .5 + .5 * a / Math.PI;\n                        bright = 0;\n                        break;\n                    case 5:  // hyper-space travel\n                        u = (0.02 * y + 0.03) * Math.cos(a * 3) / r;\n                        v = (0.02 * y + 0.03) * Math.sin(a * 3) / r;\n                        bright = 0;\n                        break;\n                    case 6:  // five point magnetic flare\n                        u = 1 / (r + 0.5 + 0.5 * Math.sin(5 * a));\n                        v = a * 3 / Math.PI;\n                        bright = 0;\n                        break;\n                    case 7:  // cloud like dream scroll\n                        u = 0.1 * x / (0.11 + r * 0.5);\n                        v = 0.1 * y / (0.11 + r * 0.5);\n                        bright = 0;\n                        break;\n                    case 8:  // floor and ceiling with fade to dark horizon\n                        u = x / Math.abs(y);\n                        v = 1 / Math.abs(y);\n                        bright = 40 * -v;\n                        break;\n                    case 9:  // hot magma liquid swirl\n                        u = 0.5 * (a) / Math.PI;\n                        v = Math.sin(2 * r);\n                        bright = 0;\n                        break;\n                    case 10:  // clockwise flush down the toilet\n                        v = Math.pow(r, 0.1);\n                        u = (1 * a / Math.PI) + r;\n                        bright = 0;\n                        break;\n                    case 11:  // 3D ball\n                        v = x * (3 - Math.sqrt(4 - 5 * r * r)) / (r * r + 1);\n                        u = y * (3 - Math.sqrt(4 - 5 * r * r)) / (r * r + 1);\n                        bright = 7 * -18.7 * (x + y + r * r - (x + y - 1) * Math.sqrt(4 - 5 * r * r) / 3) / (r * r + 1);\n                        break;\n                    default:  // show texture with no deformation or lighting\n                        u = x;\n                        v = y;\n                        bright = 0;\n                        break;\n                }\n                this.mLUT[k++] = (textureWidth * u) & textureWidth - 1;\n                this.mLUT[k++] = (textureHeight * v) & textureHeight - 1;\n                this.mLUT[k++] = Utils.clamp(bright, -255, 255);\n            }\n        }\n        return Promise.all([]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        // this.drawOldPlaneDeformationStar(framebuffer, time >> 3);\n        // this.drawOldPlaneDeformationFloor(framebuffer, time >> 3);\n        this.drawPlaneDeformation(framebuffer, time >> 3, time >> 3);\n    }\n\n    /**\n     * For every frame, go through every pixel and use the reference table (mLUT)\n     * to get which pixel of the texture it should draw at the current pixel.\n     *\n     * TODO:\n     * - Rotate effect via rotozoomer class\n     *   use drawOldPlaneDeformationStar to add another lookup layer [mLUT * 4]\n     *   use drawOldPlaneDeformationFloor to update createLUT(8) floor algorithm\n     *\n     */\n    drawPlaneDeformation(framebuffer: Framebuffer, elapsedTimeY: number, elapsedTimeX: number) {\n\n        for (let pixelCount = 0; pixelCount < framebuffer.framebuffer.length; pixelCount++) {\n            const o = (pixelCount << 1) + pixelCount; // equivalent to 3 * pixelCount\n            const u = this.mLUT[o + 0] + elapsedTimeX; // to look like its animating, add timeDisplacement\n            const v = this.mLUT[o + 1] + elapsedTimeY;\n            const adjustBrightness = this.mLUT[o + 2]; // fade out\n\n            // get the R,G,B values from texture\n            let currentPixel = this.texture.texture[this.texture.width * (v & this.texture.height - 1) + (u & this.texture.width - 1)];\n\n            // only apply brightness if it was calculated\n            if (adjustBrightness !== 0) {\n\n                // disassemble pixel using bit mask to remove color components for greater speed\n                let r = currentPixel & 0xFF;        // get red\n                let g = currentPixel >> 8 & 0xFF;   // get green\n                let b = currentPixel >> 16 & 0xFF;  // get blue\n\n                // make darker or brighter\n                r += adjustBrightness;\n                g += adjustBrightness;\n                b += adjustBrightness;\n\n                // constrain RGB to make sure they are within 0-255 color range\n                r = Utils.clamp(r, 0, 255);\n                g = Utils.clamp(g, 0, 255);\n                b = Utils.clamp(b, 0, 255);\n\n                // reassemble colors back into pixel\n                currentPixel = new Color(r, g, b, 255).toPackedFormat();\n            }\n\n            // put texture pixel on buffer screen\n            framebuffer.framebuffer[pixelCount] = currentPixel;\n        }\n    }\n\n    /**\n     *\n     * Previous Plane deformation without lookup tables for reference\n     *\n     * http://sol.gfxile.net/gp/ch17.html\n     * TODO:\n     * - better textures\n     * - precalc lookup tables\n     * - fadeout\n     * - substraction to create black holes\n     */\n    drawOldPlaneDeformationFloor(framebuffer: Framebuffer, elapsedTime: number) {\n        /*\n        mLUT(8)\n            u = x / Math.abs(y);\n            v = 1 / Math.abs(y);\n            bright = 10 * -v;\n        */\n        let i = 0;\n        for (let y = 0; y < framebuffer.height; y++) {\n            const ydist = (y - framebuffer.height / 2);\n            const v = (((1 / Math.abs(ydist / 100 * 0.02) + elapsedTime * 0.069) % 256) + 256) % 256;\n            const alpha = 1 - Math.min(1, (1 / Math.abs(ydist / 10)));\n            for (let x = 0; x < framebuffer.width; x++) {\n                const xdist = (x - (framebuffer.width / 2));\n                const u = (((((xdist / framebuffer.width) / Math.abs(ydist / 100 * 0.02))) % 256) + 256) % 256;\n                const color1 = this.texture.texture[(u | 0) + (v | 0) * 256];\n                const r = (((color1 >> 0) & 0xff) * (alpha)) | 0;\n                const g = (((color1 >> 8) & 0xff) * (alpha)) | 0;\n                const b = (((color1 >> 16) & 0xff) * (alpha)) | 0;\n                framebuffer.framebuffer[i++] = r | g << 8 | b << 16 | 255 << 24;\n            }\n        }\n    }\n\n    drawOldPlaneDeformationStar(framebuffer: Framebuffer, elapsedTime: number) {\n        let i = 0;\n        for (let y = 0; y < framebuffer.height; y++) {\n            for (let x = 0; x < framebuffer.width; x++) {\n                const xdist = (x - (framebuffer.width / 2)) / (framebuffer.width / 2);\n                const ydist = (y - framebuffer.height / 2) / (framebuffer.height / 2);\n                const alpha = 1;// 1 - Math.min(1, (1 / Math.abs(ydist / 10)));\n                const a = Math.atan2(ydist, xdist) + elapsedTime * 0.0004;\n                const v = (a * 3 / Math.PI + elapsedTime * 0.0004) * 128 % 256;\n                const d = Math.sqrt(xdist * xdist + ydist * ydist);\n                const u = (1 / (d + 0.5 + 0.5 * Math.sin(5 * a)) * 32 + elapsedTime * 0.03) % 256;\n                const color1 = this.texture.texture[(u | 0) + (v | 0) * 256];\n                const r = (((color1 >> 0) & 0xff) * (alpha)) | 0;\n                const g = (((color1 >> 8) & 0xff) * (alpha)) | 0;\n                const b = (((color1 >> 16) & 0xff) * (alpha)) | 0;\n                framebuffer.framebuffer[i++] = r | g << 8 | b << 16 | 255 << 24;\n            }\n        }\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Vector3f } from '../../math';\nimport { Color } from '../../core/Color';\n\nexport class PlasmaScene extends AbstractScene {\n\n    private GRADIENTLEN = 1500;\n\n    // swing/wave function parameters\n    private SWINGLEN = this.GRADIENTLEN * 3;\n    private SWINGMAX = this.GRADIENTLEN / 2 - 1;\n\n    // gradient & swing curve arrays\n    private colorGrad: Array<number>;\n    private swingCurve: Array<number>;\n\n    public init(): Promise<any> {\n        this.makeGradient(this.GRADIENTLEN);\n        this.makeSwingCurve(this.SWINGLEN, this.SWINGMAX);\n        return Promise.all([]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.drawPlasma(framebuffer, time);\n        // this.drawOldSchoolPlasma(framebuffer, Date.now());\n    }\n\n    // fill the given array with a nice swingin' curve\n    // three cos waves are layered together for that\n    // the wave \"wraps\" smoothly around\n    makeSwingCurve(arrlen: number, maxval: number) {\n        const factor1 = 2;\n        const factor2 = 3;\n        const factor3 = 6;\n\n        this.swingCurve = new Array<number>(this.SWINGLEN);\n\n        const halfmax = maxval / factor1;\n\n        for (let i = 0; i < arrlen; i++) {\n            const ni = i * (Math.PI * 2) / arrlen; // ni goes [0..TWO_PI] -> one complete cos wave\n            this.swingCurve[i] = Math.round(\n                Math.cos(ni * factor1) *\n                Math.cos(ni * factor2) *\n                Math.cos(ni * factor3) *\n                halfmax + halfmax);\n        }\n    }\n\n    // create a smooth, colorful gradient by cosinus curves in the RGB channels\n    makeGradient(arrlen: number) {\n        // random between 1 and 5\n        const rf = 2;\n        const gf = 4;\n        const bf = 4;\n\n        // random between 0 and gradient length\n        const rd = 818; // 0;\n        const gd = 1095; // arrlen / gf;\n        const bd = 1351; // arrlen / bf / 2;\n\n        this.colorGrad = new Array<number>(this.GRADIENTLEN);\n\n        // fill gradient array\n        for (let i = 0; i < arrlen; i++) {\n            const r = this.cos256(arrlen / rf, i + rd);\n            const g = this.cos256(arrlen / gf, i + gd);\n            const b = this.cos256(arrlen / bf, i + bd);\n            this.colorGrad[i] = new Color(r, g, b, 255).toPackedFormat();\n        }\n    }\n\n    // helper: get cosinus sample normalized to 0..255\n    private cos256(amplitude: number, x: number) {\n        return Math.trunc(Math.cos(x * (Math.PI * 2) / amplitude) * 127 + 127);\n    }\n\n    // helper: get a swing curve sample\n    private swing(i: number) {\n        return this.swingCurve[i % this.SWINGLEN];\n    }\n\n    // helper: get a gradient sample\n    private gradient(i: number) {\n        return this.colorGrad[i % this.GRADIENTLEN];\n    }\n\n    drawPlasma(framebuffer: Framebuffer, time: number) {\n        let i = 0;\n        const t = Math.trunc(time >> 3);\n        const swingT = this.swing(t);\n\n        for (let y = 0; y < framebuffer.height; y++) {\n            const swingY = this.swing(y);\n            const swingYT = this.swing(y + t);\n            for (let x = 0; x < framebuffer.width; x++) {\n                // this is where the magic happens: map x, y, t around\n                // the swing curves and lookup a color from the gradient\n                // the \"formula\" was found by a lot of experimentation\n                framebuffer.framebuffer[i++] = this.gradient(this.swing(\n                    this.swing(x + swingT) + swingYT) +\n                    this.swing(this.swing(x + t) + swingY));\n            }\n        }\n    }\n\n    public drawOldSchoolPlasma(framebuffer: Framebuffer, elapsedTime: number) {\n        const time = elapsedTime * 0.0007 * 1.0;\n        const lineDirection = new Vector3f(Math.sin(time), Math.cos(time), 0);\n        const radialWaveCenter = new Vector3f(470.0 / 2.0, 230.0 / 2.0, 0).add(new Vector3f(470.0 / 2.0 *\n            Math.sin(-time), 230.0 / 2.0 * Math.cos(-time), 0));\n\n        const difference = new Vector3f(0, 0, 0);\n        let index = 0;\n        for (let y = 0; y < framebuffer.height; y++) {\n            for (let x = 0; x < framebuffer.width; x++) {\n                const directionalWave = Math.sin(((x * lineDirection.x + y * lineDirection.y) * 0.02 + time) + 1.0) * 0.5;\n                difference.x = x - radialWaveCenter.x;\n                difference.y = y - radialWaveCenter.y;\n                const radialWave = (Math.cos(difference.length() * 0.03) + 1.0) * 0.5;\n                const waveSum: number = (radialWave + directionalWave) * 0.5;\n\n                const red = (Math.cos(Math.PI * waveSum / 0.5 + time) + 1.0) * 0.5 * 255;\n                const green = (Math.sin(Math.PI * waveSum / 0.5 + time) + 1.0) * 0.5 * 255;\n                const blue = (Math.sin(time) + 1.0) * 0.5 * 255;\n\n                framebuffer.framebuffer[index++] = 255 << 24 | blue << 16 | green << 8 | red;\n            }\n        }\n    }\n\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Cube } from '../../geometrical-objects/Cube';\nimport { Dodecahedron } from '../../geometrical-objects/Dodecahedron';\nimport { Pyramid } from '../../geometrical-objects/Pyramid';\nimport { Sphere } from '../../geometrical-objects/Sphere';\nimport { Matrix4f, Vector3f } from '../../math';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture, TextureUtils } from '../../texture';\nimport { Color } from '../../core/Color';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\n\n/**\n * TODO: extract lens into effect class\n */\nexport class RazorScene extends AbstractScene {\n\n    private texture10: Texture;\n    private texture11: Texture;\n    private texture13: Texture;\n    private dirt: Texture;\n    private noise: Texture;\n\n    private cube: Cube;\n    private dodecahedron: Dodecahedron;\n    private pyramid: Pyramid;\n    private icosahedron: Sphere; // Icosahedron;\n\n    private accumulationBuffer: Uint32Array;\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n\n        this.cube = new Cube();\n        this.dodecahedron = new Dodecahedron();\n        this.pyramid = new Pyramid();\n        this.icosahedron = new Sphere(6, 10);\n\n        return Promise.all([\n            TextureUtils.load(require('./assets/spark.png'), true).then(texture => this.texture10 = texture),\n            TextureUtils.load(require('./assets/ring.png'), true).then(texture => this.texture11 = texture),\n            TextureUtils.load(require('./assets/bokeh.png'), true).then(texture => this.texture13 = texture),\n            TextureUtils.load(require('./assets/dirt.png'), true).then(texture => this.dirt = texture),\n            TextureUtils.generateProceduralNoise().then(texture => this.noise = texture),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n\n        this.reproduceRazorScene(framebuffer, time * 0.0025, [\n            { tex: this.texture10, scale: 0.0, alpha: 1.0 },\n            { tex: this.texture11, scale: 2.3, alpha: 0.5 },\n            { tex: this.texture13, scale: 1.6, alpha: 0.25 },\n            { tex: this.texture13, scale: 0.7, alpha: 0.22 },\n            { tex: this.texture13, scale: -0.4, alpha: 0.22 },\n        ], this.dirt);\n\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        // framebuffer.drawTexture(0, 0, texture3, 0.75);\n        framebuffer.drawScaledTextureClipBi(0, 0, framebuffer.width, framebuffer.height, texture3, .75);\n\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n        framebuffer.noise(time, this.noise, 0.04);\n    }\n\n    public reproduceRazorScene(framebuffer: Framebuffer, elapsedTime: number, texture: Array<{ tex: Texture, scale: number, alpha: number }>, dirt: Texture): void {\n        // camerea:\n        // http://graphicsrunner.blogspot.de/search/label/Water\n        framebuffer.clearColorBuffer(72 | 56 << 8 | 48 << 16 | 255 << 24);\n        framebuffer.clearDepthBuffer();\n\n        let modelViewMartrix: Matrix4f;\n\n        const camera = Matrix4f.constructTranslationMatrix(0, 0, -6.4 - 5 * (Math.sin(elapsedTime * 0.06) * 0.5 + 0.5)).multiplyMatrix(\n            Matrix4f.constructXRotationMatrix((Math.sin(elapsedTime * 0.08) * 0.5 + 0.5) * 0.5).multiplyMatrix(\n                Matrix4f.constructYRotationMatrix(elapsedTime * 0.1)));\n\n        let scale = 2.0;\n        modelViewMartrix = Matrix4f.constructYRotationMatrix(elapsedTime * 0.2).multiplyMatrix(Matrix4f.constructScaleMatrix(scale, scale, scale));\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(0, 1.0, 0).multiplyMatrix(modelViewMartrix.multiplyMatrix(Matrix4f.constructXRotationMatrix(-elapsedTime * 0.2)));\n        modelViewMartrix = camera.multiplyMatrix(\n            modelViewMartrix);\n\n\n        let model = this.dodecahedron.getMesh();\n        this.renderingPipeline.draw(framebuffer, model, modelViewMartrix);\n\n        const yDisplacement = -1.5;\n        const distance = 2.8;\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(distance, yDisplacement + 1.0, distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(modelViewMartrix);\n\n        model = this.icosahedron.getMesh();\n        this.renderingPipeline.draw(framebuffer, model, modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale * 0.5, scale * 2, scale * 0.5);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-distance, yDisplacement + 1, distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(modelViewMartrix);\n\n        // TODO:  store Mesh inside cube instance and use cube.draw(framebuffer);\n        model = this.cube.getMesh();\n        this.renderingPipeline.draw(framebuffer, model, modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(distance, yDisplacement + 0.5, -distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(modelViewMartrix);\n\n        model = this.cube.getMesh();\n        this.renderingPipeline.draw(framebuffer, model, modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-distance, yDisplacement + 0.5, -distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(modelViewMartrix);\n\n        model = this.pyramid.getMesh();\n        this.renderingPipeline.draw(framebuffer, model, modelViewMartrix);\n\n        /**\n         * SHADOWS\n         */\n        this.renderingPipeline.enableLighting(false);\n        this.renderingPipeline.setColor(Color.DARK_GRAY);\n\n        scale = 2.0;\n        modelViewMartrix = Matrix4f.constructYRotationMatrix(elapsedTime * 0.2).multiplyMatrix(Matrix4f.constructScaleMatrix(scale, scale, scale));\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(0, 1.0, 0).multiplyMatrix(modelViewMartrix.multiplyMatrix(Matrix4f.constructXRotationMatrix(-elapsedTime * 0.2)));\n        modelViewMartrix = camera.multiplyMatrix(\n            Matrix4f.constructShadowMatrix().multiplyMatrix(modelViewMartrix));\n\n            this.renderingPipeline.draw(framebuffer, this.dodecahedron.getMesh(), modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-distance, yDisplacement + 0.5, -distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(\n            Matrix4f.constructShadowMatrix().multiplyMatrix(modelViewMartrix));\n\n            this.renderingPipeline.draw(framebuffer, this.pyramid.getMesh(), modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(distance, yDisplacement + 0.5, -distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(\n            Matrix4f.constructShadowMatrix().multiplyMatrix(modelViewMartrix));\n\n            this.renderingPipeline.draw(framebuffer, this.cube.getMesh(), modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale * 0.5, scale * 2, scale * 0.5);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(-distance, yDisplacement + 1, distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(\n            Matrix4f.constructShadowMatrix().multiplyMatrix(modelViewMartrix));\n\n            this.renderingPipeline.draw(framebuffer, this.cube.getMesh(), modelViewMartrix);\n\n        scale = 1.0;\n        modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale);\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(distance, yDisplacement + 1.0, distance).multiplyMatrix(modelViewMartrix);\n        modelViewMartrix = camera.multiplyMatrix(\n            Matrix4f.constructShadowMatrix().multiplyMatrix(modelViewMartrix));\n\n            this.renderingPipeline.draw(framebuffer, this.icosahedron.getMesh(), modelViewMartrix);\n\n        this.renderingPipeline.enableLighting(true);\n\n        const lensflareScreenSpace = framebuffer.project(camera.multiply(new Vector3f(12.0, 4.0, 0)));\n\n        framebuffer.drawLensFlare(lensflareScreenSpace, elapsedTime * 100, texture, dirt);\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture, TextureUtils } from '../../texture';\n\nexport class RotoZoomerScene extends AbstractScene {\n\n    private logoTexture: Texture;\n\n    public init(): Promise<any> {\n        return Promise.all([\n            /*TextureUtils.load(require('../../assets/logo.png'), false).then(\n                (texture: Texture) => this.logoTexture = texture\n            ),*/\n            TextureUtils.load(require('../../assets/xray.png'), false).then(\n                (texture: Texture) => this.logoTexture = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.drawRotoZoomer(framebuffer, time);\n    }\n\n    drawRotoZoomer(framebuffer: Framebuffer, time: number) {\n        const scale = Math.sin(time * 0.0005) + 1.1;\n\n        const yStepX = Math.sin(time * 0.0003) * scale;\n        const yStepY = Math.cos(time * 0.0003) * scale;\n\n        const xStepX = yStepY;\n        const xStepY = -yStepX;\n\n        let texYCoord = Math.sin(time * 0.0002) * 512;\n        let texXCoord = Math.cos(time * 0.0002) * 512;\n\n        let texYCoordInner = 0;\n        let texXCoordInner = 0;\n        let framebufferPos = 0;\n\n        for (let y = 0; y < framebuffer.height; y++) {\n            texXCoordInner = texXCoord;\n            texYCoordInner = texYCoord;\n\n            for (let x = 0; x < framebuffer.width; x++) {\n                framebuffer.framebuffer[framebufferPos++] = this.logoTexture.texture[(texXCoordInner & 127) + (texYCoordInner & 127) * 128];\n\n                texXCoordInner += xStepX;\n                texYCoordInner += xStepY;\n            }\n\n            texXCoord += yStepX;\n            texYCoord += yStepY;\n        }\n    }\n\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { Texture, TextureUtils } from '../../texture';\n\nexport class FontRenderer {\n\n    private fontTexture: Texture;\n    private charToIndex: Map<number, number>;\n\n    constructor(\n        private framebuffer: Framebuffer,\n        private width: number,\n        private height: number,\n        fonts: string,\n        private file: any) {\n        this.charToIndex = new Map<number, number>();\n\n        for (let x: number = 0; x < fonts.length; x++) {\n            this.addCharInex(fonts.charCodeAt(x), x);\n        }\n    }\n\n    public init(): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(this.file, true).then(\n                (texture: Texture) => this.fontTexture = texture\n            )\n        ]);\n    }\n\n    public draw(): void {\n        this.framebuffer.drawTextureRectFastAlpha(0, 0, 0, 0, 50, 50, this.fontTexture);\n    }\n\n    public drawText2(x: number, y: number, text: string): void {\n        let xpos: number = x;\n        const xFonts: number = this.fontTexture.width / this.width;\n\n        for (let i: number = 0; i < text.length; i++) {\n            const asciiCode: number = text.charCodeAt(i);\n            const index: number = this.charToIndex.has(asciiCode) ? this.charToIndex.get(asciiCode) : 0;\n            const tx: number = Math.floor(index % xFonts) * this.width;\n            const ty: number = Math.floor(index / xFonts) * this.height;\n            this.framebuffer.drawTextureRectFastAlpha(xpos, y, tx, ty, this.width, this.height, this.fontTexture);\n            xpos += this.width;\n        }\n    }\n\n    public drawText(framebuffer: Framebuffer, x: number, y: number, text: string, time: number, sine: boolean = true): void {\n        let xpos: number = x;\n        const xFonts: number = this.fontTexture.width / this.width;\n\n        const speed: number = 0.07;\n        const xOff: number = Math.floor(time * speed) % this.width;\n        const textOff: number = Math.floor((time * speed) / this.width) % text.length;\n        xpos -= xOff;\n        for (let i: number = 0; i < Math.floor(this.framebuffer.width / this.width + 1); i++) {\n            const asciiCode: number = text.charCodeAt((i + textOff) % text.length);\n            const index: number = this.charToIndex.has(asciiCode) ? this.charToIndex.get(asciiCode) : 0;\n            const tx: number = Math.floor(index % xFonts) * this.width;\n            const ty: number = Math.floor(index / xFonts) * this.height;\n            this.drawTextureRectFastAlpha(framebuffer, xpos,\n                y, tx, ty, this.width, this.height, this.fontTexture, time, sine);\n            xpos += this.width;\n        }\n    }\n\n    public drawTextureRectFastAlpha(framebuffer: Framebuffer, xs: number, ys: number, xt: number, yt: number,\n        width: number, height: number, texture: Texture, time: number, sine: boolean = true): void {\n        const startW: number = Math.max(0, 0 - xs);\n        const endW: number = Math.min(xs + width, framebuffer.width) - xs;\n        for (let w: number = startW; w < endW; w++) {\n\n            const yDisp: number = sine ? Math.round(Math.sin(time * 0.004 + (xs + w) * 0.013) * 30) : 0;\n            let texIndex: number = xt + w + yt * texture.width;\n            let frIndex: number = xs + w + (ys + yDisp) * framebuffer.width;\n\n            for (let h: number = 0; h < height; h++) {\n                const color: number = texture.texture[texIndex];\n                if (color & 0xff000000) {\n                    framebuffer.framebuffer[frIndex] = color;\n                }\n\n                texIndex += texture.width;\n                frIndex += this.framebuffer.width;\n            }\n\n        }\n\n    }\n\n    private addCharInex(char: number, index: number): void {\n        this.charToIndex.set(char, index);\n    }\n}\n","import { Color } from '../../core/Color';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Vector2f } from '../../math/Vector2f';\nimport RandomNumberGenerator from '../../RandomNumberGenerator';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { FontRenderer } from './FontRenderer';\n\nexport class SineScrollerScene extends AbstractScene {\n\n    private texture2: Texture;\n    private startTime: number;\n    private fontRenderer: FontRenderer;\n    private fontRenderer2: FontRenderer;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.startTime = Date.now();\n\n        const fonts: string =\n            'ABCDEFGHIJ' +\n            'KLMNOPQRST' +\n            'UVWXYZ@+# ' +\n            '0123456789' +\n            '!\\'()?-/.,';\n        this.fontRenderer = new FontRenderer(\n            framebuffer,\n            32, 34, fonts,\n            require('./assets/fraxionFont.png')\n        );\n\n        const fonts2: string =\n            'ABCDEFGHIJ' +\n            'KLMNOPQRST' +\n            'UVWXYZ 012' +\n            '3456789*:?' +\n            '!-(),\\'.+~<' +\n            '>>#// ';\n        this.fontRenderer2 = new FontRenderer(\n            framebuffer,\n            16, 18, fonts2,\n            require('./assets/anarchyFont.png')\n        );\n        /*\n                const fonts: string =\n                'ABCDEFGHIJ' +\n                'KLMNOPQRST' +\n                'UVWXYZ!?:;' +\n                '0123456789' +\n                '\"(),-.\\'@# ';\n                this.fontRenderer = new FontRenderer(\n                    framebuffer,\n                    32, 25, fonts,\n                    require('./assets/dragonsFont.png')\n                );*/\n        return Promise.all([\n            TextureUtils.load(require('../../assets/hoodlumLogo.png'), true).then(\n                (texture: Texture) => this.texture2 = texture\n            ),\n            this.fontRenderer.init(),\n            this.fontRenderer2.init()\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.drawStarField(framebuffer, time);\n\n        framebuffer.drawTexture(framebuffer.width/2 - this.texture2.width/2, 0, this.texture2, 1.0);\n\n        this.fontRenderer.drawText(framebuffer, 0, 102, ' # TEAM GENESIS # IS BACK IN 2018 WITH A NEW PC FIRST! \\'STAR WARS - EMPIRE AT WAR\\' DO YOU LIKE THIS?    ', time);\n        this.fontRenderer2.drawText(framebuffer, 0, framebuffer.height - 20,\n            '   * WE REALLY LOVE SCROLLERS * HOW ABOUT YOU? THIS PRODUCTION IS FROM HOODLUM' +\n            '~< LETS GO ON WITH THE GENERAL BLAH BLAH      ', time * 1.6, false);\n\n        // animated rainbow horizontal lines\n        const horizontalUnits = framebuffer.width / 16;\n        for (let i: number = 0; i < horizontalUnits; i++) {\n            const myTime = time * 0.003;\n            const waveSum = i / horizontalUnits * 0.6;\n            const red = (Math.cos(Math.PI * waveSum / 0.5 + myTime) + 1.0) * 0.5 * 255;\n            const green = (Math.sin(Math.PI * waveSum / 0.5 + myTime) + 1.0) * 0.5 * 255;\n            const blue = (Math.sin(myTime) + 1.0) * 0.5 * 255;\n\n            const color: number = 255 << 24 | blue << 16 | green << 8 | red;\n            framebuffer.drawRect(i * 16, 68, 16, color);\n            framebuffer.drawRect(((horizontalUnits-1) - i) * 16, 168, 16, color);\n        }\n    }\n\n    public drawStarField(frambuffer: Framebuffer, elapsedTime: number): void {\n        const darkStarColor = 255 << 24 | 128 << 16 | 128 << 8 | 128;\n        const lightStarColor = 255 << 24 | 255 << 16 | 255 << 8 | 255;\n        const backgroundColor = 255 << 24 | 0 << 16 | 0 << 8 | 0;\n\n        const rng = new RandomNumberGenerator();\n        rng.setSeed(666);\n        const stars = new Array<Vector2f>();\n        const stars2 = new Array<Vector2f>();\n\n        for (let i = 0; i < 100; i++) {\n            stars.push(new Vector2f(rng.getFloat() * frambuffer.width, Math.round(rng.getFloat() * 100 + 68)));\n        }\n\n        for (let i = 0; i < 60; i++) {\n            stars2.push(new Vector2f(rng.getFloat() * frambuffer.width, Math.round(rng.getFloat() * 100 + 68)));\n        }\n\n        frambuffer.clearColorBuffer(backgroundColor);\n        frambuffer.drawRect2(0, 68, frambuffer.width, 100, Color.DARK_BLUE.toPackedFormat());\n\n        for (let i = 0; i < 100; i++) {\n            frambuffer.drawPixel(((stars[i].x + elapsedTime * 0.02) | 0) % frambuffer.width, stars[i].y, darkStarColor);\n        }\n\n        for (let i = 0; i < 60; i++) {\n            frambuffer.drawPixel(((stars2[i].x + elapsedTime * 0.04) | 0) % frambuffer.width, stars2[i].y, lightStarColor);\n        }\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { TorusKnot } from '../../geometrical-objects/TorusKnot';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { Vector4f } from '../../math/Vector4f';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Fog } from '../../shading/fog/Fog';\nimport { LinearFog } from '../../shading/fog/LinearFog';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport RandomNumberGenerator from '../../RandomNumberGenerator';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\n\nexport class TorusKnotTunnelScene extends AbstractScene {\n\n    private noise: Texture;\n    private particleTexture: Texture;\n    private cocoon: Texture;\n    private torusKnot: TorusKnot = new TorusKnot(true);\n    private fog: Fog = new LinearFog(-50, -240, new Vector4f(0.67, 0.4, 0.5, 1.0));\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.FRONT);\n        this.renderingPipeline.setFog(this.fog);\n\n        return Promise.all([\n            TextureUtils.generateProceduralNoise().then((texture: Texture) => this.noise = texture),\n            TextureUtils.load(require('../../assets/cocoon.png'), false).then(\n                (texture: Texture) => this.cocoon = texture\n            ),\n            TextureUtils.generateProceduralParticleTexture2().then(\n                (texture: Texture) => this.particleTexture = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        this.renderingPipeline.setCullFace(CullFace.FRONT);\n        this.torusTunnel(framebuffer, time * 0.019);\n        framebuffer.drawScaledTextureClipAdd(\n            framebuffer.width / 2 - this.cocoon.width / 2,\n            framebuffer.height / 2 - this.cocoon.height / 2,\n            this.cocoon.width, this.cocoon.height, this.cocoon, 0.67);\n\n        // framebuffer.noise(time, this.noise);\n        this.glitchScreen(framebuffer, time * 5, this.noise);\n    }\n\n    public glitchScreen(framebuffer: Framebuffer, elapsedTime: number, texture: Texture, noise: boolean = true): void {\n\n        const glitchFactor = (Math.sin(elapsedTime * 0.00002) * 0.9 + 0.1);\n        const rng = new RandomNumberGenerator();\n        rng.setSeed((elapsedTime / 250) | 0);\n        const texture2 = new Texture();\n        texture2.height = framebuffer.height;\n        texture2.width = framebuffer.width;\n        texture2.texture = framebuffer.framebuffer;\n\n\n        const blockWidth = 20;\n        const horizontalUnits = Math.floor(framebuffer.width / blockWidth);\n        const verticalUnits = Math.floor(framebuffer.height / blockWidth);\n\n        for (let x = 0; x < horizontalUnits; x++) {\n            for (let y = 0; y < verticalUnits; y++) {\n                if (rng.getFloat() > 0.25) {\n                    continue;\n                }\n\n                framebuffer.drawTextureRect(blockWidth * (horizontalUnits - x), blockWidth * ((horizontalUnits * rng.getFloat()) | 0), blockWidth * x, blockWidth * y, blockWidth, blockWidth, texture2.texture, texture2.width, 0.03 + 0.35 * glitchFactor);\n            }\n        }\n\n        if (noise) {\n            for (let x = 0; x < horizontalUnits; x++) {\n                for (let y = 0; y < verticalUnits; y++) {\n                    framebuffer.drawTextureRect(x * blockWidth, y * blockWidth, blockWidth * (Math.round(elapsedTime / 100 + x + y) % 12), 0, blockWidth, blockWidth, texture.texture, texture.width, 0.1 + 0.3 * glitchFactor);\n                }\n            }\n        }\n\n        framebuffer.fastFramebufferCopy(framebuffer.tmpGlitch, framebuffer.framebuffer);\n\n        // now distort the tmpGlitch buffer and render to framebuffer again\n\n        const rng2 = new RandomNumberGenerator();\n\n        for (let k = 0; k < 8; k++) {\n            let yStart = Math.round(rng.getFloat() * 180);\n            const size = 3 + Math.round(rng.getFloat() * 20);\n            rng2.setSeed((elapsedTime / 250) | 0);\n            const scale = rng2.getFloat() * glitchFactor;\n            const off = rng.getFloat() * glitchFactor;\n            for (let y = 0; y < size; y++) {\n                const offset = Math.abs(Math.round(off * 25) + Math.round(rng2.getFloat() * 3)\n                    + Math.round(Math.cos(y * 0.01 + elapsedTime * 0.002 + off) * scale * 5));\n\n                let index = yStart * framebuffer.width;\n                let glIndex = yStart * framebuffer.width + framebuffer.width - offset;\n\n                for (let i = 0; i < Math.max(0, offset); i++) {\n                    framebuffer.framebuffer[index++] = framebuffer.tmpGlitch[glIndex++];\n                }\n\n                glIndex = yStart * framebuffer.width;\n                const count = framebuffer.width - offset;\n\n                for (let i = 0; i < count; i++) {\n                    framebuffer.framebuffer[index++] = framebuffer.tmpGlitch[glIndex++];\n                }\n                yStart++;\n            }\n        }\n    }\n\n    public torusTunnel(framebuffer: Framebuffer, elapsedTime: number): void {\n        framebuffer.clearDepthBuffer();\n\n        const scale = 1.0;\n        const lookAhead: number = 0.4;\n\n        const frame = this.torusFunction3(elapsedTime * 0.02);\n        const frame2 = this.torusFunction3(elapsedTime * 0.02 + lookAhead);\n\n        const tangent = frame2.sub(frame).normalize();\n        let up = frame.add(frame2).normalize();\n        const right = tangent.cross(up).normalize();\n        up = right.cross(tangent).normalize();\n\n        const translation = Matrix4f.constructIdentityMatrix();\n        // translation vector\n        translation.m14 = -frame.x;\n        translation.m24 = -frame.y;\n        translation.m34 = -frame.z;\n\n        const rotation = Matrix4f.constructIdentityMatrix();\n        // x vector\n        rotation.m11 = right.x;\n        rotation.m21 = right.y;\n        rotation.m31 = right.z;\n\n        // y vector\n        rotation.m12 = up.x;\n        rotation.m22 = up.y;\n        rotation.m32 = up.z;\n\n        // z vector\n        rotation.m13 = -tangent.x;\n        rotation.m23 = -tangent.y;\n        rotation.m33 = -tangent.z;\n\n        const finalMatrix = rotation.transpose().multiplyMatrix(translation);\n\n        let modelViewMartrix = Matrix4f.constructScaleMatrix(scale, scale, scale).multiplyMatrix(Matrix4f.constructYRotationMatrix(elapsedTime * 0.035));\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(0, 0, -10).multiplyMatrix(modelViewMartrix.multiplyMatrix(Matrix4f.constructXRotationMatrix(elapsedTime * 0.04)));\n        modelViewMartrix = Matrix4f.constructZRotationMatrix(elapsedTime * 0.01).multiplyMatrix(finalMatrix);\n\n        this.renderingPipeline.draw(framebuffer, this.torusKnot.getMesh(), modelViewMartrix);\n    }\n\n    private torusFunction3(alpha: number): Vector4f {\n        const p = 2;\n        const q = 3;\n        const r = 0.5 * (2 + Math.sin(q * alpha));\n        return new Vector4f(r * Math.cos(p * alpha),\n            r * Math.cos(q * alpha),\n            r * Math.sin(p * alpha)).mul(70);\n    }\n\n}\n","import { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Torus } from '../../geometrical-objects/Torus';\nimport { Matrix4f } from '../../math/Matrix4f';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\n\nexport class TorusScene extends AbstractScene {\n\n    private razorLogo: Texture;\n    private torus: Torus = new Torus();\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        this.renderingPipeline.setCullFace(CullFace.BACK);\n\n        return Promise.all([\n            TextureUtils.load(require('./assets/razor1911.png'), true).then(\n                (texture: Texture) => this.razorLogo = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n\n        this.drawTitanEffect(framebuffer, time);\n        this.shadingTorus(framebuffer, time * 0.02);\n        framebuffer.drawTexture(framebuffer.width / 2 - this.razorLogo.width / 2, 0, this.razorLogo, 1.0);\n    }\n\n    public shadingTorus(framebuffer: Framebuffer, elapsedTime: number): void {\n        framebuffer.clearDepthBuffer();\n\n        let modelViewMartrix: Matrix4f = Matrix4f.constructYRotationMatrix(elapsedTime * 0.05);\n        modelViewMartrix = modelViewMartrix.multiplyMatrix(Matrix4f.constructXRotationMatrix(elapsedTime * 0.08));\n        modelViewMartrix = Matrix4f.constructTranslationMatrix(0, 0, -24).multiplyMatrix(modelViewMartrix);\n\n        this.renderingPipeline.draw(framebuffer, this.torus.getMesh(), modelViewMartrix);\n    }\n\n\n    private drawTitanEffect(framebuffer: Framebuffer, time: number) {\n        framebuffer.clear();\n        const horizontalNum = framebuffer.width / 20;\n        const verticalNum = framebuffer.height / 20;\n\n        for (let x = 0; x < horizontalNum; x++) {\n            for (let y = 0; y < verticalNum; y++) {\n\n                const scale = ((Math.sin(time * 0.004 + x * 0.7 + y * 0.4) + 1) / 2);\n                const size = Math.round(scale * 8 + 1) * 2;\n                const offset = (20 / 2 - size / 2) | 0;\n                const color = 255 << 24 | (85 * scale) << 16 | (55 * scale) << 8 | (55 * scale);\n                framebuffer.drawBox2(x * 20 + offset, y * 20 + offset, size, size, color);\n            }\n        }\n\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { Texture } from '../../texture/Texture';\nimport { TextureUtils } from '../../texture/TextureUtils';\n\n/**\n * TODO: extract twister into effect class\n */\nexport class TwisterScene extends AbstractScene {\n\n    private backgroundTexture: Texture;\n    private logoTexture: Texture;\n\n    public init(): Promise<any> {\n        return Promise.all([\n            TextureUtils.load(require('../../assets/atlantis.png'), false).then(\n                (texture: Texture) => this.backgroundTexture = texture\n            ),\n            TextureUtils.load(require('../../assets/logo.png'), false).then(\n                (texture: Texture) => this.logoTexture = texture\n            ),\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        framebuffer.drawScaledTextureClipBi(\n            0,\n            0,\n            framebuffer.width, framebuffer.height, this.backgroundTexture, 1.0);\n\n        // framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.backgroundTexture.texture);\n        this.draw(framebuffer, this.logoTexture, time);\n    }\n\n    private draw(framebuffer: Framebuffer, texture: Texture, time: number): void {\n        const a: number = time * 0.001;\n        for (let i: number = 10; i < framebuffer.height - 10; i++) {\n            const xoff = (Math.sin(a + i * 0.01) * 50) | 0;\n            const rot = Math.sin(a * 0.4 + i * 0.0021) * Math.PI * 2;\n            let scale = 42;\n            const x1 = (Math.sin(rot) * scale) | 0;\n            const x2 = (Math.sin(Math.PI * 2 / 4 + rot) * scale) | 0;\n            const x3 = (Math.sin(Math.PI * 2 / 4 * 2 + rot) * scale) | 0;\n            const x4 = (Math.sin(Math.PI * 2 / 4 * 3 + rot) * scale) | 0;\n\n            if (x2 > x1) {\n                scale = Math.max(0, Math.sin(Math.PI * 2 / 4 * 1.5 + rot));\n                const dist = x2 - x1;\n                const xPos = x1 + 120 + xoff;\n                this.drawSpan(framebuffer, dist, xPos, i, scale, texture, time);\n            }\n\n            if (x3 > x2) {\n                scale = Math.max(0, Math.sin(Math.PI * 2 / 4 * 2.5 + rot));\n                const dist = x3 - x2;\n                const xPos = x2 + 120 + xoff;\n                this.drawSpan(framebuffer, dist, xPos, i, scale, texture, time);\n            }\n\n            if (x4 > x3) {\n                scale = Math.max(0, Math.sin(Math.PI * 2 / 4 * 3.5 + rot));\n                const dist = x4 - x3;\n                const xPos = x3 + 120 + xoff;\n                this.drawSpan(framebuffer, dist, xPos, i, scale, texture, time);\n            }\n\n            if (x1 > x4) {\n                scale = Math.max(0, Math.sin(Math.PI * 2 / 4 * 4.5 + rot));\n                const dist = x1 - x4;\n                const xPos = x4 + 120 + xoff;\n                this.drawSpan(framebuffer, dist, xPos, i, scale, texture, time);\n            }\n        }\n    }\n\n    private drawSpan(\n        framebuffer: Framebuffer,\n        dist: number,\n        xpos: number,\n        ypos: number,\n        scale: number,\n        texture: Texture,\n        time: number): void {\n        let framebufferIndex = xpos + ypos * framebuffer.width;\n        let textureIndex = (((ypos - time * 0.029) | 0) & 0xff) * texture.width;\n        const textureForwardDifference = texture.width / dist;\n        const hightlight = Math.pow(scale, 11) * 115;\n\n        for (let j = 0; j < dist; j++) {\n            const color = texture.texture[textureIndex | 0];\n\n            const r = Math.min(((color >> 0 & 0xff) * scale) + hightlight, 255);\n            const g = Math.min(((color >> 8 & 0xff) * scale) + hightlight, 255);\n            const b = Math.min(((color >> 16 & 0xff) * scale) + hightlight, 255);\n\n            framebuffer.framebuffer[framebufferIndex] = r | g << 8 | b << 16 | 255 << 24;\n\n            framebufferIndex++;\n            textureIndex += textureForwardDifference;\n        }\n    }\n}\n","import { Color } from '../../core/Color';\nimport { CullFace } from '../../CullFace';\nimport { Framebuffer } from '../../Framebuffer';\nimport { Cube } from '../../geometrical-objects/Cube';\nimport { Matrix4f } from '../../math';\nimport { GouraudShadingRenderingPipeline } from '../../rendering-pipelines/GouraudShadingRenderingPipeline';\nimport { AbstractScene } from '../../scenes/AbstractScene';\nimport { TextureUtils, Texture } from '../../texture/index';\n\n/**\n * TODO: use cube mesh and draw using drawObject2\n */\nexport class VoxelBallsScene extends AbstractScene {\n\n    private static BACKGROUND_COLOR: number = Color.YELLOW.toPackedFormat();\n    private renderingPipeline: GouraudShadingRenderingPipeline;\n    private cubeMesh: Cube = new Cube();\n    private blurred: Texture;\n    private accumulationBuffer: Uint32Array;\n\n    public init(framebuffer: Framebuffer): Promise<any> {\n        this.accumulationBuffer = new Uint32Array(framebuffer.width * framebuffer.height);\n        framebuffer.setCullFace(CullFace.BACK);\n        this.renderingPipeline = new GouraudShadingRenderingPipeline(framebuffer);\n        return Promise.all([\n            TextureUtils.load(require('../../assets/blurredBackground.png'), false).then(\n                (texture: Texture) => this.blurred = texture\n            )\n        ]);\n    }\n\n    public render(framebuffer: Framebuffer, time: number): void {\n        framebuffer.fastFramebufferCopy(framebuffer.framebuffer, this.blurred.texture);\n        this.renderTransparent(framebuffer, time);\n        const texture3: Texture = new Texture(this.accumulationBuffer, framebuffer.width, framebuffer.height);\n        framebuffer.drawTextureFullscreen(texture3, 0.75);\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n    }\n\n    public renderTransparent(framebuffer: Framebuffer, time: number): void {\n\n        framebuffer.clearDepthBuffer();\n\n        const xSteps = 5;\n        const xsteps = 5;\n        const zsteps = 5;\n        for (let x = 0; x < xSteps; x++) {\n            for (let y = 0; y < xsteps; y++) {\n                for (let z = 0; z < zsteps; z++) {\n                    let scale = (Math.sin(x * 0.3 + time * 0.0009) + 1.0) * 0.5 *\n                        (Math.sin(y * 0.4 + time * 0.002) + 1.0) * 0.5 *\n                        (Math.sin(z * 0.3 + time * 0.001) + 1.0) * 0.5;\n                    if (scale < 0.3) {\n                        // continue;\n                    }\n                    scale = 0.8;\n                    const mat =\n                        Matrix4f.constructTranslationMatrix(0, 0, -11).multiplyMatrix(\n                            Matrix4f.constructYRotationMatrix(time * 0.0003).multiplyMatrix(\n                                Matrix4f.constructXRotationMatrix(time * 0.0005).multiplyMatrix(\n                                    Matrix4f.constructZRotationMatrix(time * 0.0004).multiplyMatrix(\n                                        Matrix4f.constructTranslationMatrix(x - xSteps / 2 + 0.5, y - xsteps / 2 + 0.5, z - zsteps / 2 + 0.5)\n                                            .multiplyMatrix(\n                                                Matrix4f.constructScaleMatrix(scale, scale, scale)))))); // .multiplyMatrix(\n                    //       Matrix4f.constructYRotationMatrix(elapsedTime * 0.05)).multiplyMatrix(\n                    //           Matrix4f.constructXRotationMatrix(elapsedTime * 0.08)));\n\n                    this.renderingPipeline.draw(framebuffer, this.cubeMesh.getMesh(), mat);\n                }\n            }\n        }\n        framebuffer.fastFramebufferCopy(this.accumulationBuffer, framebuffer.framebuffer);\n    }\n\n\n\n}\n","export class FullscreenUtils {\n\n    public static toggleFullscreen(element: Element): void {\n        if (!this.fullscreen) {\n            FullscreenUtils.enterFullscreen(element);\n            this.fullscreen = true;\n            this.setStyle(element, 'cursor: none');\n        } else {\n            FullscreenUtils.exitFullscreen();\n            this.fullscreen = false;\n            this.setStyle(element, 'cursor: zoom-in');\n        }\n    }\n\n    private static setStyle(el, css) {\n        el.setAttribute('style', el.getAttribute('style') + ';' + css);\n    }\n\n    public static enterFullscreen(element: Element): void {\n        if (element.requestFullscreen) {\n            element.requestFullscreen();\n        } else if (element.mozRequestFullScreen) {\n            element.mozRequestFullScreen();\n        } else if (element.msRequestFullscreen) {\n            element.msRequestFullscreen();\n        } else if (element.webkitRequestFullScreen) {\n            element.webkitRequestFullScreen();\n        }\n    }\n\n    public static exitFullscreen(): void {\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        } else if (document.webkitExitFullscreen) {\n            document.webkitExitFullscreen();\n        }\n    }\n\n    private static fullscreen: boolean = false;\n\n}\n","import { Vector4f } from '../math/index';\nimport { FlatShadedFace } from './FlatShadedFace';\nimport { FlatshadedMesh } from './FlatshadedMesh';\n\nexport class AbstractGeometricObject {\n\n    protected mesh: FlatshadedMesh;\n    protected inverse: boolean;\n\n    protected buildMesh(points: Array<Vector4f>, index: Array<number>, inverse: boolean = false): void {\n        this.inverse = inverse;\n        const normals: Array<Vector4f> = new Array<Vector4f>();\n\n        // todo use index array for normals to have less normal objects\n        // compute normal and check wheter the normal already exists. then reuse inded\n        // maybe have a similarity faktor to reuse similar normals\n        for (let i = 0; i < index.length; i += 3) {\n            const normal = points[index[i + 1]].sub(points[index[i]]).cross(points[index[i + 2]].sub(points[index[i]]));\n            normals.push(this.inverse ? normal.normalize().mul(-1) : normal.normalize()); // normalize?\n        }\n\n\n        const faces: Array<FlatShadedFace> = new Array<FlatShadedFace>();\n\n        for (let i = 0; i < index.length; i += 3) {\n\n            faces.push({\n                n1: i / 3,\n                n2: i / 3,\n                n3: i / 3,\n                v1: index[0 + i],\n                v2: index[1 + i],\n                v3: index[2 + i],\n            });\n        }\n\n        // Create class for objects\n        this.mesh = {\n            points,\n            normals,\n            faces,\n            transformedPoints: points.map(() => new Vector4f(0, 0, 0, 0)),\n            transformedNormals: normals.map(() => new Vector4f(0, 0, 0, 0))\n        };\n    }\n\n    public getMesh(): FlatshadedMesh {\n        return this.mesh;\n    }\n\n}\n","import { Vector4f } from '../math/Vector4f';\nimport { AbstractGeometricObject } from './AbstractGeometricObject';\n\nexport class Cube extends AbstractGeometricObject {\n\n    public constructor() {\n        super();\n        const a: number = 0.5;\n\n        const points: Array<Vector4f> = [\n            new Vector4f(-a, -a, -a),\n            new Vector4f(a, -a, -a),\n            new Vector4f(a, a, -a),\n            new Vector4f(-a, a, -a),\n            new Vector4f(-a, -a, a),\n            new Vector4f(a, -a, a),\n            new Vector4f(a, a, a),\n            new Vector4f(-a, a, a)\n        ];\n\n        const index: Array<number> = [\n            0, 2, 1, 0, 3, 2, 5, 7, 4, 5, 6, 7, 1, 6, 5, 1, 2, 6, 4, 3, 0, 4, 7, 3, 4, 1, 5, 4, 0, 1, 3, 6, 2, 3, 7, 6\n        ];\n\n        this.buildMesh(points, index);\n    }\n\n}\n","import { AbstractGeometricObject } from './AbstractGeometricObject';\nimport { Vector4f } from '../math/Vector4f';\n\nexport class Dodecahedron extends AbstractGeometricObject {\n\n    constructor() {\n\n        super();\n\n        // https://github.com/chiptune/lol3d/blob/master/index.html\n        const phi = (1 + Math.sqrt(5)) * 0.5;\n        const a = 1;\n        const b = 1 / phi;\n        const c = 2 - phi;\n\n        const points: Array<Vector4f> = [\n            new Vector4f(c, 0, a), new Vector4f(-c, 0, a), new Vector4f(-b, b, b), new Vector4f(0, a, c),\n            new Vector4f(b, b, b), new Vector4f(b, -b, b), new Vector4f(0, -a, c), new Vector4f(-b, -b, b),\n            new Vector4f(c, 0, -a), new Vector4f(-c, 0, -a), new Vector4f(-b, -b, -b), new Vector4f(0, -a, -c),\n            new Vector4f(b, -b, -b), new Vector4f(b, b, -b), new Vector4f(0, a, -c), new Vector4f(-b, b, -b),\n            new Vector4f(1, c, 0), new Vector4f(-a, c, 0), new Vector4f(-1, -c, 0), new Vector4f(a, -c, 0)\n        ];\n\n        const index: Array<number> = [\n            0, 4, 1, 1, 3, 2, 1, 4, 3, 1, 7, 0,\n            0, 6, 5, 0, 7, 6, 8, 12, 9, 9, 11, 10,\n            9, 12, 11, 9, 15, 8, 8, 14, 13, 8, 15, 14,\n            14, 3, 13, 13, 4, 16, 13, 3, 4, 3, 14, 2,\n            2, 15, 17, 2, 14, 15, 11, 6, 10, 10, 7, 18,\n            10, 6, 7, 6, 11, 5, 5, 12, 19, 5, 11, 12,\n            16, 4, 19, 19, 0, 5, 19, 4, 0, 19, 12, 16,\n            16, 8, 13, 16, 12, 8, 17, 15, 18, 18, 9, 10,\n            18, 15, 9, 18, 7, 17, 17, 1, 2, 17, 7, 1\n        ];\n\n        this.buildMesh(points, index);\n    }\n\n}\n","import { Vector4f } from '../math/Vector4f';\nimport { AbstractGeometricObject } from './AbstractGeometricObject';\n\nexport class Pyramid extends AbstractGeometricObject {\n\n    public constructor() {\n        super();\n        const a = 0.5;\n\n        const points: Array<Vector4f> = [\n            new Vector4f(0, a, 0),\n            new Vector4f(a, -a, -a),\n            new Vector4f(-a, -a, -a),\n            new Vector4f(a, -a, a),\n            new Vector4f(-a, -a, a)\n        ];\n\n        const index: Array<number> = [\n            0, 1, 2,\n            0, 3, 1,\n            0, 4, 3,\n            0, 2, 4\n        ];\n\n        this.buildMesh(points, index);\n    }\n\n}\n","import { Vector4f } from '../math/Vector4f';\nimport { AbstractGeometricObject } from './AbstractGeometricObject';\n\nexport class Sphere extends AbstractGeometricObject {\n\n    public constructor(xSteps: number = 16, ySteps: number = 16) {\n        super();\n\n        const points: Array<Vector4f> = [];\n\n        const STEPS = xSteps;\n        const STEPS2 = ySteps;\n        for (let i = 0; i <= STEPS; i++) {\n            for (let r = 0; r < STEPS2; r++) {\n                points.push(this.sphereFunction(-i * Math.PI / STEPS - Math.PI / 2, -r * 2 * Math.PI / STEPS2));\n            }\n        }\n\n        const index: Array<number> = [];\n\n        for (let j = 0; j < STEPS; j++) {\n            for (let i = 0; i < STEPS2; i++) {\n                index.push(((STEPS2 * j) + (1 + i) % STEPS2)); // 2\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 1\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n\n                index.push(((STEPS2 * j) + STEPS2 + (0 + i) % STEPS2)); // 4\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2)); // 3\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2)); // 5\n            }\n        }\n\n        this.buildMesh(points, index);\n    }\n\n    private sphereFunction(theta: number, phi: number): Vector4f {\n        return new Vector4f(Math.cos(theta) * Math.cos(phi),\n            Math.cos(theta) * Math.sin(phi),\n            Math.sin(theta), 1.0);\n    }\n\n}\n","import { Vector4f } from '../math/Vector4f';\nimport { AbstractGeometricObject } from './AbstractGeometricObject';\nimport { Vector3f } from '../math/Vector3f';\n\nexport class Torus extends AbstractGeometricObject {\n\n    public constructor(invert: boolean = false) {\n        super();\n\n        const points: Array<Vector4f> = [];\n\n        const STEPS = 15;\n        const STEPS2 = 12;\n        // find a better solution for inversion\n        // maybe configuration by constructor of base class and construction of geometry\n        // in template method pattern method\n        this.inverse = invert;\n\n        for (let i = 0; i < STEPS; i++) {\n            const frame = this.torusFunction(i * 2 * Math.PI / STEPS);\n            const frame2 = this.torusFunction(i * 2 * Math.PI / STEPS + 0.1);\n            const up = new Vector3f(0.0, 4.0, 0);\n            const right = frame2.sub(frame).cross(up);\n\n            for (let r = 0; r < STEPS2; r++) {\n                const pos = up.mul(Math.sin(r * 2 * Math.PI / STEPS2)).add(right.mul(Math.cos(r * 2 * Math.PI / STEPS2))).add(frame);\n                points.push(new Vector4f(pos.x, pos.y, pos.z, 1.0));\n            }\n        }\n\n        const index: Array<number> = [];\n\n        for (let j = 0; j < STEPS; j++) {\n            for (let i = 0; i < STEPS2; i++) {\n                index.push(((STEPS2 * j) + (1 + i) % STEPS2) % points.length);\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2) % points.length);\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2) % points.length);\n                index.push(((STEPS2 * j) + STEPS2 + (0 + i) % STEPS2) % points.length);\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2) % points.length);\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2) % points.length);\n            }\n        }\n\n        this.buildMesh(points, index);\n    }\n\n    public torusFunction(alpha: number): Vector3f {\n        return new Vector3f(Math.sin(alpha) * 10, 0, Math.cos(alpha) * 10);\n    }\n\n}\n","import { Vector4f } from '../math/Vector4f';\nimport { AbstractGeometricObject } from './AbstractGeometricObject';\n\nexport class TorusKnot extends AbstractGeometricObject {\n\n    public constructor(inverse: boolean = false) {\n        super();\n\n        const points: Array<Vector4f> = [];\n\n        const STEPS = 80;\n        const STEPS2 = 8;\n        for (let i = 0; i < STEPS; i++) {\n            const frame = this.torusFunction3(i * 2 * Math.PI / STEPS);\n            const frame2 = this.torusFunction3(i * 2 * Math.PI / STEPS + 0.1);\n\n            const tangent = frame2.sub(frame);\n            let up = frame.add(frame2).normalize();\n            const right = tangent.cross(up).normalize().mul(26.4);\n            up = right.cross(tangent).normalize().mul(26.4);\n\n            for (let r = 0; r < STEPS2; r++) {\n                const pos = up.mul(Math.sin(r * 2 * Math.PI / STEPS2)).add(right.mul(Math.cos(r * 2 * Math.PI / STEPS2))).add(frame);\n                points.push(pos.mul(1));\n            }\n        }\n\n        const index: Array<number> = [];\n\n\n\n        for (let j = 0; j < STEPS; j++) {\n            for (let i = 0; i < STEPS2; i++) {\n                index.push(((STEPS2 * j) + (1 + i) % STEPS2) % points.length); // 2\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2) % points.length); // 1\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2) % points.length); // 3\n\n                index.push(((STEPS2 * j) + STEPS2 + (0 + i) % STEPS2) % points.length); // 4\n                index.push(((STEPS2 * j) + STEPS2 + (1 + i) % STEPS2) % points.length); // 3\n                index.push(((STEPS2 * j) + (0 + i) % STEPS2) % points.length); // 5\n            }\n        }\n\n        this.buildMesh(points, index, inverse);\n    }\n\n    private torusFunction3(alpha: number): Vector4f {\n        const p = 2\n        const q = 3;\n        const r = 0.5 * (2 + Math.sin(q * alpha));\n        return new Vector4f(r * Math.cos(p * alpha),\n            r * Math.cos(q * alpha),\n            r * Math.sin(p * alpha)).mul(70);\n    }\n\n}\n","import { Vector4f } from './index';\nimport { Sphere } from './Sphere';\n\nexport class ComputationalGeometryUtils {\n\n    public computeBoundingSphere(vertices: Array<Vector4f>): Sphere {\n\n        if (vertices.length === 0) {\n            throw new Error('More than one vertex required.');\n        }\n\n        if (vertices.length === 1) {\n            return new Sphere(vertices[0], 0);\n        }\n\n        let center = new Vector4f(0, 0, 0, 0);\n        let radius = 0;\n\n        vertices.forEach(point => {\n            center = center.add(new Vector4f(point.x, point.y, point.z, 0.0));\n        });\n\n        center = center.mul(1.0 / vertices.length);\n\n        vertices.forEach(point => {\n            radius = Math.max(radius, center.sub(point).length());\n        });\n\n        return new Sphere(center, radius);\n    }\n\n}\n","import { Vector3f } from './Vector3f';\n\nexport class Matrix3f {\n\n    public m11: number;\n    public m12: number;\n    public m13: number;\n\n    public m21: number;\n    public m22: number;\n    public m23: number;\n\n    public m31: number;\n    public m32: number;\n    public m33: number;\n\n    static constructXRotationMatrix(angle: number) {\n        const matrix = new Matrix3f();\n\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n\n        matrix.m11 = 1.0;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = cos;\n        matrix.m23 = -sin;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = sin;\n        matrix.m33 = cos;\n\n        return matrix;\n    }\n\n    static constructYRotationMatrix(angle: number) {\n        const matrix = new Matrix3f();\n\n        matrix.m11 = Math.cos(angle);\n        matrix.m12 = 0.0;\n        matrix.m13 = Math.sin(angle);\n\n        matrix.m21 = 0.0;\n        matrix.m22 = 1.0;\n        matrix.m23 = 0.0;\n\n        matrix.m31 = -Math.sin(angle);\n        matrix.m32 = 0.0;\n        matrix.m33 = Math.cos(angle);\n\n        return matrix;\n    }\n\n    static constructZRotationMatrix(angle: number) {\n        const matrix = new Matrix3f();\n\n        matrix.m11 = Math.cos(angle);\n        matrix.m12 = -Math.sin(angle);\n        matrix.m13 = 0.0;\n\n        matrix.m21 = Math.sin(angle);\n        matrix.m22 = Math.cos(angle);\n        matrix.m23 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = 1.0;\n\n        return matrix;\n    }\n\n    static constructScaleMatrix(xScale: number, yScale: number, zScale: number) {\n        const matrix = new Matrix3f();\n\n        matrix.m11 = xScale;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = yScale;\n        matrix.m23 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = zScale;\n\n        return matrix;\n    }\n\n    public multiplyMatrix(matrix: Matrix3f): Matrix3f {\n        const result = new Matrix3f();\n\n        result.m11 = this.m11 * matrix.m11 + this.m12 * matrix.m21 + this.m13 * matrix.m31;\n        result.m21 = this.m21 * matrix.m11 + this.m22 * matrix.m21 + this.m23 * matrix.m31;\n        result.m31 = this.m31 * matrix.m11 + this.m32 * matrix.m21 + this.m33 * matrix.m31;\n\n        result.m12 = this.m11 * matrix.m12 + this.m12 * matrix.m22 + this.m13 * matrix.m32;\n        result.m22 = this.m21 * matrix.m12 + this.m22 * matrix.m22 + this.m23 * matrix.m32;\n        result.m32 = this.m31 * matrix.m12 + this.m32 * matrix.m22 + this.m33 * matrix.m32;\n\n        result.m13 = this.m11 * matrix.m13 + this.m12 * matrix.m23 + this.m13 * matrix.m33;\n        result.m23 = this.m21 * matrix.m13 + this.m22 * matrix.m23 + this.m23 * matrix.m33;\n        result.m33 = this.m31 * matrix.m13 + this.m32 * matrix.m23 + this.m33 * matrix.m33;\n\n        return result;\n\n    }\n\n    public multiply(vector: Vector3f): Vector3f {\n        return new Vector3f(this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z,\n            this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z,\n            this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z);\n    }\n}","/**\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_00_introduction.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_00_research.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_01_pipeline.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_02_transformations.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_03_projections.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_04_lighting.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_05_rasterization.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_06_texturing.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_07_shadows.pdf\n * https://cg.informatik.uni-freiburg.de/course_notes/graphics_08_transparencyReflection.pdf\n * https://cg.informatik.uni-freiburg.de/teaching.htm\n * @author Johannes Diemke\n * @since 2017-05-07\n */\n\nimport { Vector3f } from './Vector3f';\nimport { Vector4f } from './Vector4f';\n\nexport class Matrix4f {\n\n    public m11: number;\n    public m12: number;\n    public m13: number;\n    public m14: number;\n\n    public m21: number;\n    public m22: number;\n    public m23: number;\n    public m24: number;\n\n    public m31: number;\n    public m32: number;\n    public m33: number;\n    public m34: number;\n\n    public m41: number;\n    public m42: number;\n    public m43: number;\n    public m44: number;\n\n    static constructIdentityMatrix(): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = 1.0;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n        matrix.m14 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = 1.0;\n        matrix.m23 = 0.0;\n        matrix.m24 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = 1.0;\n        matrix.m34 = 0.0;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n\n    public setIdentityMatrix(): void {\n\n\n        this.m11 = 1.0;\n        this.m12 = 0.0;\n        this.m13 = 0.0;\n        this.m14 = 0.0;\n\n        this.m21 = 0.0;\n        this.m22 = 1.0;\n        this.m23 = 0.0;\n        this.m24 = 0.0;\n\n        this.m31 = 0.0;\n        this.m32 = 0.0;\n        this.m33 = 1.0;\n        this.m34 = 0.0;\n\n        this.m41 = 0.0;\n        this.m42 = 0.0;\n        this.m43 = 0.0;\n        this.m44 = 1.0;\n    }\n\n    public transpose(): Matrix4f {\n        const transpose: Matrix4f = new Matrix4f();\n\n        transpose.m11 = this.m11;\n        transpose.m12 = this.m21;\n        transpose.m13 = this.m31;\n        transpose.m14 = this.m41;\n\n        transpose.m21 = this.m12;\n        transpose.m22 = this.m22;\n        transpose.m23 = this.m32;\n        transpose.m24 = this.m42;\n\n        transpose.m31 = this.m13;\n        transpose.m32 = this.m23;\n        transpose.m33 = this.m33;\n        transpose.m34 = this.m43;\n\n        transpose.m41 = this.m14;\n        transpose.m42 = this.m24;\n        transpose.m43 = this.m34;\n        transpose.m44 = this.m44;\n\n        return transpose;\n    }\n\n    public computeNormalMatrix(): Matrix4f {\n        // http://www.lighthouse3d.com/tutorials/glsl-12-tutorial/the-normal-matrix/\n        // https://www.gamedev.net/forums/topic/443040-inverse-of-modelview-matrix/\n        // https://computergraphics.stackexchange.com/questions/1502/why-is-the-transposed-inverse-of-the-model-view-matrix-used-to-transform-the-nor\n        return this.inverse().transpose();\n    }\n\n    public inverse(): Matrix4f {\n        // Inverse hack\n        // - only works when the MV matrix only contains\n        // translation and rotation and scaling that is the same in all directions\n\n        const inverseTranslation: Matrix4f = Matrix4f.constructIdentityMatrix();\n        inverseTranslation.m14 = -this.m14;\n        inverseTranslation.m24 = -this.m24;\n        inverseTranslation.m34 = -this.m34;\n\n        const scale1 = 1.0 / Math.sqrt(this.m11 * this.m11 + this.m12 * this.m12 + this.m13 * this.m13);\n        const scale2 = 1.0 / Math.sqrt(this.m21 * this.m21 + this.m22 * this.m22 + this.m23 * this.m23);\n        const scale3 = 1.0 / Math.sqrt(this.m31 * this.m31 + this.m32 * this.m32 + this.m33 * this.m33);\n        const inverseRotation: Matrix4f = Matrix4f.constructIdentityMatrix();\n        inverseRotation.m11 = this.m11 * scale1;\n        inverseRotation.m21 = this.m12 * scale1;\n        inverseRotation.m31 = this.m13 * scale1;\n\n        inverseRotation.m12 = this.m21 * scale2;\n        inverseRotation.m22 = this.m22 * scale2;\n        inverseRotation.m32 = this.m23 * scale2;\n\n        inverseRotation.m13 = this.m31 * scale3;\n        inverseRotation.m23 = this.m32 * scale3;\n        inverseRotation.m33 = this.m33 * scale3;\n\n        return inverseRotation.multiplyMatrix(inverseTranslation);\n    }\n\n    public getInverseRotation(): Matrix4f {\n        const scale = 1.0;\n        const inverseRotation = Matrix4f.constructIdentityMatrix();\n        inverseRotation.m11 = this.m11 * scale;\n        inverseRotation.m21 = this.m12 * scale;\n        inverseRotation.m31 = this.m13 * scale;\n\n        inverseRotation.m12 = this.m21 * scale;\n        inverseRotation.m22 = this.m22 * scale;\n        inverseRotation.m32 = this.m23 * scale;\n\n        inverseRotation.m13 = this.m31 * scale;\n        inverseRotation.m23 = this.m32 * scale;\n        inverseRotation.m33 = this.m33 * scale;\n\n        return inverseRotation;\n    }\n\n    public getRotation(): Matrix4f {\n\n        const inverseRotation = Matrix4f.constructIdentityMatrix();\n        inverseRotation.m11 = this.m11;\n        inverseRotation.m21 = this.m21;\n        inverseRotation.m31 = this.m31;\n\n        inverseRotation.m12 = this.m12;\n        inverseRotation.m22 = this.m22;\n        inverseRotation.m32 = this.m32;\n\n        inverseRotation.m13 = this.m13;\n        inverseRotation.m23 = this.m23;\n        inverseRotation.m33 = this.m33;\n\n        return inverseRotation;\n    }\n\n    static constructShadowMatrix(): Matrix4f {\n        const planePoint: Vector3f = new Vector3f(0, -1.5, 0);\n        const planeNormal: Vector3f = new Vector3f(0, 1, 0);\n        const lightPosition: Vector3f = new Vector3f(0, 11, 0);\n\n        const d = -planePoint.dot(planeNormal);\n        const NdotL = planeNormal.x * lightPosition.x +\n            planeNormal.y * lightPosition.y +\n            planeNormal.z * lightPosition.z;\n\n        const shadowMatrix: Matrix4f = new Matrix4f();\n\n        shadowMatrix.m11 = NdotL + d - lightPosition.x * planeNormal.x;\n        shadowMatrix.m12 = - lightPosition.x * planeNormal.y;\n        shadowMatrix.m13 = - lightPosition.x * planeNormal.z;\n        shadowMatrix.m14 = - lightPosition.x * d;\n\n        shadowMatrix.m21 = - lightPosition.y * planeNormal.x;\n        shadowMatrix.m22 = NdotL + d - lightPosition.y * planeNormal.y;\n        shadowMatrix.m23 = - lightPosition.y * planeNormal.z;\n        shadowMatrix.m24 = - lightPosition.y * d;\n\n        shadowMatrix.m31 = - lightPosition.z * planeNormal.x;\n        shadowMatrix.m32 = - lightPosition.z * planeNormal.y;\n        shadowMatrix.m33 = NdotL + d - lightPosition.z * planeNormal.z;\n        shadowMatrix.m34 = - lightPosition.z * d;\n\n        shadowMatrix.m41 = - planeNormal.x;\n        shadowMatrix.m42 = - planeNormal.y;\n        shadowMatrix.m43 = - planeNormal.z;\n        shadowMatrix.m44 = NdotL;\n\n        return shadowMatrix;\n\n    }\n\n    static constructTranslationMatrix(tx: number, ty: number, tz: number): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = 1.0;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n        matrix.m14 = tx;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = 1.0;\n        matrix.m23 = 0.0;\n        matrix.m24 = ty;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = 1.0;\n        matrix.m34 = tz;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n    public setTranslationMatrix(tx: number, ty: number, tz: number): void {\n        this.m11 = 1.0;\n        this.m12 = 0.0;\n        this.m13 = 0.0;\n        this.m14 = tx;\n\n        this.m21 = 0.0;\n        this.m22 = 1.0;\n        this.m23 = 0.0;\n        this.m24 = ty;\n\n        this.m31 = 0.0;\n        this.m32 = 0.0;\n        this.m33 = 1.0;\n        this.m34 = tz;\n\n        this.m41 = 0.0;\n        this.m42 = 0.0;\n        this.m43 = 0.0;\n        this.m44 = 1.0;\n    }\n\n    static constructXRotationMatrix(alpha: number): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = 1.0;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n        matrix.m14 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = Math.cos(alpha);\n        matrix.m23 = -Math.sin(alpha);\n        matrix.m24 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = Math.sin(alpha);\n        matrix.m33 = Math.cos(alpha);\n        matrix.m34 = 0.0;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n    public setXRotationMatrix(alpha: number): void {\n        this.m11 = 1.0;\n        this.m12 = 0.0;\n        this.m13 = 0.0;\n        this.m14 = 0.0;\n\n        this.m21 = 0.0;\n        this.m22 = Math.cos(alpha);\n        this.m23 = -Math.sin(alpha);\n        this.m24 = 0.0;\n\n        this.m31 = 0.0;\n        this.m32 = Math.sin(alpha);\n        this.m33 = Math.cos(alpha);\n        this.m34 = 0.0;\n\n        this.m41 = 0.0;\n        this.m42 = 0.0;\n        this.m43 = 0.0;\n        this.m44 = 1.0;\n    }\n\n    public setScaleMatrix(sx: number, sy: number, sz: number): void {\n        this.m11 = sx;\n        this.m12 = 0.0;\n        this.m13 = 0.0;\n        this.m14 = 0.0;\n\n        this.m21 = 0.0;\n        this.m22 = sy;\n        this.m23 = 0.0;\n        this.m24 = 0.0;\n\n        this.m31 = 0.0;\n        this.m32 = 0.0;\n        this.m33 = sz;\n        this.m34 = 0.0;\n\n        this.m41 = 0.0;\n        this.m42 = 0.0;\n        this.m43 = 0.0;\n        this.m44 = 1.0;\n    }\n\n    public setYRotationMatrix(alpha: number): void {\n        this.m11 = Math.cos(alpha);\n        this.m12 = 0.0;\n        this.m13 = Math.sin(alpha);\n        this.m14 = 0.0;\n\n        this.m21 = 0.0;\n        this.m22 = 1.0;\n        this.m23 = 0.0;\n        this.m24 = 0.0;\n\n        this.m31 = -Math.sin(alpha);\n        this.m32 = 0.0;\n        this.m33 = Math.cos(alpha);\n        this.m34 = 0.0;\n\n        this.m41 = 0.0;\n        this.m42 = 0.0;\n        this.m43 = 0.0;\n        this.m44 = 1.0;\n    }\n\n    static constructYRotationMatrix(alpha: number): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = Math.cos(alpha);\n        matrix.m12 = 0.0;\n        matrix.m13 = Math.sin(alpha);\n        matrix.m14 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = 1.0;\n        matrix.m23 = 0.0;\n        matrix.m24 = 0.0;\n\n        matrix.m31 = -Math.sin(alpha);\n        matrix.m32 = 0.0;\n        matrix.m33 = Math.cos(alpha);\n        matrix.m34 = 0.0;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n    static constructZRotationMatrix(alpha: number): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = Math.cos(alpha);\n        matrix.m12 = -Math.sin(alpha);\n        matrix.m13 = 0.0;\n        matrix.m14 = 0.0;\n\n        matrix.m21 = Math.sin(alpha);\n        matrix.m22 = Math.cos(alpha);\n        matrix.m23 = 0.0;\n        matrix.m24 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = 1.0;\n        matrix.m34 = 0.0;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n    static constructScaleMatrix(sx: number, sy: number = sx, sz: number = sy): Matrix4f {\n        const matrix: Matrix4f = new Matrix4f();\n\n        matrix.m11 = sx;\n        matrix.m12 = 0.0;\n        matrix.m13 = 0.0;\n        matrix.m14 = 0.0;\n\n        matrix.m21 = 0.0;\n        matrix.m22 = sy;\n        matrix.m23 = 0.0;\n        matrix.m24 = 0.0;\n\n        matrix.m31 = 0.0;\n        matrix.m32 = 0.0;\n        matrix.m33 = sz;\n        matrix.m34 = 0.0;\n\n        matrix.m41 = 0.0;\n        matrix.m42 = 0.0;\n        matrix.m43 = 0.0;\n        matrix.m44 = 1.0;\n\n        return matrix;\n    }\n\n    public multiplyMatrix(matrix: Matrix4f): Matrix4f {\n        const result = new Matrix4f();\n\n        result.m11 = this.m11 * matrix.m11 + this.m12 * matrix.m21 + this.m13 * matrix.m31 + this.m14 * matrix.m41;\n        result.m21 = this.m21 * matrix.m11 + this.m22 * matrix.m21 + this.m23 * matrix.m31 + this.m24 * matrix.m41;\n        result.m31 = this.m31 * matrix.m11 + this.m32 * matrix.m21 + this.m33 * matrix.m31 + this.m34 * matrix.m41;\n        result.m41 = this.m41 * matrix.m11 + this.m42 * matrix.m21 + this.m43 * matrix.m31 + this.m44 * matrix.m41;\n\n        result.m12 = this.m11 * matrix.m12 + this.m12 * matrix.m22 + this.m13 * matrix.m32 + this.m14 * matrix.m42;\n        result.m22 = this.m21 * matrix.m12 + this.m22 * matrix.m22 + this.m23 * matrix.m32 + this.m24 * matrix.m42;\n        result.m32 = this.m31 * matrix.m12 + this.m32 * matrix.m22 + this.m33 * matrix.m32 + this.m34 * matrix.m42;\n        result.m42 = this.m41 * matrix.m12 + this.m42 * matrix.m22 + this.m43 * matrix.m32 + this.m44 * matrix.m42;\n\n        result.m13 = this.m11 * matrix.m13 + this.m12 * matrix.m23 + this.m13 * matrix.m33 + this.m14 * matrix.m43;\n        result.m23 = this.m21 * matrix.m13 + this.m22 * matrix.m23 + this.m23 * matrix.m33 + this.m24 * matrix.m43;\n        result.m33 = this.m31 * matrix.m13 + this.m32 * matrix.m23 + this.m33 * matrix.m33 + this.m34 * matrix.m43;\n        result.m43 = this.m41 * matrix.m13 + this.m42 * matrix.m23 + this.m43 * matrix.m33 + this.m44 * matrix.m43;\n\n        result.m14 = this.m11 * matrix.m14 + this.m12 * matrix.m24 + this.m13 * matrix.m34 + this.m14 * matrix.m44;\n        result.m24 = this.m21 * matrix.m14 + this.m22 * matrix.m24 + this.m23 * matrix.m34 + this.m24 * matrix.m44;\n        result.m34 = this.m31 * matrix.m14 + this.m32 * matrix.m24 + this.m33 * matrix.m34 + this.m34 * matrix.m44;\n        result.m44 = this.m41 * matrix.m14 + this.m42 * matrix.m24 + this.m43 * matrix.m34 + this.m44 * matrix.m44;\n\n        return result;\n    }\n\n    public multiply2(matrix: Matrix4f, matrix2: Matrix4f): void {\n        this.m11 = matrix.m11 * matrix2.m11 + matrix.m12 * matrix2.m21 + matrix.m13 * matrix2.m31 + matrix.m14 * matrix2.m41;\n        this.m21 = matrix.m21 * matrix2.m11 + matrix.m22 * matrix2.m21 + matrix.m23 * matrix2.m31 + matrix.m24 * matrix2.m41;\n        this.m31 = matrix.m31 * matrix2.m11 + matrix.m32 * matrix2.m21 + matrix.m33 * matrix2.m31 + matrix.m34 * matrix2.m41;\n        this.m41 = matrix.m41 * matrix2.m11 + matrix.m42 * matrix2.m21 + matrix.m43 * matrix2.m31 + matrix.m44 * matrix2.m41;\n\n        this.m12 = matrix.m11 * matrix2.m12 + matrix.m12 * matrix2.m22 + matrix.m13 * matrix2.m32 + matrix.m14 * matrix2.m42;\n        this.m22 = matrix.m21 * matrix2.m12 + matrix.m22 * matrix2.m22 + matrix.m23 * matrix2.m32 + matrix.m24 * matrix2.m42;\n        this.m32 = matrix.m31 * matrix2.m12 + matrix.m32 * matrix2.m22 + matrix.m33 * matrix2.m32 + matrix.m34 * matrix2.m42;\n        this.m42 = matrix.m41 * matrix2.m12 + matrix.m42 * matrix2.m22 + matrix.m43 * matrix2.m32 + matrix.m44 * matrix2.m42;\n\n        this.m13 = matrix.m11 * matrix2.m13 + matrix.m12 * matrix2.m23 + matrix.m13 * matrix2.m33 + matrix.m14 * matrix2.m43;\n        this.m23 = matrix.m21 * matrix2.m13 + matrix.m22 * matrix2.m23 + matrix.m23 * matrix2.m33 + matrix.m24 * matrix2.m43;\n        this.m33 = matrix.m31 * matrix2.m13 + matrix.m32 * matrix2.m23 + matrix.m33 * matrix2.m33 + matrix.m34 * matrix2.m43;\n        this.m43 = matrix.m41 * matrix2.m13 + matrix.m42 * matrix2.m23 + matrix.m43 * matrix2.m33 + matrix.m44 * matrix2.m43;\n\n        this.m14 = matrix.m11 * matrix2.m14 + matrix.m12 * matrix2.m24 + matrix.m13 * matrix2.m34 + matrix.m14 * matrix2.m44;\n        this.m24 = matrix.m21 * matrix2.m14 + matrix.m22 * matrix2.m24 + matrix.m23 * matrix2.m34 + matrix.m24 * matrix2.m44;\n        this.m34 = matrix.m31 * matrix2.m14 + matrix.m32 * matrix2.m24 + matrix.m33 * matrix2.m34 + matrix.m34 * matrix2.m44;\n        this.m44 = matrix.m41 * matrix2.m14 + matrix.m42 * matrix2.m24 + matrix.m43 * matrix2.m34 + matrix.m44 * matrix2.m44;\n    }\n\n    public multiply(vector: Vector3f): Vector3f {\n        return new Vector3f(this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z + this.m14,\n            this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z + this.m24,\n            this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z + this.m34);\n    }\n\n    public multiplyHom(vector: Vector4f): Vector4f {\n        return new Vector4f(this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z + this.m14 * vector.w,\n            this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z + this.m24 * vector.w,\n            this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z + this.m34 * vector.w,\n            this.m41 * vector.x + this.m42 * vector.y + this.m43 * vector.z + this.m44 * vector.w);\n    }\n\n    public multiplyHomArr(vector: Vector4f, result: Vector4f): void {\n        result.x = this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z + this.m14 * vector.w;\n        result.y = this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z + this.m24 * vector.w;\n        result.z = this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z + this.m34 * vector.w;\n    }\n\n    public multiplyHomArr2(vector: Vector4f, result: Vector4f): void {\n        result.x = this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z + this.m14 * vector.w;\n        result.y = this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z + this.m24 * vector.w;\n        result.z = this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z + this.m34 * vector.w;\n        result.w = this.m41 * vector.x + this.m42 * vector.y + this.m43 * vector.z + this.m44 * vector.w;\n        result.x /= result.w;\n        result.y /= result.w;\n        result.z /= result.w;\n    }\n\n    public multiplyArr(vector: Vector3f, result: Vector3f): void {\n        result.x = this.m11 * vector.x + this.m12 * vector.y + this.m13 * vector.z + this.m14;\n        result.y = this.m21 * vector.x + this.m22 * vector.y + this.m23 * vector.z + this.m24;\n        result.z = this.m31 * vector.x + this.m32 * vector.y + this.m33 * vector.z + this.m34;\n    }\n\n}\n","import { BoundingVolume } from './BoundingVolume';\nimport { Vector4f } from './index';\nimport { Matrix4f } from './Matrix4f';\nimport { Plane } from './Plane';\n\nexport class Sphere implements BoundingVolume {\n\n    private center: Vector4f;\n    private radius: number;\n\n    public constructor(position: Vector4f, radius: number) {\n        this.center = position;\n        this.radius = radius;\n    }\n\n    /**\n     *\n     * @param {Plane} plane\n     * @returns {boolean}\n     * @memberof Sphere\n     */\n    public isInsidePositiveHalfSpace(plane: Plane): boolean {\n        return plane.getNormal().dot(this.center) - plane.getDistance() > - this.radius;\n    }\n\n    public getTran(mat: Matrix4f): Vector4f {\n        return mat.multiplyHom(this.center);\n    }\n\n    public getRadius(): number {\n        return this.radius;\n    }\n\n    public getCenter(): Vector4f {\n        return this.center;\n    }\n\n}\n","\nexport class Vector2f {\n\n    constructor(public x: number, public y: number) {\n\n    }\n\n    public perp(): Vector2f {\n        return new Vector2f(-this.y, this.x);\n    }\n\n    public sub(vec: Vector2f): Vector2f {\n        return new Vector2f(this.x - vec.x, this.y - vec.y);\n    }\n\n    public mul(scal: number): Vector2f {\n        return new Vector2f(this.x * scal, this.y * scal);\n    }\n\n    public length(): number {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n\n    public normalize(): Vector2f {\n        const reci: number = 1.0 / this.length();\n        return this.mul(reci);\n    }\n\n    public dot(vec: Vector2f): number {\n        return this.x * vec.x + this.y * vec.y;\n    }\n\n}\n","export class Vector3f {\n\n    public x: number;\n    public y: number;\n    public z: number;\n\n    constructor(x: number = 0, y: number = 0, z: number = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    public mult(scale: number): Vector3f {\n        return new Vector3f(this.x * scale, this.y * scale, this.z * scale);\n    }\n\n    public sub(vec: Vector3f): Vector3f {\n        return new Vector3f(this.x - vec.x, this.y - vec.y, this.z - vec.z);\n    }\n\n    public sub2(vec1: Vector3f, vec2: Vector3f): void {\n        this.x = vec1.x - vec2.x;\n        this.y = vec1.y - vec2.y;\n        this.z = vec1.z - vec2.z;\n    }\n\n    public mul(scal: number): Vector3f {\n        return new Vector3f(this.x * scal, this.y * scal, this.z * scal);\n    }\n\n    public add(vec: Vector3f): Vector3f {\n        return new Vector3f(this.x + vec.x, this.y + vec.y, this.z + vec.z);\n    }\n\n    public add2(vec: Vector3f, vec2: Vector3f): void {\n        this.x = vec.x + vec2.x;\n        this.y = vec.y + vec2.y;\n        this.z = vec.z + vec2.z;\n    }\n\n    public cross(vec: Vector3f): Vector3f {\n        return new Vector3f(this.y * vec.z - this.z * vec.y,\n            this.z * vec.x - this.x * vec.z,\n            this.x * vec.y - this.y * vec.x);\n    }\n\n    public cross2(vec1: Vector3f, vec2: Vector3f): void {\n        this.x = vec1.y * vec2.z - vec1.z * vec2.y;\n        this.y = vec1.z * vec2.x - vec1.x * vec2.z;\n        this.z = vec1.x * vec2.y - vec1.y * vec2.x;\n    }\n\n    public length(): number {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    public normalize(): Vector3f {\n        const reci: number = 1.0 / this.length();\n        return this.mul(reci);\n    }\n\n    public normalize2(): void {\n        const reci: number = 1.0 / this.length();\n        this.x *= reci;\n        this.y *= reci;\n        this.z *= reci;\n    }\n\n    public dot(vec: Vector3f): number {\n        return this.x * vec.x + this.y * vec.y + this.z * vec.z;\n    }\n\n}\n","export class Vector4f {\n\n    public x: number;\n    public y: number;\n    public z: number;\n    public w: number;\n\n    constructor(x: number, y: number, z: number, w: number = 1) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n\n    public sub(vec: Vector4f): Vector4f {\n        return new Vector4f(this.x - vec.x, this.y - vec.y, this.z - vec.z, this.w - vec.w);\n    }\n\n    public add(vec: Vector4f): Vector4f {\n        return new Vector4f(this.x + vec.x, this.y + vec.y, this.z + vec.z, this.w + vec.w);\n    }\n\n    public cross(vec: Vector4f): Vector4f {\n        return new Vector4f(this.y * vec.z - this.z * vec.y,\n            this.z * vec.x - this.x * vec.z,\n            this.x * vec.y - this.y * vec.x, 0.0);\n    }\n\n    public normalize(): Vector4f {\n        const reci: number = 1.0 / this.length();\n        return this.mul(reci);\n    }\n\n    public length(): number {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n\n    public sub2(vec1: Vector4f, vec2: Vector4f): void {\n        this.x = vec1.x - vec2.x;\n        this.y = vec1.y - vec2.y;\n        this.z = vec1.z - vec2.z;\n    }\n\n    public add2(vec: Vector4f, vec2: Vector4f): void {\n        this.x = vec.x + vec2.x;\n        this.y = vec.y + vec2.y;\n        this.z = vec.z + vec2.z;\n    }\n\n\n    public mul(scal: number): Vector4f {\n        return new Vector4f(this.x * scal, this.y * scal, this.z * scal, this.w);\n    }\n\n    public componentWiseMul(vec: Vector4f): Vector4f {\n        return new Vector4f(this.x * vec.x, this.y * vec.y, this.z * vec.z, this.w * vec.w);\n    }\n\n    public dot(vec: Vector4f): number {\n        return this.x * vec.x + this.y * vec.y + this.z * vec.z;\n    }\n\n    public cross2(vec1: Vector4f, vec2: Vector4f): void {\n        this.x = vec1.y * vec2.z - vec1.z * vec2.y;\n        this.y = vec1.z * vec2.x - vec1.x * vec2.z;\n        this.z = vec1.x * vec2.y - vec1.y * vec2.x;\n    }\n\n    public normalize2(): void {\n        const reci: number = 1.0 / this.length();\n        this.x *= reci;\n        this.y *= reci;\n        this.z *= reci;\n    }\n\n\n}\n","export { Vector4f } from './Vector4f';\nexport { Vector3f } from './Vector3f';\n\nexport { Matrix3f } from './Matrix3';\nexport { Matrix4f } from './Matrix4f';\nexport { Vector2f } from './Vector2f';\n","import { BlenderJsonParser } from '../../blender/BlenderJsonParser';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { TexturedMesh } from '../../rendering-pipelines/TexturedMesh';\nimport { BlenderScene } from '../../blender/BlenderScene';\n\n/**\n * Load Wavefront OBJ file that was converted via obj2json utility.\n * to save the convertToMeshArray step\n * renamed to JSX file to load file at runtime\n */\nexport class BlenderLoader {\n\n    public static load(filename: any): Promise<Array<FlatshadedMesh>> {\n        return fetch(filename.default).then((response: Response) => {\n            return response.json();\n        }).then((meshes: BlenderScene) => {\n            return BlenderJsonParser.parse(meshes);\n        });\n    }\n\n    public static loadWithTexture(filename: any): Promise<Array<TexturedMesh>> {\n        return fetch(filename.default).then((response: Response) => {\n            return response.json();\n        }).then((meshes: BlenderScene) => {\n            return BlenderJsonParser.getBlenderScene(meshes, false);\n        });\n    }\n\n    private constructor() {\n\n    }\n}\n","import { BlenderJsonParser } from '../../blender/BlenderJsonParser';\nimport { Mesh } from '../../blender/mesh';\nimport { convertToMeshArray } from '../../blender/parseUtils';\nimport { FlatshadedMesh } from '../../geometrical-objects/FlatshadedMesh';\nimport { TexturedMesh } from '../../rendering-pipelines/TexturedMesh';\n\nexport class WavefrontLoader {\n\n    public static load(filename: any): Promise<Array<FlatshadedMesh>> {\n        return fetch(filename.default).then((response: Response) => {\n            return response.text();\n        }).then((text: string): Array<Mesh> => {\n            return convertToMeshArray(text);\n        }).then((meshes: Array<Mesh>) => {\n            return BlenderJsonParser.parse(meshes);\n        });\n    }\n\n    public static loadWithTexture(filename: any): Promise<Array<TexturedMesh>> {\n        return fetch(filename.default).then((response: Response) => {\n            return response.text();\n        }).then((text: string): Array<Mesh> => {\n            return convertToMeshArray(text);\n        }).then((meshes: Array<Mesh>) => {\n            return BlenderJsonParser.getBlenderScene(meshes);\n        });\n    }\n\n    private constructor() {\n\n    }\n\n}\n","import { Framebuffer } from \"../Framebuffer\";\nimport { Vertex } from \"../Vertex\";\nimport { AbstractTriangleRasterizer } from \"./AbstractTriangleRasterizer\";\n\nexport abstract class AbstractScannlineTriangleRasterizer extends AbstractTriangleRasterizer {\n\n    private temp: Vertex = null;\n    \n    /**\n     * Triangle rasterization using edge-walking strategy for scan-conversion.\n     * Internally DDA is used for edge-walking.\n     */\n    public drawTriangleDDA(framebuffer: Framebuffer, p1: Vertex, p2: Vertex, p3: Vertex): void {\n\n        if (p1.projection.y > p3.projection.y) {\n            this.temp = p1;\n            p1 = p3;\n            p3 = this.temp;\n        }\n\n        if (p1.projection.y > p2.projection.y) {\n            this.temp = p1;\n            p1 = p2;\n            p2 = this.temp;\n        }\n\n        if (p2.projection.y > p3.projection.y) {\n            this.temp = p2;\n            p2 = p3;\n            p3 = this.temp;\n        }\n\n        if (p1.projection.y === p3.projection.y) {\n            return;\n        } else {\n            const x: number = (p3.projection.x - p1.projection.x) * (p2.projection.y - p1.projection.y) /\n                (p3.projection.y - p1.projection.y) + p1.projection.x;\n            if (x > p2.projection.x) {\n                this.fillLongRightTriangle(framebuffer, p1, p2, p3);\n            } else {\n                this.fillLongLeftTriangle(framebuffer,p1,p2,p3);\n            }\n        }\n    }\n\n    protected abstract fillLongRightTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void;\n    protected abstract fillLongLeftTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void;\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vertex } from '../Vertex';\n\nexport abstract class AbstractTriangleRasterizer {\n\n    public abstract drawTriangleDDA(framebuffer: Framebuffer, p1: Vertex, p2: Vertex, p3: Vertex): void;\n\n}\n","import { Color } from '../core/Color';\n\nexport class ColorInterpolator {\n\n    public startColor: Color = new Color();\n    public colorSlope: Color = new Color();\n\n    public setup(c1: Color, c2: Color, distance: number): void {\n        this.colorSlope.r = (c2.r - c1.r) / distance;\n        this.colorSlope.g = (c2.g - c1.g) / distance;\n        this.colorSlope.b = (c2.b - c1.b) / distance;\n\n        this.startColor.r = c1.r;\n        this.startColor.g = c1.g;\n        this.startColor.b = c1.b;\n    }\n\n    public advance(): void {\n        this.startColor.r += this.colorSlope.r;\n        this.startColor.g += this.colorSlope.g;\n        this.startColor.b += this.colorSlope.b;\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vertex } from '../Vertex';\nimport { AbstractScannlineTriangleRasterizer } from './AbstractScanlineTriangleRasterizer';\nimport { AbstractTriangleRasterizer } from './AbstractTriangleRasterizer';\n\nexport class FlatShadingTriangleRasterizer extends AbstractScannlineTriangleRasterizer {\n\n    private slope1: number;\n    private slope2: number;\n    private zslope1: number;\n    private zslope2: number;\n    private curz1: number;\n    private curz2: number;\n    private xPosition: number;\n    private xPosition2: number;\n    private yPosition: number;\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    protected fillLongRightTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n        const color: number = v1.color.toPackedFormat();\n\n        let yDistanceLeft = v2.projection.y - v1.projection.y;\n        const yDistanceRight = v3.projection.y - v1.projection.y;\n\n        this.slope1 = (v2.projection.x - v1.projection.x) / yDistanceLeft;\n        this.slope2 = (v3.projection.x - v1.projection.x) / yDistanceRight;\n\n        this.zslope1 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n        this.zslope2 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceRight;\n\n        this.curz1 = 1.0 / v1.projection.z;\n        this.curz2 = 1.0 / v1.projection.z;\n\n        this.xPosition = v1.projection.x;\n        this.xPosition2 = v1.projection.x;\n        this.yPosition = v1.projection.y;\n\n        this.drawSpan(framebuffer, yDistanceLeft, color);\n\n        yDistanceLeft = v3.projection.y - v2.projection.y;\n        this.slope1 = (v3.projection.x - v2.projection.x) / yDistanceLeft;\n        this.zslope1 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceLeft;\n\n        this.xPosition = v2.projection.x;\n        this.yPosition = v2.projection.y;\n\n        this.drawSpan(framebuffer, yDistanceLeft, color);\n    }\n\n    protected fillLongLeftTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n        const color: number = v1.color.toPackedFormat();\n\n        let yDistanceRight = v2.projection.y - v1.projection.y;\n        const yDistanceLeft = v3.projection.y - v1.projection.y;\n\n        this.slope2 = (v2.projection.x - v1.projection.x) / yDistanceRight;\n        this.slope1 = (v3.projection.x - v1.projection.x) / yDistanceLeft;\n\n        this.zslope2 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceRight;\n        this.zslope1 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n\n        this.curz1 = 1.0 / v1.projection.z;\n        this.curz2 = 1.0 / v1.projection.z;\n\n        this.xPosition = v1.projection.x;\n        this.xPosition2 = v1.projection.x;\n        this.yPosition = v1.projection.y;\n\n        this.drawSpan(framebuffer, yDistanceRight, color);\n\n        yDistanceRight = v3.projection.y - v2.projection.y;\n        this.slope2 = (v3.projection.x - v2.projection.x) / yDistanceRight;\n        this.zslope2 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceRight;\n\n        this.curz2 = 1.0 / v2.projection.z;\n        this.xPosition2 = v2.projection.x;\n        this.yPosition = v2.projection.y;\n\n        this.drawSpan(framebuffer, yDistanceRight, color);\n    }\n\n    drawSpan(framebuffer: Framebuffer, distance: number, color: number) {\n        for (let i = 0; i < distance; i++) {\n            const length = (this.xPosition2) - (this.xPosition);\n            const spanzStep = Math.round(this.curz2 - this.curz1) / length;\n            let wStart = this.curz1;\n            for (let j = 0; j < length; j++) {\n                const framebufferIndex = Math.round(this.yPosition) * framebuffer.width + Math.round(this.xPosition + j);\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n                    framebuffer.framebuffer[framebufferIndex] = color;\n                }\n                wStart += spanzStep;\n            }\n            this.xPosition += this.slope1;\n            this.xPosition2 += this.slope2;\n            this.yPosition++;\n            this.curz1 += this.zslope1;\n            this.curz2 += this.zslope2;\n        }\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vertex } from '../Vertex';\nimport { AbstractScannlineTriangleRasterizer } from './AbstractScanlineTriangleRasterizer';\nimport { ColorInterpolator } from './ColorInterpolator';\nimport { SlopeInterpolator } from './SlopeInterpolator';\n\nexport class GouraudShadingTriangleRasterizer extends AbstractScannlineTriangleRasterizer {\n\n\n    private colorInterpolator1: ColorInterpolator = new ColorInterpolator();\n    private colorInterpolator2: ColorInterpolator = new ColorInterpolator();\n    private colorInterpolator3: ColorInterpolator = new ColorInterpolator();\n    private rowColorInterpolator: ColorInterpolator = new ColorInterpolator();\n    private leftSlope: SlopeInterpolator = new SlopeInterpolator();\n    private rightSlope: SlopeInterpolator = new SlopeInterpolator();\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    protected fillLongRightTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n        this.leftSlope.setup(v1, v2);\n        this.rightSlope.setup(v1, v3);\n        this.colorInterpolator1.setup(v1.color, v2.color, this.leftSlope.yDistance);\n        this.colorInterpolator2.setup(v1.color, v3.color, this.rightSlope.yDistance);\n        this.drawSpan(framebuffer, this.leftSlope, this.colorInterpolator1, this.colorInterpolator2, this.leftSlope, this.rightSlope);\n\n        this.leftSlope.setup(v2, v3);\n        this.colorInterpolator3.setup(v2.color, v3.color, this.leftSlope.yDistance);\n        this.drawSpan(framebuffer, this.leftSlope, this.colorInterpolator3, this.colorInterpolator2,this.leftSlope, this.rightSlope);\n    }\n\n    protected fillLongLeftTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n        this.leftSlope.setup(v1, v3);\n        this.rightSlope.setup(v1, v2);\n        this.colorInterpolator2.setup(v1.color, v2.color, this.rightSlope.yDistance);\n        this.colorInterpolator1.setup(v1.color, v3.color, this.leftSlope.yDistance);\n        this.drawSpan(framebuffer, this.rightSlope, this.colorInterpolator1, this.colorInterpolator2,this.leftSlope, this.rightSlope);\n\n        this.rightSlope.setup(v2, v3);\n        this.colorInterpolator3.setup(v2.color, v3.color, this.rightSlope.yDistance);\n        this.drawSpan(framebuffer, this.rightSlope, this.colorInterpolator1, this.colorInterpolator3,this.leftSlope, this.rightSlope);\n    }\n\n    drawSpan(framebuffer: Framebuffer, shortSlope: SlopeInterpolator, colorInterpolator1: ColorInterpolator, colorInterpolator2: ColorInterpolator,\n        leftSlope: SlopeInterpolator, rightSlope: SlopeInterpolator) {\n        \n        let yPosition = shortSlope.yStart;\n        for (let i = 0; i < shortSlope.yDistance; i++) {\n            const length = Math.round(rightSlope.currentX) - Math.round(leftSlope.currentX);\n            this.rowColorInterpolator.setup(colorInterpolator1.startColor, colorInterpolator2.startColor, length);\n            let framebufferIndex = Math.round(yPosition) * framebuffer.width + Math.round(leftSlope.currentX);\n            const spanzStep = (rightSlope.currentZ - leftSlope.currentZ) / length;\n            let wStart = leftSlope.currentZ;\n            for (let j = 0; j < length; j++) {\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n                    framebuffer.framebuffer[framebufferIndex] = this.rowColorInterpolator.startColor.toPackedFormat();\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                this.rowColorInterpolator.advance();\n            }\n\n            leftSlope.advance()\n            rightSlope.advance();\n           \n            colorInterpolator1.advance();\n            colorInterpolator2.advance();\n\n            yPosition++;\n        }\n    }\n\n}\n","import { Vertex } from '../Vertex';\n\nexport class SlopeInterpolator {\n\n    yDistance: number;\n    slope: number;\n    zslope: number;\n    currentZ: number;\n    currentX: number;\n    yStart: number;\n\n    setup(top: Vertex, bottom: Vertex) {\n        this.yDistance = bottom.projection.y - top.projection.y;\n        this.slope = (bottom.projection.x - top.projection.x) / this.yDistance;\n        this.zslope = (1 / bottom.projection.z - 1 / top.projection.z) / this.yDistance;\n        this.currentZ = 1.0 / top.projection.z;\n        this.currentX = top.projection.x;\n        this.yStart = top.projection.y;\n    }\n\n    advance() {\n        this.currentX += this.slope;\n        this.currentZ += this.zslope;\n    }\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vector3f } from '../math/Vector3f';\nimport { Vector4f } from '../math/Vector4f';\nimport { AbstractRenderingPipeline } from '../rendering-pipelines/AbstractRenderingPipeline';\nimport { Vertex } from '../Vertex';\nimport { AbstractScannlineTriangleRasterizer } from './AbstractScanlineTriangleRasterizer';\n\nexport class TexturedAlphaBlendingTriangleRasterizer extends AbstractScannlineTriangleRasterizer {\n\n    \n\n    // requires\n    // bob und wbuffer\n    constructor(private framebuffer: Framebuffer, private pipeline: AbstractRenderingPipeline) { \n        super();\n    }\n\n\n    protected fillLongRightTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n        let yDistanceLeft = v2.projection.y - v1.projection.y;\n\n\n\n\n        const yDistanceRight = v3.projection.y - v1.projection.y;\n\n        let slope1 = (v2.projection.x - v1.projection.x) / yDistanceLeft;\n        const slope2 = (v3.projection.x - v1.projection.x) / yDistanceRight;\n\n        let tslope1u = (v2.textureCoordinate.u / v2.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceLeft;\n        const tslope2u = (v3.textureCoordinate.u / v3.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceRight;\n\n        let tslope1v = (v2.textureCoordinate.v / v2.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceLeft;\n        const tslope2v = (v3.textureCoordinate.v / v3.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceRight;\n\n        let zslope1 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n        const zslope2 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceRight;\n\n        let curz1 = 1.0 / v1.projection.z;\n        let curz2 = 1.0 / v1.projection.z;\n\n        let curu1 = v1.textureCoordinate.u / v1.projection.z;\n        let curv1 = v1.textureCoordinate.v / v1.projection.z;\n        let curu2 = v1.textureCoordinate.u / v1.projection.z;\n        let curv2 = v1.textureCoordinate.v / v1.projection.z;\n\n        let xPosition = v1.projection.x;\n        let xPosition2 = v1.projection.x;\n        let yPosition = v1.projection.y;\n\n        for (let i = 0; i < yDistanceLeft; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * this.framebuffer.width + Math.round(xPosition)\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                const currentColor = this.framebuffer.framebuffer[framebufferIndex];\n                if (wStart < this.framebuffer.wBuffer[framebufferIndex]) {\n                    this.framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n                    const u = Math.max(Math.min((uStart * z * this.framebuffer.bob.width), this.framebuffer.bob.width - 1), 0) | 0;\n                    const v = Math.max(Math.min((vStart * z * this.framebuffer.bob.height), this.framebuffer.bob.height - 1), 0) | 0;\n                    const color2 = this.framebuffer.bob.texture[u + v * this.framebuffer.bob.width];\n                    // TODO: move out of loops!\n                    const alpha = this.pipeline.alpha * (color2 >> 24 & 0xff) / 255;\n                    const inverseAlpha = 1 - alpha;\n\n\n                    const r = (currentColor >> 0 & 0xff) * inverseAlpha + (color2 >> 0 & 0xff) * alpha;\n                    const g = (currentColor >> 8 & 0xff) * inverseAlpha + (color2 >> 8 & 0xff) * alpha;\n                    const b = (currentColor >> 16 & 0xff) * inverseAlpha + (color2 >> 16 & 0xff) * alpha;\n\n                    this.framebuffer.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n\n\n        yDistanceLeft = v3.projection.y - v2.projection.y;\n\n        if (yDistanceLeft === 0) {\n            return;\n        }\n\n        slope1 = (v3.projection.x - v2.projection.x) / yDistanceLeft;\n        zslope1 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceLeft;\n        tslope1u = (v3.textureCoordinate.u / v3.projection.z - v2.textureCoordinate.u / v2.projection.z) / yDistanceLeft;\n        tslope1v = (v3.textureCoordinate.v / v3.projection.z - v2.textureCoordinate.v / v2.projection.z) / yDistanceLeft;\n\n        curz1 = 1.0 / v2.projection.z;\n        curu1 = v2.textureCoordinate.u / v2.projection.z;\n        curv1 = v2.textureCoordinate.v / v2.projection.z;\n        xPosition = v2.projection.x;\n        yPosition = v2.projection.y;\n\n        for (let i = 0; i < yDistanceLeft; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * this.framebuffer.width + Math.round(xPosition)\n\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < this.framebuffer.wBuffer[framebufferIndex]) {\n                    this.framebuffer.wBuffer[framebufferIndex] = wStart;\n\n                    const z = 1 / wStart;\n\n\n                    const u = Math.max(Math.min((uStart * z * this.framebuffer.bob.width), this.framebuffer.bob.width - 1), 0) | 0;\n                    const v = Math.max(Math.min((vStart * z * this.framebuffer.bob.height), this.framebuffer.bob.height - 1), 0) | 0;\n                    const color2 = this.framebuffer.bob.texture[u + v * this.framebuffer.bob.width];\n                    const alpha = this.pipeline.alpha * (color2 >> 24 & 0xff) / 255;\n                    const inverseAlpha = 1 - alpha;\n\n\n                    const r = (this.framebuffer.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (color2 >> 0 & 0xff) * alpha;\n                    const g = (this.framebuffer.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (color2 >> 8 & 0xff) * alpha;\n                    const b = (this.framebuffer.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (color2 >> 16 & 0xff) * alpha;\n\n                    this.framebuffer.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n    }\n\n\n    protected fillLongLeftTriangle(framebuffer: Framebuffer,  v1: Vertex, v2: Vertex, v3: Vertex): void {\n\n        let yDistanceRight = v2.projection.y - v1.projection.y;\n        const yDistanceLeft = v3.projection.y - v1.projection.y;\n\n        let slope2 = (v2.projection.x - v1.projection.x) / yDistanceRight;\n        const slope1 = (v3.projection.x - v1.projection.x) / yDistanceLeft;\n\n        const tslope1u = (v3.textureCoordinate.u / v3.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceLeft;\n        let tslope2u = (v2.textureCoordinate.u / v2.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceRight;\n\n        const tslope1v = (v3.textureCoordinate.v / v3.projection.z - v1.textureCoordinate.v  / v1.projection.z) / yDistanceLeft;\n        let tslope2v = (v2.textureCoordinate.v  / v2.projection.z - v1.textureCoordinate.v  / v1.projection.z) / yDistanceRight;\n\n\n        let zslope2 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceRight;\n        const zslope1 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n\n        let curz1 = 1.0 / v1.projection.z;\n        let curz2 = 1.0 / v1.projection.z;\n\n        let curu1 = v1.textureCoordinate.u / v1.projection.z;\n        let curv1 = v1.textureCoordinate.v / v1.projection.z;\n        let curu2 = v1.textureCoordinate.u / v1.projection.z;\n        let curv2 = v1.textureCoordinate.v / v1.projection.z;\n\n        let xPosition = v1.projection.x;\n        let xPosition2 = v1.projection.x;\n        let yPosition = v1.projection.y;\n\n        for (let i = 0; i < yDistanceRight; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * this.framebuffer.width + Math.round(xPosition)\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < this.framebuffer.wBuffer[framebufferIndex]) {\n                    this.framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n\n                    const u = Math.max(Math.min((uStart * z * this.framebuffer.bob.width), this.framebuffer.bob.width - 1), 0) | 0;\n                    const v = Math.max(Math.min((vStart * z * this.framebuffer.bob.height), this.framebuffer.bob.height - 1), 0) | 0;\n                    const color2 = this.framebuffer.bob.texture[u + v * this.framebuffer.bob.width];\n                    const alpha = this.pipeline.alpha * (color2 >> 24 & 0xff) / 255;\n                    const inverseAlpha = 1 - alpha;\n\n\n                    const r = (this.framebuffer.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (color2 >> 0 & 0xff) * alpha;\n                    const g = (this.framebuffer.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (color2 >> 8 & 0xff) * alpha;\n                    const b = (this.framebuffer.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (color2 >> 16 & 0xff) * alpha;\n\n                    this.framebuffer.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n\n        yDistanceRight = v3.projection.y - v2.projection.y;\n        slope2 = (v3.projection.x - v2.projection.x) / yDistanceRight;\n        zslope2 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceRight;\n\n        tslope2u = (v3.textureCoordinate.u / v3.projection.z - v2.textureCoordinate.u / v2.projection.z) / yDistanceRight;\n        tslope2v = (v3.textureCoordinate.v / v3.projection.z - v2.textureCoordinate.v / v2.projection.z) / yDistanceRight;\n\n        curz2 = 1.0 / v2.projection.z;\n\n        curu2 = v2.textureCoordinate.u / v2.projection.z;\n        curv2 = v2.textureCoordinate.v / v2.projection.z;\n\n        xPosition2 = v2.projection.x;\n        yPosition = v2.projection.y;\n\n        for (let i = 0; i < yDistanceRight; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * this.framebuffer.width + Math.round(xPosition)\n\n\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < this.framebuffer.wBuffer[framebufferIndex]) {\n                    this.framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n                    const u = Math.max(Math.min((uStart * z * this.framebuffer.bob.width), this.framebuffer.bob.width - 1), 0) | 0;\n                    const v = Math.max(Math.min((vStart * z * this.framebuffer.bob.height), this.framebuffer.bob.height - 1), 0) | 0;\n                    const color2 = this.framebuffer.bob.texture[u + v * this.framebuffer.bob.width];\n                    const alpha = this.pipeline.alpha * (color2 >> 24 & 0xff) / 255;\n                    const inverseAlpha = 1 - alpha;\n\n\n                    const r = (this.framebuffer.framebuffer[framebufferIndex] >> 0 & 0xff) * inverseAlpha + (color2 >> 0 & 0xff) * alpha;\n                    const g = (this.framebuffer.framebuffer[framebufferIndex] >> 8 & 0xff) * inverseAlpha + (color2 >> 8 & 0xff) * alpha;\n                    const b = (this.framebuffer.framebuffer[framebufferIndex] >> 16 & 0xff) * inverseAlpha + (color2 >> 16 & 0xff) * alpha;\n\n                    this.framebuffer.framebuffer[framebufferIndex] = r | (g << 8) | (b << 16) | (255 << 24);\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vector3f } from '../math/Vector3f';\nimport { Vector4f } from '../math/Vector4f';\nimport { Vertex } from '../Vertex';\nimport { AbstractScannlineTriangleRasterizer } from './AbstractScanlineTriangleRasterizer';\n\nexport class TexturedTriangleRasterizer extends AbstractScannlineTriangleRasterizer{\n\n    // requires\n    // bob und wbuffer\n    constructor(private framebuffer: Framebuffer) { \n        super();\n    }\n\n    protected fillLongRightTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n       \n        // left slope\n        let yDistanceLeft = v2.projection.y - v1.projection.y;\n        let slope1 = (v2.projection.x - v1.projection.x) / yDistanceLeft;\n        let tslope1u = (v2.textureCoordinate.u / v2.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceLeft;\n        let tslope1v = (v2.textureCoordinate.v / v2.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceLeft;\n        let zslope1 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n        let curz1 = 1.0 / v1.projection.z;\n        let curu1 = v1.textureCoordinate.u / v1.projection.z;\n        let curv1 = v1.textureCoordinate.v / v1.projection.z;\n        let xPosition = v1.projection.x;\n\n        // right slope\n        const yDistanceRight = v3.projection.y - v1.projection.y;\n        const slope2 = (v3.projection.x - v1.projection.x) / yDistanceRight;\n        const tslope2u = (v3.textureCoordinate.u / v3.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceRight;\n        const tslope2v = (v3.textureCoordinate.v / v3.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceRight;\n        const zslope2 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceRight;\n        let curz2 = 1.0 / v1.projection.z;\n        let curu2 = v1.textureCoordinate.u / v1.projection.z;\n        let curv2 = v1.textureCoordinate.v / v1.projection.z;\n        let xPosition2 = v1.projection.x;\n\n        let yPosition = v1.projection.y;\n\n        for (let i = 0; i < yDistanceLeft; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * framebuffer.width + Math.round(xPosition)\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n                    let u = Math.max(Math.min((uStart * z * framebuffer.bob.width), framebuffer.bob.width - 1), 0) | 0;\n                    let v = Math.max(Math.min((vStart * z * framebuffer.bob.height), framebuffer.bob.height - 1), 0) | 0;\n                    let color2 = framebuffer.bob.texture[u + v * framebuffer.bob.width];\n                    \n                \n                    u = uStart * z * framebuffer.bob.width;\n                    v = vStart * z * framebuffer.bob.height;\n                \n                   color2 = framebuffer.bob.getBilinearFilteredPixel2(u,v);\n\n                    framebuffer.framebuffer[framebufferIndex] = color2;\n\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n\n\n        yDistanceLeft = v3.projection.y - v2.projection.y;\n\n        if (yDistanceLeft === 0) {\n            return;\n        }\n\n        slope1 = (v3.projection.x - v2.projection.x) / yDistanceLeft;\n        zslope1 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceLeft;\n        tslope1u = (v3.textureCoordinate.u / v3.projection.z - v2.textureCoordinate.u / v2.projection.z) / yDistanceLeft;\n        tslope1v = (v3.textureCoordinate.v / v3.projection.z - v2.textureCoordinate.v / v2.projection.z) / yDistanceLeft;\n\n        curz1 = 1.0 / v2.projection.z;\n        curu1 = v2.textureCoordinate.u / v2.projection.z;\n        curv1 = v2.textureCoordinate.v / v2.projection.z;\n        xPosition = v2.projection.x;\n        yPosition = v2.projection.y;\n\n        for (let i = 0; i < yDistanceLeft; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * framebuffer.width + Math.round(xPosition)\n\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n\n                    const z = 1 / wStart;\n\n\n                    let u = Math.max(Math.min((uStart * z * framebuffer.bob.width), framebuffer.bob.width - 1), 0) | 0;\n                    let v = Math.max(Math.min((vStart * z * framebuffer.bob.height), framebuffer.bob.height - 1), 0) | 0;\n                    let color2 = framebuffer.bob.texture[u + v * framebuffer.bob.width];\n\n                    u = uStart * z * framebuffer.bob.width;\n                    v = vStart * z * framebuffer.bob.height;\n                \n                   color2 = framebuffer.bob.getBilinearFilteredPixel2(u,v);\n\n                    framebuffer.framebuffer[framebufferIndex] = color2;\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n    }\n\n    protected fillLongLeftTriangle(framebuffer: Framebuffer, v1: Vertex, v2: Vertex, v3: Vertex): void {\n\n        let yDistanceRight = v2.projection.y - v1.projection.y;\n        const yDistanceLeft = v3.projection.y - v1.projection.y;\n\n        let slope2 = (v2.projection.x - v1.projection.x) / yDistanceRight;\n        const slope1 = (v3.projection.x - v1.projection.x) / yDistanceLeft;\n\n        const tslope1u = (v3.textureCoordinate.u / v3.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceLeft;\n        let tslope2u = (v2.textureCoordinate.u / v2.projection.z - v1.textureCoordinate.u / v1.projection.z) / yDistanceRight;\n\n        const tslope1v = (v3.textureCoordinate.v / v3.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceLeft;\n        let tslope2v = (v2.textureCoordinate.v / v2.projection.z - v1.textureCoordinate.v / v1.projection.z) / yDistanceRight;\n\n\n        let zslope2 = (1 / v2.projection.z - 1 / v1.projection.z) / yDistanceRight;\n        const zslope1 = (1 / v3.projection.z - 1 / v1.projection.z) / yDistanceLeft;\n\n        let curz1 = 1.0 / v1.projection.z;\n        let curz2 = 1.0 / v1.projection.z;\n\n        let curu1 = v1.textureCoordinate.u / v1.projection.z;\n        let curv1 = v1.textureCoordinate.v / v1.projection.z;\n        let curu2 = v1.textureCoordinate.u / v1.projection.z;\n        let curv2 = v1.textureCoordinate.v / v1.projection.z;\n\n        let xPosition = v1.projection.x;\n        let xPosition2 = v1.projection.x;\n        let yPosition = v1.projection.y;\n\n        for (let i = 0; i < yDistanceRight; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * framebuffer.width + Math.round(xPosition)\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n\n                    let u = Math.max(Math.min((uStart * z * framebuffer.bob.width), framebuffer.bob.width - 1), 0) | 0;\n                    let v = Math.max(Math.min((vStart * z * framebuffer.bob.height), framebuffer.bob.height - 1), 0) | 0;\n                    let color2 = framebuffer.bob.texture[u + v * framebuffer.bob.width];\n                   \n                   \n                    u = uStart * z * framebuffer.bob.width;\n                    v = vStart * z * framebuffer.bob.height;\n                \n                   color2 = framebuffer.bob.getBilinearFilteredPixel2(u,v);\n\n                    framebuffer.framebuffer[framebufferIndex] = color2;\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n\n        yDistanceRight = v3.projection.y - v2.projection.y;\n        slope2 = (v3.projection.x - v2.projection.x) / yDistanceRight;\n        zslope2 = (1 / v3.projection.z - 1 / v2.projection.z) / yDistanceRight;\n\n        tslope2u = (v3.textureCoordinate.u / v3.projection.z - v2.textureCoordinate.u / v2.projection.z) / yDistanceRight;\n        tslope2v = (v3.textureCoordinate.v / v3.projection.z - v2.textureCoordinate.v / v2.projection.z) / yDistanceRight;\n\n        curz2 = 1.0 / v2.projection.z;\n\n        curu2 = v2.textureCoordinate.u / v2.projection.z;\n        curv2 = v2.textureCoordinate.v / v2.projection.z;\n\n        xPosition2 = v2.projection.x;\n        yPosition = v2.projection.y;\n\n        for (let i = 0; i < yDistanceRight; i++) {\n            const length = Math.round(xPosition2) - Math.round(xPosition);\n            let framebufferIndex = Math.round(yPosition) * framebuffer.width + Math.round(xPosition)\n\n\n            const spanzStep = (curz2 - curz1) / length;\n            const spanuStep = (curu2 - curu1) / length;\n            const spanvStep = (curv2 - curv1) / length;\n            let wStart = curz1;\n\n            let uStart = curu1;\n            let vStart = curv1;\n            for (let j = 0; j < length; j++) {\n                if (wStart < framebuffer.wBuffer[framebufferIndex]) {\n                    framebuffer.wBuffer[framebufferIndex] = wStart;\n                    const z = 1 / wStart;\n\n                    let u = Math.max(Math.min((uStart * z * framebuffer.bob.width), framebuffer.bob.width - 1), 0) | 0;\n                    let v = Math.max(Math.min((vStart * z * framebuffer.bob.height), framebuffer.bob.height - 1), 0) | 0;\n                    let color2 = framebuffer.bob.texture[u + v * framebuffer.bob.width];\n\n                    u = uStart * z * framebuffer.bob.width;\n                    v = vStart * z * framebuffer.bob.height;\n                \n                   color2 = framebuffer.bob.getBilinearFilteredPixel2(u,v);\n\n                    framebuffer.framebuffer[framebufferIndex] = color2;\n                }\n                framebufferIndex++;\n                wStart += spanzStep;\n                uStart += spanuStep;\n                vStart += spanvStep;\n            }\n\n            xPosition += slope1;\n            xPosition2 += slope2;\n            yPosition++;\n\n            curz1 += zslope1;\n            curz2 += zslope2;\n\n            curu1 += tslope1u;\n            curu2 += tslope2u;\n\n            curv1 += tslope1v;\n            curv2 += tslope2v;\n        }\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { Vector3f } from '../../math';\n\n/**\n * digital differential analyser line drawing algorithm\n * using fixed point math.\n * renders approx 1400 lines per millisecond on my machine\n */\nexport class LineRasterizerDda {\n\n    constructor(private framebuffer: Framebuffer) { }\n\n    public drawLineDDA(start: Vector3f, end: Vector3f, color: number): void {\n        const xDistance: number = end.x - start.x;\n        const yDistance: number = end.y - start.y;\n\n        let dx: number;\n        let dy: number;\n        let length: number;\n\n        if (Math.abs(xDistance) > Math.abs(yDistance)) {\n            dx = Math.sign(xDistance);\n            dy = yDistance / Math.abs(xDistance);\n            length = Math.abs(xDistance);\n        } else {\n            dx = xDistance / Math.abs(yDistance);\n            dy = Math.sign(yDistance);\n            length = Math.abs(yDistance);\n        }\n\n        let xPosition: number = start.x;\n        let yPosition: number = start.y;\n\n        // w=1/z interpolation for z-buffer\n        let wStart = 1 / (start.z);\n        const wDelta = (1 / end.z - 1 / start.z) / length;\n\n        for (let i = 0; i <= length; i++) {\n            if (wStart < this.framebuffer.wBuffer[Math.round(xPosition) + Math.round(yPosition) * this.framebuffer.width]) {\n                this.framebuffer.wBuffer[Math.round(xPosition) + Math.round(yPosition) * this.framebuffer.width] = wStart;\n                this.framebuffer.drawPixel(Math.round(xPosition), Math.round(yPosition), color);\n            }\n            xPosition += dx;\n            yPosition += dy;\n            wStart += wDelta;\n        }\n    }\n\n}\n","import { Framebuffer } from '../../Framebuffer';\nimport { Vector3f } from '../../math';\n\nexport class LineRasterizerNoZ {\n\n    constructor(private framebuffer: Framebuffer) { }\n\n    public drawLineDDANoZ(start: Vector3f, end: Vector3f, color: number): void {\n        const xDistance: number = end.x - start.x;\n        const yDistance: number = end.y - start.y;\n\n        let dx: number;\n        let dy: number;\n        let length: number;\n\n        if (Math.abs(xDistance) > Math.abs(yDistance)) {\n            dx = Math.sign(xDistance);\n            dy = yDistance / Math.abs(xDistance);\n            length = Math.abs(xDistance);\n        } else {\n            dx = xDistance / Math.abs(yDistance);\n            dy = Math.sign(yDistance);\n            length = Math.abs(yDistance);\n        }\n\n        let xPosition: number = start.x;\n        let yPosition: number = start.y;\n\n        for (let i = 0; i <= length; i++) {\n\n            this.framebuffer.drawPixel(Math.round(xPosition), Math.round(yPosition), color);\n\n            xPosition += dx;\n            yPosition += dy;\n\n        }\n    }\n\n}\n","import { CullFace } from '../CullFace';\nimport { Framebuffer } from '../Framebuffer';\n\nexport class AbstractRenderingPipeline {\n\n    public NEAR_PLANE_Z: number = -1.7;\n    public alpha: number;\n    private cullMode: CullFace = CullFace.BACK;\n\n    constructor(protected framebuffer: Framebuffer) { }\n\n    public setCullFace(face: CullFace): void {\n        this.cullMode = face;\n    }\n\n    public setAlpha(alpha: number): void {\n        this.alpha = Math.max(Math.min(alpha, 1.0), 0.0);\n    }\n\n    public isInFrontOfNearPlane(p: { x: number; y: number; z: number }): boolean {\n        return p.z < this.NEAR_PLANE_Z;\n    }\n\n    /**\n     * based on signed polygon area computation:\n     * http://www.faqs.org/faqs/graphics/algorithms-faq/\n     * https://stackoverflow.com/questions/1165647/how-to-determine-if-a-list-of-polygon-points-are-in-clockwise-order\n     * http://csharphelper.com/blog/2014/07/calculate-the-area-of-a-polygon-in-c/\n     * http://mathworld.wolfram.com/PolygonArea.html\n     *\n     * @private\n     * @param {{ x: number, y: number, z: number }} v1\n     * @param {{ x: number, y: number, z: number }} v2\n     * @param {{ x: number, y: number, z: number }} v3\n     * @returns {boolean}\n     * @memberof Framebuffer\n     *\n     */\n    public isTriangleCCW(v1: { x: number, y: number, z: number },\n        v2: { x: number, y: number, z: number },\n        v3: { x: number, y: number, z: number }): boolean {\n        const det: number =\n            v1.x * v2.y - v2.x * v1.y +\n            v2.x * v3.y - v3.x * v2.y +\n            v3.x * v1.y - v1.x * v3.y;\n        if (this.cullMode === CullFace.BACK) {\n            return det < 0.0;\n        } else {\n            return det > 0.0;\n        }\n    }\n\n    public isTriangleCCW2(v1: { x: number, y: number, z: number },\n        v2: { x: number, y: number, z: number },\n        v3: { x: number, y: number, z: number },\n        v4: { x: number, y: number, z: number }): boolean {\n        const det: number =\n            v1.x * v2.y - v2.x * v1.y +\n            v2.x * v3.y - v3.x * v2.y +\n            v3.x * v4.y - v4.x * v3.y +\n            v4.x * v1.y - v1.x * v4.y;\n        if (this.cullMode === CullFace.BACK) {\n            return det < 0.0;\n        } else {\n            return det > 0.0;\n        }\n    }\n\n}\n","import { Color } from '../core/Color';\nimport { Framebuffer } from '../Framebuffer';\nimport { FlatshadedMesh } from '../geometrical-objects/FlatshadedMesh';\nimport { Vector4f } from '../math/index';\nimport { Matrix4f } from '../math/Matrix4f';\nimport { SutherlandHodgman2DClipper } from '../screen-space-clipping/SutherlandHodgman2DClipper';\nimport { Fog } from '../shading/fog/Fog';\nimport { PhongLighting } from '../shading/illumination-models/PhongLighting';\nimport { PointLight } from '../shading/light/PointLight';\nimport { Material } from '../shading/material/Material';\nimport { Vertex } from '../Vertex';\nimport { AbstractRenderingPipeline } from './AbstractRenderingPipeline';\nimport { AbstractTriangleRasterizer } from '../rasterizer/AbstractTriangleRasterizer';\nimport { GouraudShadingTriangleRasterizer } from '../rasterizer/GouraudShadingTriangleRasterizer';\n\n/**\n * TODO:\n * - object with position, rotation, material, color\n * - remove tempp matrix objects: instead store one global MV  matrix and manipulate\n *   it directly without generating temp amtrices every frame\n * - no lighting for culled triangles\n * - only z clip if necessary (no clip, fully visible)\n * Optimization:\n * - no shading / only texture mapping (use function pointers to set correct rasterization function)\n * - use delta step method from black art of 3d programming\n * - generate object only once\n * - dont use temp arrays / instead use always the same array preallocated\n */\nexport class GouraudShadingRenderingPipeline extends AbstractRenderingPipeline {\n\n    private fog: Fog = null;\n    private lights: Array<PointLight> = null;\n    private material: Material = null;\n    private lighting: boolean = true;\n    private color: Color = Color.WHITE;\n\n    // it is possible to change the rasterizer here for\n    // flat, gouroud, texture mapping etc.. should be done with clipper as well!\n    private triangleRasterizer: AbstractTriangleRasterizer = null;\n    private clipper: SutherlandHodgman2DClipper;\n\n    private projectedVertices: Array<Vector4f> = new Array<Vector4f>(\n        new Vector4f(0, 0, 0, 1), new Vector4f(0, 0, 0, 1), new Vector4f(0, 0, 0, 1)\n    );\n\n    private vertexArray: Array<Vertex> = new Array<Vertex>(\n        new Vertex(), new Vertex(), new Vertex()\n    );\n\n    public constructor(framebuffer: Framebuffer) {\n        super(framebuffer);\n        this.clipper = new SutherlandHodgman2DClipper(framebuffer);\n\n        const light1: PointLight = new PointLight();\n        light1.ambientIntensity = new Vector4f(1, 1, 1, 1);\n        light1.diffuseIntensity = new Vector4f(1, 1, 1, 1);\n        light1.specularIntensity = new Vector4f(1, 1, 1, 1);\n        light1.position = new Vector4f(3, 0, -2, 1);\n\n        const light2: PointLight = new PointLight();\n        light2.ambientIntensity = new Vector4f(0, 0, 1, 1);\n        light2.diffuseIntensity = new Vector4f(0, 0.6, 1, 1);\n        light2.specularIntensity = new Vector4f(0.8, 0.8, 0.8, 1);\n        light2.position = new Vector4f(0, -380, -180, 1);\n\n        this.lights = [light1, light2];\n\n        const mat: Material = new Material();\n        mat.ambientColor = new Vector4f(0.12, 0.14, 0.1, 0);\n        mat.diffuseColor = new Vector4f(0.38, 0.4, 0.4, 1);\n        mat.specularColor = new Vector4f(0.8, 0.5, 0.5, 0);\n        mat.shininess = 2;\n\n        this.material = mat;\n        this.triangleRasterizer = new GouraudShadingTriangleRasterizer(framebuffer);\n    }\n\n    public setFramebuffer(framebuffer: Framebuffer) {\n        this.framebuffer = framebuffer;\n    }\n\n    public setFog(fog: Fog): void {\n        this.fog = fog;\n    }\n\n    public setLights(lights: Array<PointLight>): void {\n        this.lights = lights;\n    }\n\n    public enableLighting(enable: boolean): void {\n        this.lighting = enable;\n    }\n\n    public setMaterial(material: Material): void {\n        this.material = material;\n    }\n\n    public setColor(color: Color): void {\n        this.color = color;\n    }\n\n    public draw(framebuffer: Framebuffer, mesh: FlatshadedMesh, modelViewMartrix: Matrix4f): void {\n\n        const normalMatrix: Matrix4f = modelViewMartrix.computeNormalMatrix();\n\n        for (let i: number = 0; i < mesh.normals.length; i++) {\n            normalMatrix.multiplyHomArr(mesh.normals[i], mesh.transformedNormals[i]);\n        }\n\n        for (let i: number = 0; i < mesh.points.length; i++) {\n            modelViewMartrix.multiplyHomArr(mesh.points[i], mesh.transformedPoints[i]);\n        }\n\n        for (let i: number = 0; i < mesh.faces.length; i++) {\n            const v1: Vector4f = mesh.transformedPoints[mesh.faces[i].v1];\n            const v2: Vector4f = mesh.transformedPoints[mesh.faces[i].v2];\n            const v3: Vector4f = mesh.transformedPoints[mesh.faces[i].v3];\n\n            const normal1: Vector4f = mesh.transformedNormals[mesh.faces[i].n1];\n            const normal2: Vector4f = mesh.transformedNormals[mesh.faces[i].n2];\n            const normal3: Vector4f = mesh.transformedNormals[mesh.faces[i].n3];\n\n            if (this.isInFrontOfNearPlane(v1) &&\n                this.isInFrontOfNearPlane(v2) &&\n                this.isInFrontOfNearPlane(v3)) {\n\n                this.project2(v1, this.projectedVertices[0]);\n                this.project2(v2, this.projectedVertices[1]);\n                this.project2(v3, this.projectedVertices[2]);\n\n                this.vertexArray[0].position = v1;\n                this.vertexArray[0].projection = this.projectedVertices[0];\n                this.vertexArray[0].normal = normal1;\n\n                this.vertexArray[1].position = v2;\n                this.vertexArray[1].projection = this.projectedVertices[1];\n                this.vertexArray[1].normal = normal2;\n\n                this.vertexArray[2].position = v3;\n                this.vertexArray[2].projection = this.projectedVertices[2];\n                this.vertexArray[2].normal = normal3;\n\n                this.renderConvexPolygon(framebuffer, this.vertexArray, true);\n            } else if (!this.isInFrontOfNearPlane(v1) &&\n                !this.isInFrontOfNearPlane(v2) &&\n                !this.isInFrontOfNearPlane(v3)) {\n                continue;\n            } else {\n                this.vertexArray[0].position = v1;\n                this.vertexArray[1].position = v2;\n                this.vertexArray[2].position = v3;\n\n                if (this.lighting) {\n                    this.vertexArray[0].color = this.computeColor(normal1, v1);\n                    this.vertexArray[1].color = this.computeColor(normal2, v2);\n                    this.vertexArray[2].color = this.computeColor(normal3, v3);\n                } else {\n                    this.vertexArray[0].color = this.color;\n                    this.vertexArray[1].color = this.color;\n                    this.vertexArray[2].color = this.color;\n                }\n\n                const output: Array<Vertex> = this.zClipTriangle(this.vertexArray);\n\n                if (output.length < 3) {\n                    return;\n                }\n                /*\n                                const projected: Array<Vertex> = output.map<Vertex>((v: Vertex) => {\n                                    v.projection = this.project(v.position);\n                                    return v;\n                                });*/\n\n                for (let j: number = 0; j < output.length; j++) {\n                    output[j].projection = this.project(output[j].position);\n                }\n\n                this.renderConvexPolygon(framebuffer, output, false);\n            }\n        }\n    }\n\n    public project(t1: { x: number, y: number, z: number }): Vector4f {\n        return new Vector4f(\n            Math.round((this.framebuffer.width / 2) + (292 * t1.x / (-t1.z))),\n            Math.round((this.framebuffer.height / 2) - (t1.y * 292 / (-t1.z))),\n            t1.z\n        );\n    }\n\n    public project2(t1: { x: number, y: number, z: number }, result: Vector4f): void {\n        result.x = Math.round((this.framebuffer.width / 2) + (292 * t1.x / (-t1.z)));\n        result.y = Math.round((this.framebuffer.height / 2) - (t1.y * 292 / (-t1.z)));\n        result.z = t1.z;\n    }\n\n    public computeNearPlaneIntersection(p1: Vertex, p2: Vertex): Vertex {\n        // TODO: interpolate color linear\n        const ratio: number = (this.NEAR_PLANE_Z - p1.position.z) / (p2.position.z - p1.position.z);\n        const vertex: Vertex = new Vertex();\n        vertex.position = new Vector4f(\n            ratio * (p2.position.x - p1.position.x) + p1.position.x,\n            ratio * (p2.position.y - p1.position.y) + p1.position.y,\n            this.NEAR_PLANE_Z\n        );\n        vertex.color = p2.color.sub(p1.color).mul(ratio).add(p1.color);\n        return vertex;\n    }\n\n    public zClipTriangle(subject: Array<Vertex>): Array<Vertex> {\n        const input: Array<Vertex> = subject;\n        const output: Array<Vertex> = new Array<Vertex>();\n        let S: Vertex = input[input.length - 1];\n\n        for (let i: number = 0; i < input.length; i++) {\n            const point: Vertex = input[i];\n            if (this.isInFrontOfNearPlane(point.position)) {\n                if (!this.isInFrontOfNearPlane(S.position)) {\n                    output.push(this.computeNearPlaneIntersection(S, point));\n                }\n                output.push(point);\n            } else if (this.isInFrontOfNearPlane(S.position)) {\n                output.push(this.computeNearPlaneIntersection(S, point));\n            }\n            S = point;\n        }\n\n        return output;\n    }\n\n    private renderConvexPolygon(framebuffer: Framebuffer, projected: Array<Vertex>, late: boolean = false): void {\n        if (projected.length === 3 &&\n            !this.isTriangleCCW(\n                projected[0].projection,\n                projected[1].projection,\n                projected[2].projection)) {\n            return;\n        }\n\n        if (late) {\n            if (this.lighting) {\n                this.vertexArray[0].color = this.computeColor(this.vertexArray[0].normal, this.vertexArray[0].position);\n                this.vertexArray[1].color = this.computeColor(this.vertexArray[1].normal, this.vertexArray[1].position);\n                this.vertexArray[2].color = this.computeColor(this.vertexArray[2].normal, this.vertexArray[2].position);\n            } else {\n                this.vertexArray[0].color = this.color;\n                this.vertexArray[1].color = this.color;\n                this.vertexArray[2].color = this.color;\n            }\n\n        }\n\n        if (projected.length === 4 &&\n            !this.isTriangleCCW2(\n                projected[0].projection,\n                projected[1].projection,\n                projected[2].projection,\n                projected[3].projection)\n        ) {\n            return;\n        }\n\n        const clippedPolygon: Array<Vertex> = this.clipper.clipConvexPolygon(projected);\n\n        if (clippedPolygon.length < 3) {\n            return;\n        }\n\n        this.triangulateConvexPolygon(framebuffer, clippedPolygon);\n    }\n\n    private triangulateConvexPolygon(framebuffer:Framebuffer, clippedPolygon: Array<Vertex>): void {\n        for (let j: number = 0; j < clippedPolygon.length - 2; j++) {\n            this.triangleRasterizer.drawTriangleDDA(\n                framebuffer,\n                clippedPolygon[0],\n                clippedPolygon[1 + j],\n                clippedPolygon[2 + j]\n            );\n        }\n    }\n\n    private computeColor(normal: Vector4f, vertex: Vector4f): Color {\n\n        // TODO: if lighting is enabled use mat and light\n        // else use Color set\n\n        let vertexColor: Vector4f = new PhongLighting().computeColor(this.material, this.lights, normal, vertex);\n\n        if (this.fog !== null) {\n            vertexColor = this.fog.computeVertexColor(vertexColor, vertex);\n        }\n\n        return new Color(\n            Math.min(255, vertexColor.x * 255),\n            Math.min(255, vertexColor.y * 255),\n            Math.min(255, vertexColor.z * 255),\n            255\n        );\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Matrix4f } from '../math/Matrix4f';\nimport { Vector4f } from '../math/Vector4f';\nimport { AbstractTriangleRasterizer } from '../rasterizer/AbstractTriangleRasterizer';\nimport { TexturedAlphaBlendingTriangleRasterizer } from '../rasterizer/TexturedAlphaBlendingTriangleRasterizer';\nimport { TexturedTriangleRasterizer } from '../rasterizer/TexturedTriangleRasterizer';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { Vertex } from '../Vertex';\nimport { AbstractRenderingPipeline } from './AbstractRenderingPipeline';\nimport { TexturedMesh } from './TexturedMesh';\n\nexport class TexturingRenderingPipeline extends AbstractRenderingPipeline {\n\n    private sphereMapping: boolean = false;\n    public triangleRasterizer: AbstractTriangleRasterizer = null;\n\n    private vertexArray: Array<Vertex> = new Array<Vertex>(\n        new Vertex(), new Vertex(), new Vertex()\n    );\n    setSphereMapping(arg0: boolean) {\n        this.sphereMapping = arg0;\n    }\n\n    private modelViewMatrix: Matrix4f;\n\n    private projectedVertices: Array<Vector4f> = new Array<Vector4f>(\n        new Vector4f(0, 0, 0, 1), new Vector4f(0, 0, 0, 1), new Vector4f(0, 0, 0, 1)\n    );\n\n    constructor(framebuffer: Framebuffer) {\n        super(framebuffer);\n        this.setAlpha(1.0);\n        this.triangleRasterizer = new TexturedTriangleRasterizer(framebuffer);\n    }\n\n    public setFramebuffer(framebuffer: Framebuffer) {\n        this.framebuffer = framebuffer;\n    }\n\n    public enableAlphaBlending(): void {\n        this.triangleRasterizer = new TexturedAlphaBlendingTriangleRasterizer(this.framebuffer, this);\n    }\n\n    public disableAlphaBlending(): void {\n        this.triangleRasterizer = new TexturedTriangleRasterizer(this.framebuffer);\n    }\n\n    public setModelViewMatrix(matrix: Matrix4f): void {\n        this.modelViewMatrix = matrix;\n    }\n\n    public drawMeshArray(framebuffer: Framebuffer, meshes: Array<TexturedMesh>): void {\n        for (let j: number = 0; j < meshes.length; j++) {\n            const model: TexturedMesh = meshes[j];\n            this.draw(framebuffer, model);\n        }\n    }\n\n    public draw(framebuffer: Framebuffer, mesh: TexturedMesh): void {\n        if (mesh.normals) {\n            const normalMatrix: Matrix4f = this.modelViewMatrix.computeNormalMatrix();\n\n            for (let i: number = 0; i < mesh.normals.length; i++) {\n                normalMatrix.multiplyHomArr(mesh.normals[i], mesh.normals2[i]);\n            }\n        }\n\n        for (let i: number = 0; i < mesh.points.length; i++) {\n            this.modelViewMatrix.multiplyHomArr(mesh.points[i], mesh.points2[i]);\n        }\n\n        for (let i: number = 0; i < mesh.faces.length; i++) {\n            const v1: Vector4f = mesh.points2[mesh.faces[i].vertices[0]];\n            const v2: Vector4f = mesh.points2[mesh.faces[i].vertices[1]];\n            const v3: Vector4f = mesh.points2[mesh.faces[i].vertices[2]];\n\n            if (this.isInFrontOfNearPlane(v1) &&\n                this.isInFrontOfNearPlane(v2) &&\n                this.isInFrontOfNearPlane(v3)) {\n\n                this.project2(v1, this.projectedVertices[0]);\n                this.project2(v2, this.projectedVertices[1]);\n                this.project2(v3, this.projectedVertices[2]);\n\n                if (this.isTriangleCCW(\n                    this.projectedVertices[0],\n                    this.projectedVertices[1],\n                    this.projectedVertices[2])) {\n\n                    this.vertexArray[0].projection = this.projectedVertices[0]; // p1 is Vector3f\n                    this.vertexArray[1].projection = this.projectedVertices[1];\n                    this.vertexArray[2].projection = this.projectedVertices[2];\n\n                    if (this.sphereMapping) {\n                        const n1: Vector4f = mesh.normals2[mesh.faces[i].normals[0]];\n                        const n2: Vector4f = mesh.normals2[mesh.faces[i].normals[1]];\n                        const n3: Vector4f = mesh.normals2[mesh.faces[i].normals[2]];\n                        framebuffer.fakeSphere(n1, this.vertexArray[0]);\n                        framebuffer.fakeSphere(n2, this.vertexArray[1]);\n                        framebuffer.fakeSphere(n3, this.vertexArray[2]);\n                    } else {\n                        this.vertexArray[0].textureCoordinate = mesh.uv[mesh.faces[i].uv[0]];\n                        this.vertexArray[1].textureCoordinate = mesh.uv[mesh.faces[i].uv[1]];\n                        this.vertexArray[2].textureCoordinate = mesh.uv[mesh.faces[i].uv[2]];\n                    }\n                  \n\n                    this.clipConvexPolygon2(framebuffer, this.vertexArray);\n                }\n            } else if (!this.isInFrontOfNearPlane(v1) &&\n                !this.isInFrontOfNearPlane(v2) &&\n                !this.isInFrontOfNearPlane(v3)) {\n                continue;\n            } else {\n                this.vertexArray[0].position = v1; // v1 is Vector4f\n                this.vertexArray[0].textureCoordinate = mesh.uv[mesh.faces[i].uv[0]];\n\n                this.vertexArray[1].position = v2;\n                this.vertexArray[1].textureCoordinate = mesh.uv[mesh.faces[i].uv[1]];\n\n                this.vertexArray[2].position = v3;\n                this.vertexArray[2].textureCoordinate = mesh.uv[mesh.faces[i].uv[2]];\n\n                this.zClipTriangle2(framebuffer, this.vertexArray);\n            }\n        }\n    }\n\n    public project(t1: { x: number, y: number, z: number }): Vector4f {\n        return new Vector4f(\n            Math.round((this.framebuffer.width / 2) + (292 * t1.x / (-t1.z))),\n            Math.round((this.framebuffer.height / 2) - (t1.y * 292 / (-t1.z))),\n            t1.z\n        );\n    }\n\n    public project2(t1: { x: number, y: number, z: number }, result: Vector4f): void {\n        result.x = Math.round((this.framebuffer.width / 2) + (292 * t1.x / (-t1.z)));\n        result.y = Math.round((this.framebuffer.height / 2) - (t1.y * 292 / (-t1.z)));\n        result.z = t1.z;\n    }\n\n    public computeNearPlaneIntersection2(p1: Vertex, p2: Vertex): Vertex {\n        const ratio: number = (this.NEAR_PLANE_Z - p1.position.z) / (p2.position.z - p1.position.z);\n        const vertex: Vertex = new Vertex();\n\n        vertex.position = new Vector4f(\n            ratio * (p2.position.x - p1.position.x) + p1.position.x,\n            ratio * (p2.position.y - p1.position.y) + p1.position.y,\n            this.NEAR_PLANE_Z\n        );\n\n        vertex.textureCoordinate = new TextureCoordinate(\n            ratio * (p2.textureCoordinate.u - p1.textureCoordinate.u) + p1.textureCoordinate.u,\n            ratio * (p2.textureCoordinate.v - p1.textureCoordinate.v) + p1.textureCoordinate.v\n        );\n\n        return vertex;\n    }\n\n    public zClipTriangle2(framebuffer: Framebuffer, subject: Array<Vertex>): void {\n        const input: Array<Vertex> = subject;\n        const output: Array<Vertex> = new Array<Vertex>();\n        let S: Vertex = input[input.length - 1];\n\n        for (let i: number = 0; i < input.length; i++) {\n            const point: Vertex = input[i];\n            if (this.isInFrontOfNearPlane(point.position)) {\n                if (!this.isInFrontOfNearPlane(S.position)) {\n                    output.push(this.computeNearPlaneIntersection2(S, point));\n                }\n                output.push(point);\n            } else if (this.isInFrontOfNearPlane(S.position)) {\n                output.push(this.computeNearPlaneIntersection2(S, point));\n            }\n            S = point;\n        }\n\n        if (output.length < 3) {\n            return;\n        }\n\n        // TODO: remove temp object here\n        const projected: Array<Vertex> = output.map<Vertex>((v: Vertex) => {\n            v.projection = this.project(v.position);\n            return v;\n        });\n\n        if (output.length === 3 &&\n            !this.isTriangleCCW(projected[0].projection, projected[1].projection, projected[2].projection)) {\n            return;\n        }\n\n        if (output.length === 4 &&\n            !this.isTriangleCCW2(\n                projected[0].projection,\n                projected[1].projection,\n                projected[2].projection,\n                projected[3].projection\n            )) {\n            return;\n        }\n\n        this.clipConvexPolygon2(framebuffer, projected);\n    }\n\n\n    public clipConvexPolygon2(framebuffer: Framebuffer, subject: Array<Vertex>): void {\n\n        let output = subject;\n\n        for (let j = 0; j < framebuffer.clipRegion.length; j++) {\n            const edge = framebuffer.clipRegion[j];\n            const input = output;\n            output = new Array<Vertex>();\n            let S = input[input.length - 1];\n\n            for (let i = 0; i < input.length; i++) {\n                const point = input[i];\n                if (edge.isInside2(point)) {\n                    if (!edge.isInside2(S)) {\n                        output.push(edge.computeIntersection2(S, point));\n                    }\n                    output.push(point);\n                } else if (edge.isInside2(S)) {\n                    output.push(edge.computeIntersection2(S, point));\n                }\n                S = point;\n            }\n        }\n\n        if (output.length < 3) {\n            return;\n        }\n\n        // triangulate new point set\n        for (let i = 0; i < output.length - 2; i++) {\n            this.triangleRasterizer.drawTriangleDDA(framebuffer, output[0], output[1 + i], output[2 + i]);\n        }\n    }\n\n}\n","import { Framebuffer } from './../Framebuffer';\n\nexport abstract class AbstractScene {\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    public init(framebuffer: Framebuffer): Promise<any> {\n        return Promise.all([]);\n    }\n\n    public onInit(): void {\n\n    }\n\n    public abstract render(framebuffer: Framebuffer, time: number): void;\n\n}\n","import { Vertex } from '../Vertex';\n\n// TODO:\n// - use polymorphism in order to have different intersection methods\n// - one for plain clipping / one for tex coords / one for multitexturing / gouraud shading etc\nexport abstract class AbstractClipEdge {\n\n    public abstract isInside(p: Vertex): boolean;\n    public abstract isInside2(p: Vertex): boolean;\n    public abstract computeIntersection(p1: Vertex, p2: Vertex): Vertex;\n    public abstract computeIntersection2(p1: Vertex, p2: Vertex): Vertex;\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vector4f } from '../math';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { Vertex } from '../Vertex';\nimport { AbstractClipEdge } from './AbstractClipEdge';\n\nexport class BottomClipEdge extends AbstractClipEdge {\n\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    public isInside(p: Vertex): boolean {\n        return p.projection.y >= this.framebuffer.minWindow.y;\n    }\n\n    public isInside2(p: Vertex): boolean {\n        return p.projection.y >= this.framebuffer.minWindow.y;\n    }\n\n    public computeIntersection(p1: Vertex, p2: Vertex): Vertex {\n        const vertex: Vertex = new Vertex();\n        // since this is for flat shading no interpolation is required\n        const factor: number = (this.framebuffer.minWindow.y - p1.projection.y) / (p2.projection.y - p1.projection.y);\n        vertex.color = p2.color.sub(p1.color).mul(factor).add(p1.color);\n        vertex.projection = new Vector4f(\n            Math.round(p1.projection.x + (p2.projection.x - p1.projection.x) * factor),\n            this.framebuffer.minWindow.y,\n            1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * factor));\n        return vertex;\n    }\n\n    public computeIntersection2(p1: Vertex, p2: Vertex): Vertex {\n        const vertex: Vertex = new Vertex();\n        vertex.projection =\n            new Vector4f(\n                Math.round(p1.projection.x + (p2.projection.x - p1.projection.x) * (this.framebuffer.minWindow.y - p1.projection.y) / (p2.projection.y - p1.projection.y)),\n                this.framebuffer.minWindow.y,\n                1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * (this.framebuffer.minWindow.y - p1.projection.y) / (p2.projection.y - p1.projection.y)));\n\n        const textCoord: TextureCoordinate = new TextureCoordinate();\n        const z: number = vertex.projection.z;\n        textCoord.u = (p1.textureCoordinate.u / p1.projection.z + (p2.textureCoordinate.u / p2.projection.z - p1.textureCoordinate.u / p1.projection.z) * (this.framebuffer.minWindow.y - p1.projection.y) / (p2.projection.y - p1.projection.y)) * z;\n        textCoord.v = (p1.textureCoordinate.v / p1.projection.z + (p2.textureCoordinate.v / p2.projection.z - p1.textureCoordinate.v / p1.projection.z) * (this.framebuffer.minWindow.y - p1.projection.y) / (p2.projection.y - p1.projection.y)) * z;\n        vertex.textureCoordinate = textCoord;\n\n        return vertex;\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vector3f } from '../math/Vector3f';\n\nexport class CohenSutherlandLineClipper {\n\n    public static REGION_CODE_CENTER = 0b0000;\n    public static REGION_CODE_LEFT = 0b0001;\n    public static REGION_CODE_RIGHT = 0b0010;\n    public static REGION_CODE_BOTTOM = 0b0100;\n    public static REGION_CODE_TOP = 0b1000;\n\n    constructor(private framebuffer: Framebuffer) { }\n\n    public cohenSutherlandLineClipper(start: Vector3f, end: Vector3f, col: number) {\n        let p1: Vector3f = new Vector3f(start.x, start.y, start.z);\n        let p2: Vector3f = new Vector3f(end.x, end.y, end.z);\n\n        let code1: number = this.computeRegionCode(p1);\n        let code2: number = this.computeRegionCode(p2);\n\n        let accept: boolean = false;\n        let done: boolean = false;\n\n        while (!done) {\n\n            if (this.isTrivialAccept(code1, code2)) {\n                accept = true;\n                done = true;\n            } else if (this.isTrivialReject(code1, code2)) {\n                done = true;\n            } else {\n\n                if (code1 === CohenSutherlandLineClipper.REGION_CODE_CENTER) {\n                    const tempCode: number = code1;\n                    code1 = code2;\n                    code2 = tempCode;\n\n                    const tempPoint: Vector3f = p1;\n                    p1 = p2;\n                    p2 = tempPoint;\n                }\n\n                if ((code1 & CohenSutherlandLineClipper.REGION_CODE_TOP) !== CohenSutherlandLineClipper.REGION_CODE_CENTER) {\n                    p1.x = (p1.x + (p2.x - p1.x) * (this.framebuffer.maxWindow.y - p1.y) / (p2.y - p1.y));\n                    p1.y = this.framebuffer.maxWindow.y;\n                } else if ((code1 & CohenSutherlandLineClipper.REGION_CODE_BOTTOM) !== CohenSutherlandLineClipper.REGION_CODE_CENTER) {\n                    p1.x = (p1.x + (p2.x - p1.x) * (this.framebuffer.minWindow.y - p1.y) / (p2.y - p1.y));\n                    p1.y = this.framebuffer.minWindow.y;\n                } else if ((code1 & CohenSutherlandLineClipper.REGION_CODE_RIGHT) !== CohenSutherlandLineClipper.REGION_CODE_CENTER) {\n                    p1.y = (p1.y + (p2.y - p1.y) * (this.framebuffer.maxWindow.x - p1.x) / (p2.x - p1.x));\n                    p1.x = this.framebuffer.maxWindow.x;\n                } else if ((code1 & CohenSutherlandLineClipper.REGION_CODE_LEFT) !== CohenSutherlandLineClipper.REGION_CODE_CENTER) {\n                    p1.y = (p1.y + (p2.y - p1.y) * (this.framebuffer.minWindow.x - p1.x) / (p2.x - p1.x));\n                    p1.x = this.framebuffer.minWindow.x;\n                }\n\n                code1 = this.computeRegionCode(p1);\n            }\n        }\n\n        if (accept) {\n            this.framebuffer.drawLineDDA(p1, p2, col);\n        }\n    }\n\n    public isTrivialAccept(code1: number, code2: number): boolean {\n        return (code1 | code2) === CohenSutherlandLineClipper.REGION_CODE_CENTER;\n    }\n\n    public isTrivialReject(code1: number, code2: number): boolean {\n        return (code1 & code2) !== CohenSutherlandLineClipper.REGION_CODE_CENTER;\n    }\n\n    public computeRegionCode(point: Vector3f): number {\n        let regionCode: number = CohenSutherlandLineClipper.REGION_CODE_CENTER;\n\n        if (point.x < this.framebuffer.minWindow.x) {\n            regionCode |= CohenSutherlandLineClipper.REGION_CODE_LEFT;\n        } else if (point.x > this.framebuffer.maxWindow.x) {\n            regionCode |= CohenSutherlandLineClipper.REGION_CODE_RIGHT;\n        }\n\n        if (point.y < this.framebuffer.minWindow.y) {\n            regionCode |= CohenSutherlandLineClipper.REGION_CODE_BOTTOM;\n        } else if (point.y > this.framebuffer.maxWindow.y) {\n            regionCode |= CohenSutherlandLineClipper.REGION_CODE_TOP;\n        }\n\n        return regionCode;\n    }\n\n}\n","import { AbstractClipEdge } from './AbstractClipEdge';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { Vertex } from '../Vertex';\nimport { Framebuffer } from '../Framebuffer';\nimport { Vector4f } from '../math/Vector4f';\n\nexport class LeftClipEdge extends AbstractClipEdge {\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    public isInside(p: Vertex): boolean {\n        return p.projection.x >= 0;\n    }\n\n    public isInside2(p: Vertex): boolean {\n        return p.projection.x >= 0;\n    }\n\n    public computeIntersection(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        const factor: number = (this.framebuffer.minWindow.x - p1.projection.x) / (p2.projection.x - p1.projection.x);\n        vertex.color = p2.color.sub(p1.color).mul(factor).add(p1.color);\n        vertex.projection = new Vector4f(this.framebuffer.minWindow.x,\n            Math.round(p1.projection.y + (p2.projection.y - p1.projection.y) * factor),\n            1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * factor));\n        return vertex;\n    }\n\n    public computeIntersection2(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        vertex.projection =\n            new Vector4f(this.framebuffer.minWindow.x,\n                Math.round(p1.projection.y + (p2.projection.y - p1.projection.y) * (this.framebuffer.minWindow.x - p1.projection.x) / (p2.projection.x - p1.projection.x)),\n                1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * (this.framebuffer.minWindow.x - p1.projection.x) / (p2.projection.x - p1.projection.x)));\n\n        const textCoord = new TextureCoordinate();\n        const z = vertex.projection.z;\n        textCoord.u = (p1.textureCoordinate.u / p1.projection.z + (p2.textureCoordinate.u / p2.projection.z - p1.textureCoordinate.u / p1.projection.z) * (this.framebuffer.minWindow.x - p1.projection.x) / (p2.projection.x - p1.projection.x)) * z;\n        textCoord.v = (p1.textureCoordinate.v / p1.projection.z + (p2.textureCoordinate.v / p2.projection.z - p1.textureCoordinate.v / p1.projection.z) * (this.framebuffer.minWindow.x - p1.projection.x) / (p2.projection.x - p1.projection.x)) * z;\n        vertex.textureCoordinate = textCoord;\n\n        return vertex;\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { Vertex } from '../Vertex';\nimport { AbstractClipEdge } from './AbstractClipEdge';\nimport { Vector4f } from '../math/Vector4f';\n\nexport class RightClipEdge extends AbstractClipEdge {\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    public isInside(p: Vertex): boolean {\n        return p.projection.x < this.framebuffer.width;\n    }\n\n    public isInside2(p: Vertex): boolean {\n        return p.projection.x < this.framebuffer.width;\n    }\n\n    public computeIntersection(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        const factor: number = (this.framebuffer.maxWindow.x + 1 - p1.projection.x) / (p2.projection.x - p1.projection.x);\n        vertex.color = p2.color.sub(p1.color).mul(factor).add(p1.color);\n        vertex.projection = new Vector4f(this.framebuffer.maxWindow.x + 1,\n            Math.round(p1.projection.y + (p2.projection.y - p1.projection.y) * factor),\n            1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * factor));\n        return vertex;\n    }\n\n    public computeIntersection2(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        vertex.projection =\n            new Vector4f(this.framebuffer.maxWindow.x + 1,\n                Math.round(p1.projection.y + (p2.projection.y - p1.projection.y) * (this.framebuffer.maxWindow.x + 1 - p1.projection.x) / (p2.projection.x - p1.projection.x)),\n                1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * (this.framebuffer.maxWindow.x + 1 - p1.projection.x) / (p2.projection.x - p1.projection.x)));\n\n        const textCoord = new TextureCoordinate();\n        const z = vertex.projection.z;\n        textCoord.u = (p1.textureCoordinate.u / p1.projection.z + (p2.textureCoordinate.u / p2.projection.z - p1.textureCoordinate.u / p1.projection.z) * (this.framebuffer.maxWindow.x + 1 - p1.projection.x) / (p2.projection.x - p1.projection.x)) * z;\n        textCoord.v = (p1.textureCoordinate.v / p1.projection.z + (p2.textureCoordinate.v / p2.projection.z - p1.textureCoordinate.v / p1.projection.z) * (this.framebuffer.maxWindow.x + 1 - p1.projection.x) / (p2.projection.x - p1.projection.x)) * z;\n\n        vertex.textureCoordinate = textCoord;\n        return vertex;\n    }\n\n}\n","\nimport { AbstractClipEdge } from './AbstractClipEdge';\nimport { RightClipEdge } from './RightClipEdge';\nimport { LeftClipEdge } from './LeftClipEdge';\nimport { BottomClipEdge } from './BottomClipEdge';\nimport { TopClipEdge } from './TopClipEdge';\nimport { Vertex } from '../Vertex';\nimport { Framebuffer } from '../Framebuffer';\n\nexport class SutherlandHodgman2DClipper {\n\n\n    private clipRegion: Array<AbstractClipEdge>;\n\n    constructor(private framebuffer: Framebuffer) {\n        this.clipRegion = new Array<AbstractClipEdge>(\n            new RightClipEdge(framebuffer),\n            new LeftClipEdge(framebuffer),\n            new BottomClipEdge(framebuffer),\n            new TopClipEdge(framebuffer)\n        );\n\n    }\n\n    /**\n     * FIXME: optimize by minimizing creation of new arrays\n     *\n     * @param {Array<Vertex>} subject\n     * @return {Array<Vertex>}\n     */\n    public clipConvexPolygon(subject: Array<Vertex>): Array<Vertex> {\n\n        let output = subject;\n\n        for (let j = 0; j < this.clipRegion.length; j++) {\n            const edge: AbstractClipEdge = this.clipRegion[j];\n            const input = output;\n            output = new Array<Vertex>();\n            let S = input[input.length - 1];\n\n            for (let i = 0; i < input.length; i++) {\n                const point = input[i];\n                if (edge.isInside(point)) {\n                    if (!edge.isInside(S)) {\n                        output.push(edge.computeIntersection(S, point));\n                    }\n                    output.push(point);\n                } else if (edge.isInside(S)) {\n                    output.push(edge.computeIntersection(S, point));\n                }\n                S = point;\n            }\n        }\n\n        return output;\n    }\n\n}\n","import { Framebuffer } from '../Framebuffer';\nimport { Vector4f } from '../math';\nimport { TextureCoordinate } from '../TextureCoordinate';\nimport { Vertex } from '../Vertex';\nimport { AbstractClipEdge } from './AbstractClipEdge';\n\nexport class TopClipEdge extends AbstractClipEdge {\n\n    constructor(private framebuffer: Framebuffer) {\n        super();\n    }\n\n    public isInside(p: Vertex): boolean {\n        return p.projection.y < this.framebuffer.maxWindow.y + 1;\n    }\n\n    public isInside2(p: Vertex): boolean {\n        return p.projection.y < this.framebuffer.maxWindow.y + 1;\n    }\n\n    public computeIntersection(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        const factor: number = (this.framebuffer.maxWindow.y + 1 - p1.projection.y) / (p2.projection.y - p1.projection.y);\n        // this interpolation is not perspective correct but linear!!\n        vertex.color = p2.color.sub(p1.color).mul(factor).add(p1.color);\n        vertex.projection = new Vector4f(\n            Math.round(p1.projection.x + (p2.projection.x - p1.projection.x) * factor),\n            this.framebuffer.maxWindow.y + 1,\n            1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * factor));\n        return vertex;\n    }\n\n    public computeIntersection2(p1: Vertex, p2: Vertex): Vertex {\n        const vertex = new Vertex();\n        vertex.projection =\n            new Vector4f(\n                Math.round(p1.projection.x + (p2.projection.x - p1.projection.x) * (this.framebuffer.maxWindow.y + 1 - p1.projection.y) / (p2.projection.y - p1.projection.y)),\n                this.framebuffer.maxWindow.y + 1,\n                1 / (1 / p1.projection.z + (1 / p2.projection.z - 1 / p1.projection.z) * (this.framebuffer.maxWindow.y + 1 - p1.projection.y) / (p2.projection.y - p1.projection.y)));\n\n        const textCoord = new TextureCoordinate();\n        const z = vertex.projection.z;\n        textCoord.u = (p1.textureCoordinate.u / p1.projection.z + (p2.textureCoordinate.u / p2.projection.z - p1.textureCoordinate.u / p1.projection.z) * (this.framebuffer.maxWindow.y + 1 - p1.projection.y) / (p2.projection.y - p1.projection.y)) * z;\n        textCoord.v = (p1.textureCoordinate.v / p1.projection.z + (p2.textureCoordinate.v / p2.projection.z - p1.textureCoordinate.v / p1.projection.z) * (this.framebuffer.maxWindow.y + 1 - p1.projection.y) / (p2.projection.y - p1.projection.y)) * z;\n\n        vertex.textureCoordinate = textCoord;\n        return vertex;\n    }\n\n\n}\n","import { Vector4f } from '../../math/index';\n\nexport abstract class Fog {\n\n    public abstract computeVertexColor(color: Vector4f, vertex: Vector4f): Vector4f;\n\n}\n","import { Vector4f } from '../../math/index';\nimport { Fog } from './Fog';\n\nexport class LinearFog extends Fog {\n\n    private zStart: number;\n    private zEnd: number;\n    private fogColor: Vector4f;\n\n    public constructor(zStart: number, zEnd: number, fogColor: Vector4f) {\n        super();\n        this.zStart = zStart;\n        this.zEnd = zEnd;\n        this.fogColor = fogColor;\n    }\n\n    public computeVertexColor(color: Vector4f, vertex: Vector4f): Vector4f {\n        if (vertex.z >= this.zStart) {\n            return color;\n        } else if (vertex.z <= this.zEnd) {\n            return this.fogColor;\n        } else {\n            const f: number = (this.zEnd - vertex.z) / (this.zEnd - this.zStart);\n            return new Vector4f(\n                color.x * f + this.fogColor.x * (1 - f),\n                color.y * f + this.fogColor.y * (1 - f),\n                color.z * f + this.fogColor.z * (1 - f)\n            );\n        }\n    }\n\n}\n","import { Vector4f } from '../../math/index';\nimport { PointLight } from '../light/PointLight';\nimport { Material } from '../material/Material';\n\nexport class PhongLighting {\n\n    public computeColor(mat: Material, lights: Array<PointLight>, normal: Vector4f, vertex: Vector4f): Vector4f {\n        let finalColor: Vector4f = new Vector4f(0, 0, 0);\n\n        for (let x: number = 0; x < lights.length; x++) {\n            const light: PointLight = lights[x];\n            const ambientIntensity: Vector4f = this.computeAmbientIntensity(mat, light);\n            const diffuseIntensity: Vector4f = this.computeDiffuseIntensity(mat, light, normal, vertex);\n            const specularIntensity: Vector4f = this.computeSpecularIntensity(mat, light, normal, vertex);\n\n            finalColor = finalColor.add(ambientIntensity)\n                .add(diffuseIntensity)\n                .add(specularIntensity);\n        }\n\n        return finalColor;\n    }\n\n    private computeAmbientIntensity(mat: Material, l: PointLight): Vector4f {\n        return mat.ambientColor.componentWiseMul(l.ambientIntensity);\n    }\n\n    private computeDiffuseIntensity(mat: Material, l: PointLight, normal: Vector4f, vertex: Vector4f): Vector4f {\n        const lightDirection: Vector4f = l.position.sub(vertex).normalize();\n        const scale: number = Math.min(Math.max(normal.dot(lightDirection), 0), 1.0);\n        return mat.diffuseColor.componentWiseMul(l.diffuseIntensity).mul(scale);\n    }\n\n    private computeSpecularIntensity(mat: Material, l: PointLight, normal: Vector4f, vertex: Vector4f): Vector4f {\n        const lightDirection: Vector4f = l.position.sub(vertex).normalize();\n        const r: Vector4f = normal.mul(normal.dot(lightDirection) * 2.0).sub(lightDirection);\n        const v: Vector4f = vertex.mul(-1).normalize();\n        const scale: number = Math.pow(Math.max(r.dot(v), 0), mat.shininess);\n        return mat.specularColor.componentWiseMul(l.specularIntensity).mul(scale);\n    }\n\n}\n","import { Vector4f } from '../../math/index';\n\nexport abstract class Light {\n\n    public ambientIntensity: Vector4f;\n    public diffuseIntensity: Vector4f;\n    public specularIntensity: Vector4f;\n\n}\n","import { Vector4f } from '../../math/index';\nimport { Light } from './Light';\n\nexport class PointLight extends Light {\n\n    public position: Vector4f;\n\n}\n","import { Vector4f } from '../../math/index';\n\nexport class Material {\n\n    public ambientColor: Vector4f;\n    public diffuseColor: Vector4f;\n    public specularColor: Vector4f;\n    public emissiveColor: Vector4f;\n\n    public shininess: number;\n\n}\n","import 'jsxm/xm';\nimport 'jsxm/xmeffects';\nimport './JSRocket';\n\ntype musicProperties = {\n    // Beats per minute of your demo tune\n    BPM: number;\n    // The resolution between two beats, four is usually fine,- eight adds a bit more finer control\n    ROWS_PER_BEAT: number;\n    // we calculate this now, so we can translate between rows and seconds later on\n    ROW_RATE: number;\n    timeSeconds: number;\n    timeMilliseconds: number;\n    sceneData: sceneData;\n}\n\n// scene variables | things you set through jsRocket\ntype sceneData = {\n    effect: any;\n    transitionType: any;\n    transitionValue: any;\n    snare: any;\n    bass: any;\n}\n\nexport class SoundManager {\n\n    public audioContext: AudioContext;\n    public songLengthSeconds: number;\n    public syncDevice;\n    public audio = new Audio();\n    public isPlaying = false;\n    public demoMode = true;    // use true for release mode\n    public row = 0;    // the current row we're on\n\n    //  container for audio values to be used by effects (time, bass, effect, transitions)\n    public musicProperties: musicProperties;\n    public sceneData: sceneData;\n\n    public constructor() {\n\n        // Initialize JS Rocket\n        this.syncDevice = new JSRocket.SyncDevice();\n        this.syncDevice.connected = false;\n\n        this.musicProperties = {\n            BPM: 0,\n            ROWS_PER_BEAT: 0,\n            ROW_RATE: 0,\n            timeSeconds: 0,\n            timeMilliseconds: 0,\n            sceneData: {\n                effect: 0,\n                transitionType: 0,\n                transitionValue: 0,\n                snare: 0,\n                bass: 0\n            }\n        }\n\n        this.sceneData = {\n            effect: null,\n            transitionType: null,\n            transitionValue: null,\n            snare: null,\n            bass: null,\n        }\n    }\n    /**\n     * Load and play module music tracker files\n     *\n     * @param {string} filename      module file to load\n     * @returns {Promise<Response>}  fetch response\n     */\n    public playExtendedModule(filename: string): Promise<void> {\n        return fetch(filename)\n            .then((response: Response) => response.arrayBuffer())\n            .then((arrayBuffer: ArrayBuffer) => {\n                if (arrayBuffer) {\n                    XMPlayer.init();\n                    XMPlayer.load(arrayBuffer);\n                    XMPlayer.play();\n                } else {\n                    console.log('unable to load', filename);\n                }\n            });\n    }\n\n    // Initialize XM Player\n    public initXM() {\n        XMPlayer.init();\n        this.audioContext = XMPlayer.audioctx;\n    }\n\n    public playOgg(filename: string): Promise<void> {\n        return fetch(filename)\n            .then((response: Response) => response.arrayBuffer())\n            .then((arrayBuffer: ArrayBuffer) => {\n                if (arrayBuffer) {\n                    this.audioContext.decodeAudioData(arrayBuffer,\n                        (buffer: AudioBuffer) => {\n                            const sourceBuffer = this.audioContext.createBufferSource();\n                            console.info('ogg create buffer');\n                            sourceBuffer.buffer = buffer;\n                            sourceBuffer.connect(this.audioContext.destination);\n                            console.info('ogg connect');\n                            sourceBuffer.loop = true;\n                            sourceBuffer.start(this.audioContext.currentTime);\n                            console.info('ogg ready');\n                        })\n                } else {\n                    console.log('unable to load', filename);\n                }\n            });\n    }\n\n    public loadOgg(filename: string) {\n        this.audio.src = filename;\n        this.audio.load();\n        this.audio.preload = 'auto';\n        this.audio.loop = true;\n        this.audio.autoplay = false;\n    }\n\n    prepareSync(filename: string, demoMode: boolean): Promise<void> {\n        this.demoMode = demoMode;\n        return new Promise((resolve) => {\n            if (this.demoMode) {\n                this.syncDevice.setConfig({\n                    'rocketXML': filename\n                });\n                this.syncDevice.init('demo');\n\n            } else {\n                this.syncDevice.init();\n            }\n\n            // XML file from JS Rocket library was loaded and parsed, make sure your ogg is ready\n            this.syncDevice.on('ready', () => this.onSyncReady());\n\n            // [JS Rocket - Arrow keys] whenever you change the row, a value or interpolation mode this will get called\n            this.syncDevice.on('update', (newRow: number) => this.onSyncUpdate(newRow));\n\n            // [JS Rocket - Spacebar] in Rocket calls one of those\n            this.syncDevice.on('play', () => this.onPlay());\n            this.syncDevice.on('pause', () => this.onPause());\n            resolve()\n        });\n    }\n\n    onSyncReady() {\n        this.musicProperties.BPM = 120;\n        this.musicProperties.ROWS_PER_BEAT = 8;\n        this.musicProperties.ROW_RATE = this.musicProperties.BPM / 60 * this.musicProperties.ROWS_PER_BEAT;\n        this.syncDevice.connected = true;\n        this.sceneData.effect = this.syncDevice.getTrack('effect');\n        this.sceneData.snare = this.syncDevice.getTrack('snare');\n        this.sceneData.bass = this.syncDevice.getTrack('bass');\n        this.sceneData.transitionType = this.syncDevice.getTrack('transitionType');\n        this.sceneData.transitionValue = this.syncDevice.getTrack('transitionValue');\n\n        this.audio.onpause = () => {\n            this.isPlaying = false;\n        };\n\n        this.audio.onplay = () => {\n            this.isPlaying = true;\n        }\n\n    }\n\n    // row is only given if you navigate, or change a value on the row in Rocket\n    // on interpolation change (hit [i]) no row value is sent, as the current there is the upper row of your block\n    onSyncUpdate(newRow: number) {\n        if (!isNaN(newRow)) {\n            this.row = newRow;\n        }\n        this.audio.currentTime = newRow / this.musicProperties.ROW_RATE;\n    }\n\n    updateMusic() {\n        // show message if rocket app is not running in background\n        if (!this.syncDevice.connected && !this.demoMode) {\n            return;\n        }\n\n        // update music properties\n        this.musicProperties.timeSeconds = this.audio.currentTime;\n        this.musicProperties.timeMilliseconds = this.musicProperties.timeSeconds * 1000;\n        this.row = this.musicProperties.timeSeconds * this.musicProperties.ROW_RATE;\n\n        this.musicProperties.sceneData = {\n            effect: this.sceneData.effect.getValue(this.row),\n            transitionType: this.sceneData.transitionType.getValue(this.row),\n            transitionValue: this.sceneData.transitionValue.getValue(this.row),\n            snare: this.sceneData.snare.getValue(this.row),\n            bass: this.sceneData.bass.getValue(this.row),\n        }\n\n        // update JS rocket\n        if (this.audio.paused === false) {\n            // otherwise we may jump into a point in the audio where there's\n            // no timeframe, resulting in Rocket setting row 2 and we report\n            // row 1 back - thus Rocket spasming out\n\n            // this informs Rocket where we are\n            this.syncDevice.update(this.row);\n        }\n    }\n\n    onPlay() {\n        console.log('[onPlay]');\n        this.audio.currentTime = this.row / this.musicProperties.ROW_RATE;\n        if (!this.isPlaying) {\n            const playPromise = this.audio.play();\n            if (playPromise !== undefined) {\n                playPromise.then(() => {\n                    this.isPlaying = true;\n                })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            }\n        }\n    }\n\n    onPause() {\n        console.info('[onPause]');\n        this.row = this.audio.currentTime * this.musicProperties.ROW_RATE;\n\n        if (!this.audio.paused && this.isPlaying) {\n            this.audio.pause();\n        }\n    }\n\n    /**\n     * find the prev/next effect and jump to it\n     *\n     * @param   {number} time       where we are in the audio timeline\n     * @param   {number} direction  direction to skip -1 goes backwards.  1 goes forward\n     */\n    public jump(time: number, direction: number, sceneLength: number) {\n        this.row = time * this.musicProperties.ROW_RATE;\n        const effectJump = Number(this.sceneData.effect.getValue(this.row).toFixed(1));\n        if (Math.trunc(Number(this.musicProperties.sceneData.effect)) !== Math.trunc(effectJump) && effectJump >= 1) {\n            // if running into transition effect 2.5..then keep searching and only land on whole numbers\n            if (parseInt(effectJump.toString(), 10) !== effectJump) {\n                this.jump(time + (0.12 * direction), direction, sceneLength);\n            } else {\n                this.seek(time);\n            }\n        } else {\n            if (time >= 0 && effectJump < sceneLength - 3) {\n                this.jump(time + (0.12 * direction), direction, sceneLength);\n            } else {\n                // go back to the beginning\n                this.seek(0);\n            }\n        }\n    }\n\n    /**\n     * Jumps to a point in the audio timeline in milliseconds\n     *\n     * @param  {number} time            time in milliseconds\n     */\n    public seek(time: number) {\n        this.audio.currentTime = time;\n        // update rocket editor position to new timeline location\n        if (!this.demoMode) {\n            this.syncDevice.update(this.audio.currentTime * this.musicProperties.ROW_RATE);\n        }\n    }\n\n    /**\n     * Turns music volume on or off\n     *\n     * @param  {HTMLElement} ref         volume icon to toggle\n     * @param  {boolean} isMuted         on or off\n     */\n    public toggleSound(ref: HTMLElement, isMuted: boolean) {\n        if (isMuted) {\n            ref.setAttribute('title', 'enable sound');\n            ref.classList.remove('fa-volume-up');\n            ref.classList.add('fa-volume-off');\n        } else {\n            ref.setAttribute('title', 'mute sound');\n            ref.classList.remove('fa-volume-off');\n            ref.classList.add('fa-volume-up');\n        }\n        this.audio.muted = isMuted;\n    }\n\n    /**\n     * Restore position of timeline & mute preference on reload\n     */\n    public initTimeline() {\n        // jump to last position on timeline for local development reloading\n        const jumpTo = localStorage.getItem('lastTime');\n        if (jumpTo) {\n            this.seek(Number(jumpTo));\n        }\n\n        // remember last sound preferences\n        const isMuted = localStorage.getItem('soundToggle') === 'true';\n        this.toggleSound(document.getElementById('ticker_volume'), isMuted);\n    }\n\n    /*\n    // todo: add effect # markers to timeline\n    fetch(rocketData.default).then(response => response.text())\n        .then(str => new window.DOMParser().parseFromString(str, \"text/xml\"))\n        .then(data => {\n            const tracks: Element[] = Array.from(data.documentElement.getElementsByTagName(\"track\"));\n            tracks.forEach((element) => {\n                if (element.getAttribute(\"name\") === 'effect') {\n                    const keys: Element[] = Array.from(element.getElementsByTagName(\"key\"));\n                    keys.forEach((elementKey) => {\n                        const p = document.createElement(\"option\");\n                        const value = elementKey.getAttribute('row').valueOf();\n                        const label = elementKey.getAttribute('value').valueOf();\n\n                        // remap rows to a range between 0 and 1000\n                        const newValue = Utils.map(Number(label), 0, 1520, 0, 1000);\n\n                        p.value = value;\n                        p.label = label;\n                        // this.tickmarkRef.appendChild(p);\n                    })\n                }\n            });\n        });\n        */\n\n}\n","export class Texture {\n \n\n    public texture: Uint32Array;\n    public width: number;\n    public height: number;\n    private clamp: boolean = false;\n\n    setClamp(clamp: boolean) {\n        this.clamp = clamp;\n    }\n    constructor(texture?: Uint32Array, width?: number, height?: number) {\n        this.texture = texture;\n        this.width = width;\n        this.height = height;\n    }\n\n    public getPixel(texture: Texture, x: number, y: number): number {\n        return texture.texture[(x & 0xff) + (y & 0xff) * 256];\n    }\n\n    public getBilinearFilteredPixel(x: number, y: number): number {\n        const x0 = (((x | 0) % 256) + 256) % 256;\n        const x1 = ((((x + 1) | 0) % 256) + 256) % 256;\n        const y0 = (((y | 0) % 256) + 256) % 256;\n        const y1 = ((((y + 1) | 0) % 256) + 256) % 256;\n\n        const x0y0 = this.getPixel(this, x0, y0) & 0xff;\n        const x1y0 = this.getPixel(this, x1, y0) & 0xff;\n        const x0y1 = this.getPixel(this, x0, y1) & 0xff;\n        const x1y1 = this.getPixel(this, x1, y1) & 0xff;\n\n        const col1 = x0y0 * (1 - (x - Math.floor(x))) + (x1y0 * ((x - Math.floor(x))));\n        const col2 = x0y1 * (1 - (x - Math.floor(x))) + (x1y1 * ((x - Math.floor(x))));\n        const col = col1 * (1 - (y - Math.floor(y))) + (col2 * ((y - Math.floor(y))));\n\n        return col;\n    }\n\n    public getBilinearFilteredPixel2(x: number, y: number) {\n\n        let x0 = x | 0;\n        let x1 = (x | 0) + 1;\n        let y0 = y | 0;\n        let y1 = (y | 0) + 1;\n   \n        if (this.clamp) {\n             x0 = Math.max(Math.min(x0, this.width - 1), 0);\n             x1 = Math.max(Math.min(x1, this.width - 1), 0);\n             y0 = Math.max(Math.min(y0, this.height - 1), 0);\n             y1 = Math.max(Math.min(y1, this.height - 1), 0);\n        }\n\n\n        const x0y0 = this.getPixel3(this, x0, y0);\n        const x1y0 = this.getPixel3(this, x1, y0);\n        const x0y1 = this.getPixel3(this, x0, y1);\n        const x1y1 = this.getPixel3(this, x1, y1);\n        \n        //return x0y1;\n        return this.interpolateComp(x, y, x0y0 & 0xff, x1y0 & 0xff, x0y1 & 0xff, x1y1 & 0xff)|\n            this.interpolateComp(x, y, x0y0 >> 8 & 0xff, x1y0 >> 8 & 0xff, x0y1 >> 8 & 0xff, x1y1 >> 8 & 0xff) << 8 |\n           this.interpolateComp(x, y, x0y0 >> 16 & 0xff, x1y0 >> 16 & 0xff, x0y1 >> 16 & 0xff, x1y1 >> 16 & 0xff) << 16\n           | 0xff << 24;;\n    }\n\n    public getPixel2(texture: Texture, x: number, y: number): number {\n        return this.texture[x + y * this.width];\n    }\n\n    public getPixel3(texture: Texture, x: number, y: number): number {\n        return this.texture[\n            (((x % this.width) + this.width) % this.width) +\n            (((y % this.height) + this.height) % this.height) * this.width];\n    }\n\n    private interpolateComp(x, y, x0y0, x1y0, x0y1, x1y1): number {\n        const col1 = x0y0 * (1 - (x - Math.floor(x))) + (x1y0 * ((x - Math.floor(x))));\n        const col2 = x0y1 * (1 - (x - Math.floor(x))) + (x1y1 * ((x - Math.floor(x))));\n        const col = col1 * (1 - (y - Math.floor(y))) + (col2 * ((y - Math.floor(y))));\n\n        return col;\n    }\n\n}\n","import RandomNumberGenerator from '../RandomNumberGenerator';\nimport { Texture } from './Texture';\n\nexport class TextureUtils {\n\n    public static generateProceduralNoise(): Promise<Texture> {\n        return new Promise<Texture>((resolve: (value?: Texture) => void): void => {\n            const texture: Texture = new Texture();\n            texture.texture = new Uint32Array(256 * 256);\n\n            const rng: RandomNumberGenerator = new RandomNumberGenerator();\n            rng.setSeed(100);\n\n            for (let i: number = 0; i < 256 * 256; i++) {\n                const scale: number = rng.getFloat();\n                texture.texture[i] = 200 * scale | 255 * scale << 8 | 205 * scale << 16 | 255 << 24;\n            }\n\n            texture.width = 256;\n            texture.height = 256;\n            resolve(texture);\n        });\n    }\n\n    public static generateProceduralParticleTexture(): Promise<Texture> {\n        return new Promise((resolve: (value?: Texture) => void): void => {\n            const texture: Texture = new Texture();\n            texture.texture = new Uint32Array(256 * 256);\n\n            const rng: RandomNumberGenerator = new RandomNumberGenerator();\n            rng.setSeed(100);\n\n            for (let y: number = 0; y < 256; y++) {\n                for (let x: number = 0; x < 256; x++) {\n                    const dx: number = 127 - x;\n                    const dy: number = 127 - y;\n                    const r: number = Math.sqrt(dx * dx + dy * dy) / 127;\n                    let c: number = 1 - r;\n                    c = c * c * c;\n                    if (r > 1) {\n                        c = 0;\n                    }\n                    c = Math.min(1, c * 2.9);\n\n                    texture.texture[x + y * 256] = 235 | 255 << 8 | 235 << 16 | (c * 255) << 24;\n                }\n            }\n\n            texture.width = 256;\n            texture.height = 256;\n            resolve(texture);\n        });\n    }\n\n    public static generateProceduralParticleTexture2(): Promise<Texture> {\n        return new Promise((resolve) => {\n            const texture = new Texture();\n            texture.texture = new Uint32Array(256 * 256);\n\n            const rng = new RandomNumberGenerator();\n            rng.setSeed(100);\n\n            for (let y = 0; y < 256; y++) {\n                for (let x = 0; x < 256; x++) {\n                    const dx = 127 - x;\n                    const dy = 127 - y;\n                    const r = Math.sqrt(dx * dx + dy * dy) / 127;\n                    let c = 1 - r;\n                    c = c * c;\n                    if (r > 1) { c = 0; }\n                    c = Math.min(1, c * 40);\n                    texture.texture[x + y * 256] = 255 | 205 << 8 | 255 << 16 | (c * 255) << 24;\n                }\n            }\n\n            texture.width = 256;\n            texture.height = 256;\n            resolve(texture);\n        });\n    }\n\n    public static load(filename: any, transparency: boolean): Promise<Texture> {\n        return new Promise<Texture>((resolve: (texture?: Texture) => void): void => {\n            const image: HTMLImageElement = new Image();\n            image.onload = (): void => {\n                const texture: Texture = new Texture();\n                texture.texture = this.getImageData(image, transparency);\n                texture.width = image.width;\n                texture.height = image.height;\n                resolve(texture);\n            };\n            image.onerror = (): void => resolve();\n            image.src = filename.default;\n        });\n    }\n\n    private static getImageData(image: HTMLImageElement, withAlpha: boolean = false): Uint32Array {\n        const canvas: HTMLCanvasElement = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        const context: CanvasRenderingContext2D = canvas.getContext('2d');\n        context.drawImage(image, 0, 0);\n        const data: Uint8ClampedArray = context.getImageData(0, 0, image.width, image.height).data;\n        const conv: Uint32Array = new Uint32Array(data.length / 4);\n        let c: number = 0;\n        for (let i: number = 0; i < data.length; i += 4) {\n            if (withAlpha) {\n                conv[c] = (data[i + 3] << 24) | (data[i + 2] << 16) | (data[i + 1] << 8) | data[i + 0];\n            } else {\n                conv[c] = (255 << 24) | (data[i + 2] << 16) | (data[i + 1] << 8) | data[i + 0];\n            }\n\n            c++;\n        }\n        return conv;\n    }\n\n}\n","export { Texture } from './Texture';\nexport { TextureUtils } from './TextureUtils';\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","(function (window) {\n\n    if (!window.JSRocket) {\n        window.JSRocket = {};\n    }\n    JSRocket.SyncData = function () {\n\n        \"use strict\";\n\n        var _track = [];\n\n        function getTrack(index) {\n            return _track[index];\n        }\n\n        function getIndexForName(name) {\n            for (var i = 0; i < _track.length; i++) {\n\n                if (_track[i].name === name) {\n                    return i;\n                }\n            }\n\n            return -1;\n        }\n\n        function getTrackLength() {\n            return _track.length;\n        }\n\n        function createIndex(varName) {\n            var track = new JSRocket.Track();\n            track.name = varName;\n\n            _track.push(track);\n        }\n\n        return {\n            getTrack: getTrack,\n            getIndexForName: getIndexForName,\n            getTrackLength: getTrackLength,\n            createIndex: createIndex\n        };\n    };\n    JSRocket.Track = function () {\n\n        \"use strict\";\n\n        var STEP = 0,\n            LINEAR = 1,\n            SMOOTH = 2,\n            RAMP = 3;\n\n        var data = [];\n\n        function findKeyIndex(keys, row) {\n            var lo = 0, hi = keys.length;\n            while (lo < hi) {\n                var mi = ((hi + lo) / 2) | 0;\n\n                if (keys[mi] < row) {\n                    lo = mi + 1;\n                } else if (keys[mi] > row) {\n                    hi = mi;\n                } else {\n                    return mi;\n                }\n            }\n            return lo - 1;\n        }\n\n        function getValue(row) {\n            var keys = Object.keys(data);\n\n            if (!keys.length) {\n                return 0.0;\n            }\n\n            var idx = findKeyIndex(keys, Math.floor(row));\n            if (idx < 0) {\n                return data[keys[0]].value;\n            }\n            if (idx > keys.length - 2) {\n                return data[keys[keys.length - 1]].value;\n            }\n\n            // lookup keys and values\n            var k0 = keys[idx], k1 = keys[idx + 1];\n            var a = data[k0].value;\n            var b = data[k1].value;\n\n            // interpolate\n            var t = (row - k0) / (k1 - k0);\n            switch (data[k0].interpolation) {\n                case 0:\n                    return a;\n                case 1:\n                    return a + (b - a) * t;\n                case 2:\n                    return a + (b - a) * t * t * (3 - 2 * t);\n                case 3:\n                    return a + (b - a) * Math.pow(t, 2.0);\n            }\n        }\n\n        function add(row, value, interpolation) {\n            data[row] = {\n                \"value\": value,\n                \"interpolation\": interpolation\n            };\n        }\n\n        function remove(row) {\n            delete data[row];\n        }\n\n        return {\n            getValue: getValue,\n            add: add,\n            remove: remove\n        };\n    };\n    JSRocket.SyncDevicePlayer = function (cfg) {\n\n        \"use strict\";\n\n        var _urlRequest,\n            _syncData = new JSRocket.SyncData(),\n            _eventHandler = {\n                'ready': function () {\n                },\n                'error': function () {\n                }\n            };\n\n        function load(url) {\n\n            _urlRequest = new XMLHttpRequest();\n\n            if (_urlRequest === null) {\n                _eventHandler.error();\n                return;\n            }\n\n            _urlRequest.open('GET', url, true);\n            _urlRequest.onreadystatechange = urlRequestHandler;\n\n            _urlRequest.send();\n        }\n\n        function urlRequestHandler() {\n\n            if (_urlRequest.readyState === 4) {\n                if (_urlRequest.status < 300) {\n                    readXML(_urlRequest.responseText);\n                } else {\n                    _eventHandler.error();\n                }\n            }\n        }\n\n        function readXML(xmlString) {\n            var key,\n                t = 0, tLen, k = 0, kLen,\n                xml = (new DOMParser()).parseFromString(xmlString, 'text/xml'),\n                tracks = xml.getElementsByTagName('tracks');\n\n            //<tracks>\n            var trackList = tracks[0].getElementsByTagName('track');\n\n            for (t, tLen = trackList.length; t < tLen; t++) {\n\n                var track = getTrack(trackList[t].getAttribute('name')),\n                    keyList = trackList[t].getElementsByTagName('key');\n\n                for (k = 0, kLen = keyList.length; k < kLen; k++) {\n                    key = keyList[k];\n                    track.add(parseInt(key.getAttribute('row'), 10),\n                        parseFloat(key.getAttribute('value')),\n                        parseInt(key.getAttribute('interpolation'), 10));\n\n                }\n            }\n\n            _eventHandler.ready();\n        }\n\n        function getTrack(name) {\n\n            var index = _syncData.getIndexForName(name);\n\n            if (index > -1) {\n                return _syncData.getTrack(index);\n            }\n\n            _syncData.createIndex(name);\n            return _syncData.getTrack(_syncData.getTrackLength() - 1);\n        }\n\n        function setEvent(evt, handler) {\n            _eventHandler[evt] = handler;\n        }\n\n        function nop() {\n\n        }\n\n        if (cfg.rocketXML === \"\" || cfg.rocketXML === undefined || cfg.rocketXML === undefined) {\n            throw (\"[jsRocket] rocketXML is not set, try _syncDevice.setConfig({'rocketXML':'url/To/RocketXML.rocket'})\");\n        } else {\n            load(cfg.rocketXML);\n        }\n\n        return {\n            load: load,\n            getTrack: getTrack,\n            update: nop,\n            on: setEvent\n        };\n    };\n    JSRocket.SyncDeviceClient = function (cfg) {\n\n        \"use strict\";\n\n        var CMD_SET_KEY = 0,\n            CMD_DELETE_KEY = 1,\n            CMD_GET_TRACK = 2,\n            CMD_SET_ROW = 3,\n            CMD_PAUSE = 4,\n            CMD_SAVE_TRACKS = 5;\n\n        var _ws = new WebSocket(cfg.socketURL),\n            _syncData = new JSRocket.SyncData(),\n            _eventHandler = {\n                'ready': function () {\n                },\n                'update': function () {\n                },\n                'play': function () {\n                },\n                'pause': function () {\n                },\n                'save': function () {\n                }\n            };\n\n        function onOpen() {\n\n            _ws.binaryType = \"arraybuffer\";\n            _ws.send('hello, synctracker!');\n        }\n\n        function onMessage(e) {\n\n            var queue = (new Uint8Array(e.data)),\n                cmd = queue[0],\n                track, row, value, interpolation;\n\n            //Handshake\n            if (cmd === 104) {\n\n                _eventHandler.ready();\n\n                //PAUSE\n            } else if (CMD_PAUSE === cmd) {\n\n                if (queue[1] === 1) {\n                    _eventHandler.pause();\n                } else {\n                    _eventHandler.play();\n                }\n\n                //SET_ROW\n            } else if (CMD_SET_ROW === cmd) {\n\n                row = toInt(queue.subarray(1, 5));\n\n                _eventHandler.update(row);\n\n                //SET_KEY\n            } else if (CMD_SET_KEY === cmd) {\n\n                track = toInt(queue.subarray(1, 5));\n                row = toInt(queue.subarray(5, 9));\n\n                //value = Math.round(toFloat(queue.subarray(9, 13)) * 100) / 100; //round to what's seen in Rocket tracks\n                value = toFloat(queue.subarray(9, 13)); //use the values you see in Rocket statusbar\n\n                interpolation = toInt(queue.subarray(13, 14));\n                _syncData.getTrack(track).add(row, value, interpolation);\n\n                //DELETE\n            } else if (CMD_DELETE_KEY === cmd) {\n\n                track = toInt(queue.subarray(1, 5));\n                row = toInt(queue.subarray(5, 9));\n\n                _syncData.getTrack(track).remove(row);\n\n                //SAVE\n            } else if (CMD_SAVE_TRACKS === cmd) {\n                _eventHandler.save();\n            }\n        }\n\n        function onClose(e) {\n            console.warn(\">> connection closed\", e);\n        }\n\n        function onError(e) {\n            console.error(\">> connection error'd\", e);\n        }\n\n        _ws.onopen = onOpen;\n        _ws.onmessage = onMessage;\n        _ws.onclose = onClose;\n        _ws.onerror = onError;\n\n        function getTrack(name) {\n\n            var index = _syncData.getIndexForName(name);\n\n            if (index > -1) {\n                return _syncData.getTrack(index);\n            }\n\n            var utf8Name = encodeURIComponent(name).replace(/%([\\dA-F]{2})/g, function (m, c) {\n                return String.fromCharCode('0x' + c);\n            });\n            var message = [CMD_GET_TRACK,\n                (utf8Name.length >> 24) & 0xFF, (utf8Name.length >> 16) & 0xFF,\n                (utf8Name.length >> 8) & 0xFF, (utf8Name.length) & 0xFF];\n\n            for (var i = 0; i < utf8Name.length; i++) {\n                message.push(utf8Name.charCodeAt(i));\n            }\n\n            _ws.send(new Uint8Array(message).buffer);\n\n            _syncData.createIndex(name);\n            return _syncData.getTrack(_syncData.getTrackLength() - 1);\n        }\n\n        function setRow(row) {\n\n            var streamInt = [(row >> 24) & 0xFF,\n            (row >> 16) & 0xFF,\n            (row >> 8) & 0xFF,\n            (row) & 0xFF];\n\n            _ws.send(new Uint8Array([CMD_SET_ROW, streamInt[0], streamInt[1], streamInt[2], streamInt[3]]).buffer);\n        }\n\n        function toInt(arr) {\n\n            var i = 0,\n                view = new DataView(new ArrayBuffer(arr.length));\n\n            for (; i < arr.length; i++) {\n                view.setUint8(i, arr[i]);\n            }\n\n            if (view.byteLength === 1) {\n                return view.getInt8(0);\n            } else {\n                return view.getInt32(0);\n            }\n        }\n\n        function toFloat(arr) {\n            var view = new DataView(new ArrayBuffer(4));\n            view.setUint8(0, arr[0]);\n            view.setUint8(1, arr[1]);\n            view.setUint8(2, arr[2]);\n            view.setUint8(3, arr[3]);\n\n            return view.getFloat32(0);\n        }\n\n        function setEvent(evt, handler) {\n            _eventHandler[evt] = handler;\n        }\n\n        return {\n            getTrack: getTrack,\n            update: setRow,\n            on: setEvent\n        };\n    };\n\n    JSRocket.SyncDevice = function () {\n\n        \"use strict\";\n\n        var _connected = false,\n            _device,\n            _previousIntRow,\n            _config = {\n                \"socketURL\": \"ws://localhost:1339\",\n                \"rocketXML\": \"\"\n            },\n            _eventHandler = {\n                'ready': function () {\n                },\n                'update': function () {\n                },\n                'play': function () {\n                },\n                'pause': function () {\n                }\n            };\n\n        function init(mode) {\n            if (mode === \"demo\") {\n                _device = new JSRocket.SyncDevicePlayer(_config);\n            } else {\n                _device = new JSRocket.SyncDeviceClient(_config);\n            }\n\n            _device.on('ready', deviceReady);\n            _device.on('update', deviceUpdate);\n            _device.on('play', devicePlay);\n            _device.on('pause', devicePause);\n        }\n\n        function getConfig() {\n            return _config;\n        }\n\n        function setConfig(cfg) {\n            for (var option in cfg) {\n                if (cfg.hasOwnProperty(option)) {\n                    _config[option] = cfg[option];\n                }\n            }\n\n            return _config;\n        }\n\n        function deviceReady() {\n            _connected = true;\n            _eventHandler.ready();\n        }\n\n        function deviceUpdate(row) {\n            _eventHandler.update(row);\n        }\n\n        function devicePlay() {\n            _eventHandler.play();\n        }\n\n        function devicePause() {\n            _eventHandler.pause();\n        }\n\n        function getTrack(name) {\n            if (_connected) {\n                return _device.getTrack(name);\n            } else {\n                return null;\n            }\n        }\n\n        function update(row) {\n            //no need to update rocket on float rows\n            if (Math.floor(row) !== _previousIntRow) {\n                _previousIntRow = Math.floor(row);\n                _device.update(_previousIntRow);\n            }\n        }\n\n        function setEvent(evt, handler) {\n            _eventHandler[evt] = handler;\n        }\n\n        return {\n            init: init,\n            setConfig: setConfig,\n            getConfig: getConfig,\n            getTrack: getTrack,\n            update: update,\n            on: setEvent\n        };\n    };\n\n})(window);\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import { Canvas } from '../../Canvas';\nimport { DemoScene } from './DemoScene';\n\nclass Application {\n\n    // HD Resolution 1920 x 1080\n    public static readonly CANVAS_WIDTH = 1920 / 5;\n    public static readonly CANVAS_HEIGHT = 1080 / 5;\n\n    public static main(): void {\n        const canvas: Canvas = new Canvas(Application.CANVAS_WIDTH, Application.CANVAS_HEIGHT, new DemoScene());\n        canvas.init();\n    }\n\n}\n\nApplication.main();\n"],"names":["KEYWORDS","defineKeywords","ajv","keyword","Array","isArray","i","length","get","defFunc","Error","module","exports","TIME","DATE_TIME_SEPARATOR","COMPARE_FORMATS","date","compareDate","time","compareTime","dt1","dt2","split","res","undefined","$dataMetaSchema","type","required","properties","$data","anyOf","format","additionalProperties","d1","d2","t1","t2","match","minMax","definition","inline","statements","errors","dependencies","metaSchema","addKeyword","formats","_formats","name","RegExp","validate","compare","extendFormats","metaSchemaRef","defaultMeta","_opts","$ref","getSchema","META_SCHEMA_ID","console","warn","macro","schema","parentSchema","Object","keys","map","prop","items","util","jsonPointer","segments","rootSchema","pointerSchema","segment","isLast","replace","test","count","push","schemas","pointer","propertyNames","getData","lvl","data","key","expr","INTEGER","IDENTIFIER","SINGLE_QUOTE","it","dataLevel","$keyword","$ruleType","out","$lvl","level","$dataLvl","$schema","$schemaPath","schemaPath","getProperty","$errSchemaPath","errSchemaPath","$breakOnError","opts","allErrors","$valid","$schemaFormat","$isDataFormat","$closingBraces","$format","dataPathArr","$compare","$schemaValue","$$outStack","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$result","$isData","$schemaValueExcl","$exclusive","$opStr","$opExpr","$errorKeyword","createErrors","toQuotedString","messages","verbose","__err","pop","compositeRule","async","escapeQuotes","$key","$idx","$matched","$dataProperties","$ownProperties","ownProperties","arr1","$pProperty","i1","l1","usePattern","$missingPattern","$errs","$it","copy","$shouldContinue","$nextValid","$ifPassed","$currentBaseId","baseId","$sch","$caseIndex","if","strictKeywords","schemaHasRules","RULES","all","$wasComposite","then","continue","sequences","DEFAULTS","timestamp","Date","now","datetime","toISOString","slice","random","Math","randomint","args","limit","max","floor","seq","compile","funcs","d","func","getDefault","useDefaults","def","range","regexp","dynamicDefaults","allRequired","anyRequired","oneRequired","prohibited","uniqueItemProperties","deepProperties","deepRequired","formatMinimum","formatMaximum","patternRequired","select","transform","CONSTRUCTORS","Function","Number","String","Buffer","Promise","Constructor","getConstructor","constructors","c","oneOf","uniqueItems","not","min","exclusive","exclusiveRange","validateRangeSchema","exclusiveMinimum","exclusiveMaximum","minimum","maximum","minItems","maxItems","pattern","flags","rx","e","error","getRegExp","compiledCaseSchemas","v","selectCases","compiled","getCompiledSchemas","cases","default","valid","value","compileOrBoolean","create","some","keywords","switch","trimLeft","trimRight","trim","toLowerCase","toUpperCase","toEnumCase","cfg","hash","makeHashTableKey","modifying","indexOf","enum","k","dataPath","object","j","l","KNOWN_TYPES","SCALAR_TYPES","equal","scalar","propType","getScalarKeys","compileSchema","resolve","Cache","SchemaObject","stableStringify","rules","Ajv","prototype","schemaKeyRef","this","schemaObj","_addSchema","_compile","$async","_meta","addSchema","_skipValidation","id","_getId","checkUnique","normalizeId","_schemas","addMetaSchema","skipValidation","validateSchema","throwOrLogError","self","meta","logger","message","errorsText","keyRef","_getSchemaObj","ref","call","root","_fragments","fragment","_getSchemaFragment","removeSchema","_removeAllSchemas","_refs","_cache","clear","del","cacheKey","serialize","addFormat","options","separator","dataVar","text","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","localRefs","ids","put","compiling","callValidate","currentOpts","_metaOpts","refs","refVal","_validate","result","apply","arguments","compileAsync","customKeyword","add","getKeyword","removeKeyword","remove","validateKeyword","errorClasses","ValidationError","Validation","MissingRefError","MissingRef","META_IGNORE_OPTIONS","META_SUPPORT_DATA","log","noop","setLogger","cache","_loadingSchemas","_compilations","schemaId","_get$IdOrId","_get$Id","chooseGetId","loopRequired","Infinity","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","$dataSchema","$id","addDefaultMetaSchema","nullable","optsSchemas","addInitialSchemas","regex","callback","loadSchema","p","loadMetaSchemaOf","_compileAsync","sch","missingSchema","added","missingRef","schemaPromise","removePromise","loadMissingSchema","url","fullPath","errorSubclass","Subclass","constructor","validation","DATE","DAYS","HOSTNAME","URI","URITEMPLATE","URL","UUID","JSON_POINTER","JSON_POINTER_URI_FRAGMENT","RELATIVE_JSON_POINTER","mode","str","matches","year","month","day","isLeapYear","full","hour","minute","second","timeZone","fast","uri","email","hostname","ipv4","ipv6","uuid","dateTime","NOT_URI_FRAGMENT","Z_ANCHOR","validateGenerator","ucs2length","checkCompiling","index","compIndex","endCompiling","splice","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","arr","statement","code","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","sourceCode","source","_schema","_root","isRoot","isTop","errorPath","resolveRef","useDefault","useCustomRule","processCode","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","inlineRef","inlineRefs","refId","replaceLocalRef","removeLocalRef","regexStr","valueStr","rule","deps","every","hasOwnProperty","join","traverse","resolveSchema","parse","refPath","_getFullPath","getFullPath","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","baseIds","fullPaths","allKeys","jsonPtr","parentJsonPtr","parentKeyword","keyIndex","escapeFragment","PREVENT_SCOPE_CHANGE","toHash","parts","part","unescapeFragment","SIMPLE_INLINED","checkNoRef","countKeys","item","normalize","TRAILING_SLASH_HASH","ruleModules","ALL","types","forEach","group","implKeywords","implements","$comment","concat","custom","obj","len","pos","charCodeAt","checkDataType","dataType","strictNumbers","negate","EQUAL","AND","OK","NOT","o","to","checkDataTypes","dataTypes","t","array","null","number","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","varOccurences","varReplace","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","escapeJsonPointer","paths","up","unescapeJsonPointer","decodeURIComponent","encodeURIComponent","a","b","keywordsJsonPointers","JSON","stringify","definitions","simpleTypes","const","$notOp","$exclType","$exclIsNumber","unicode","$allSchemasEmpty","$i","$noEmptySchema","$dataNxt","$nextData","$nonEmptySchema","$passData","$code","$compile","$inline","$macro","$ruleValidate","$validateCode","$rule","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","passContext","$parentData","$parentDataProperty","def_callRuleValidate","def_customError","$schemaDeps","$propertyDeps","$property","$deps","$currentErrorPath","$propertyKey","$useData","$prop","$propertyPath","$missingProperty","arr2","i2","l2","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","allOf","contains","maxLength","minLength","maxProperties","minProperties","multipleOf","$additionalItems","additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$schemaKeys","filter","notProto","$pProperties","patternProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","$additionalProperty","$useDefaults","arr3","i3","l3","$hasDefault","arr4","i4","l4","$invalidName","$refCode","$refVal","$message","missingRefs","__callValidate","$propertySch","$loopRequired","$itemType","$typeIsArray","$method","$refKeywords","$unknownKwd","$keywordsMsg","$top","rootId","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","extendRefs","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$dataType","$coerced","$type","arr5","i5","l5","$shouldUseRule","impl","$ruleImplementsSomeKeyword","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","GLOBAL","Big","MAX_DP","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","round","x","dp","rm","more","xc","unshift","n","s","z","RM","NE","PE","charAt","abs","cmp","y","isneg","yc","div","DP","bl","bt","ri","bz","ai","al","r","rl","q","qc","qi","shift","eq","gt","gte","lt","lte","minus","sub","xlty","plus","xe","ye","reverse","mod","ygtx","times","pow","one","sqrt","half","toExponential","mul","toFixed","toPrecision","sd","toString","valueOf","toJSON","_Big_","nl","search","substring","version","f","cycles","node","aobj","bobj","seen","isFinite","TypeError","seenIndex","sort","loader","raw","defineProperty","content","_loaderUtils","getOptions","_schemaUtils","_options","baseDataPath","context","rootContext","interpolateName","regExp","outputPath","resourcePath","_path","posix","publicPath","endsWith","postTransformPublicPath","emitFile","assetInfo","normalizedName","idx","substr","immutable","sourceFilename","_utils","normalizePath","relative","esModule","_interopRequireDefault","__esModule","path","stripTrailing","prefix","ch","segs","cb","_traverse","pre","post","arrayKeywords","propsKeywords","skipKeywords","createCommonjsModule","fn","_global","global","window","__g","_core","core","__e","_isObject","_anObject","_fails","exec","_descriptors","document","is","createElement","_ie8DomDefine","dP","_objectDp","O","Attributes","S","val","_toPrimitive","_hide","bitmap","enumerable","configurable","writable","_propertyDesc","_has","px","_shared","SHARED","store","copyright","_functionToString","_redefine","SRC","_uid","TO_STRING","TPL","inspectSource","safe","isFunction","_ctx","that","_aFunction","$export","own","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","target","expProto","U","W","R","_export","ceil","_toInteger","isNaN","$at","_defined","codePointAt","_toAbsoluteIndex","fromCharCode","$fromCodePoint","fromCodePoint","arguments$1","aLen","RangeError","parseState","stack","line","column","token","lexState","buffer","doubleQuote","sign","Space_Separator","ID_Start","ID_Continue","internalize","holder","reviver","replacement","lex","peek","lexStates","read","newToken","comment","invalidChar","multiLineComment","multiLineCommentAsterisk","singleLineComment","literal","NaN","identifierNameStartEscape","u","unicodeEscape","invalidIdentifier","identifierName","identifierNameEscape","zero","decimalInteger","decimalPointLeading","decimalPoint","decimalFraction","decimalExponent","decimalExponentSign","decimalExponentInteger","hexadecimal","hexadecimalInteger","string","parseInt","hexEscape","escape","formatChar","separatorChar","start","beforePropertyName","afterPropertyName","beforePropertyValue","afterPropertyValue","beforeArrayValue","afterArrayValue","end","list","parseStates","invalidEOF","parent","current","syntaxError","replacements","hexString","err","SyntaxError","lineNumber","columnNumber","replacer","space","propertyList","replacerFunc","quote","indent","gap","serializeProperty","toJSON5","Boolean","quoteString","stepback","final","partial","propertyString","properties$1","serializeArray","member","serializeKey","serializeObject","quotes","product","quoteChar","reduce","firstChar","factory","XMPlayer","player","XMView","periodForNote","prettify_effect","init","load","arrayBuf","dv","DataView","xm","songname","getstring","hlen","getUint32","songlen","getUint16","song_looppos","nchan","npat","ninst","tempo","bpm","channelinfo","global_volume","max_global_volume","filterstate","Float32Array","vol","pan","period","vL","vR","vLprev","vRprev","mute","volE","panE","retrig","vibratopos","vibratodepth","vibratospeed","vibratotype","songpats","getUint8","patrows","patsize","row","byte0","note","inst","efftype","effparam","notedata","instruments","hdrsiz","instname","nsamp","samplemap","Uint8Array","env_nvol","env_vol_type","env_vol_sustain","env_vol_loop_start","env_vol_loop_end","env_npan","env_pan_type","env_pan_sustain","env_pan_loop_start","env_pan_loop_end","vol_fadeout","env_vol","env_pan","samphdrsiz","totalsamples","samps","samplen","samploop","samplooplen","sampvol","sampfinetune","getInt8","samptype","samppan","sampnote","sampname","sampleoffset","prettify_note","samp","sampledata","ConvertSample","fileoffset","loop","looplen","UnrollSampleLoop","samples","env_end_tick","fadeout_ticks","Envelope","play","playing","resume","jsNode","connect","gainNode","temp_osc","audioctx","createOscillator","destination","noteOn","stop","noteOff","disconnect","pause","cur_pat","cur_row","cur_songpos","cur_ticksamp","cur_tick","nextTick","nextRow","_note_names","f_smp","popfilter_alpha","prettify_notedata","num","prettify_volume","offset","updateChannelPeriod","freq","doff","f_c","wct","PI","cos","filterCoeffs","fine","next_row","nextPat","setCurrentPattern","triggernote","release","voleffectfn","voleffectdata","effects_t1","portaspeed","effect","effectdata","effectfn","eff_t0","effects_t0","periodtarget","envtick","EnvelopeFollower","off","points","sustain","loopstart","loopend","env","tick","periodoffset","Tick","MixSilenceIntoBuf","dataL","dataR","MixChannelIntoBuf","instsamp","sample_end","volL","volR","dk","Vrms","f0","f1","f2","fs0","fs1","fs2","pf_8","failsafe","next_event","audio_cb","sampleRate","buflen","outputBuffer","getChannelData","ticklen","scopewidth","scope_width","tickduration","VU","scopes","scope","pushEvent","playbackTime","vu","songpos","pat","bits","acc","nloops","pingpong","samplesiz","audioContext","AudioContext","webkitAudioContext","createGain","gain","createScriptProcessor","createJavaScriptNode","onaudioprocess","Get","ticks","y0","x0","dx","eff_t1_0","arpeggio","eff_t1_3","eff_t1_4","delta","sin","getVibratoDelta","eff_t0_a","volumeslide","eff_t1_a","eff_unimplemented","eff_unimplemented_t0","slideupspeed","slidedownspeed","eff","loopremaining","finevolup","finevoldown","global_volumeslide","loaderContext","currentRequest","loaders","loaderIndex","request","resource","baseEncodeTables","createMd4","BatchedHash","hashType","digestType","update","base","encodeTable","readLength","output","encodeBufferToBase","digest","parseQuery","query","remainingRequest","MAX_SHORT_STRING","encoding","inputEncoding","startsWith","md4","WebAssembly","Module","from","bind","WasmHash","instance","instancesPool","chunkSize","digestSize","mem","memory","buffered","reset","_updateWithShortString","_updateWithBuffer","endPos","cc","write","newBuffered","copyWithin","hex","wasmModule","old","Instance","stringifyRequest","getRemainingRequest","getCurrentRequest","isUrlRequest","urlToRequest","parseString","getHashDigest","emojisList","emojiRegex","emojiList","emoji","emojiCache","filename","hasQuery","resourceQuery","ext","basename","directory","folder","parsed","dir","sep","hashIdx","emojis","emojiEncoding","encodeStringToEmoji","matched","customInterpolateName","win32","isAbsolute","JSON5","specialValues","true","false","queryArgs","arg","matchRelativePath","isAbsolutePath","splitted","splittedPart","singlePath","matchNativeWin32Path","moduleRequestRegex","stringHints","numberHints","SPECIFICITY","instanceof","absolutePath","filterMax","evaluatedMax","findAllChildren","children","schemaPaths","predicate","extractRefs","childrenStart","hasNotInSchema","findFirstTypedSchema","canApplyNot","typedSchema","likeNumber","likeInteger","likeString","likeNull","likeBoolean","isObject","maybeObj","likeArray","likeObject","getSchemaNonTypes","formatHints","hints","getHints","logic","configuration","headerNameFromSchema","baseDataPathFromSchema","super","title","splittedTitleFromSchema","headerName","postFormatter","header","formatValidationErrors","captureStackTrace","getSchemaPart","newPath","schemaPart","inner","formatSchema","prevSchemas","newLogic","formatInnerSchema","innerSchema","addSelf","includes","needApplyLogicHere","ifValue","thenValue","else","elseValue","hasAdditionalItems","objectStructure","Set","property","dependencyName","dependency","dep","getSchemaPartText","additionalPath","needDot","schemaText","description","link","getSchemaPartDescription","formatValidationError","params","comparison","missingPattern","missingProperty","hasProperty","additionalProperty","propertyName","postfix","schemaOutput","lastChild","remainingChildren","assign","filteredChildren","newChildren","filterChildren","child","groupChildrenByFirstChild","nestedError","failingKeyword","formattedError","_default","errorMessage","getErrorFor","shouldBeAbsolute","passes","Range","static","side","formatLeft","getOperator","formatRight","startExclusive","endExclusive","values","_left","_right","left","right","leftExclusive","getRangeValue","rightExclusive","realStart","formatRange","currentSchema","tmpLength","tmpFormat","tmpExclusive","formatExclusiveMaximum","formatExclusiveMinimum","rangeFormat","nestedOptions","validateObject","applyPrefix","_ValidationError","_absolutePath","ajvKeywords","compiledSchema","newErrors","oldError","filterErrors","appendChild","dom","style","display","cssText","addEventListener","preventDefault","performance","g","Panel","h","REVISION","addPanel","showPanel","begin","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","devicePixelRatio","m","width","height","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","w","drawImage","scene","framebuffer","canvas","startTime","boundRenderLoop","oImageSmoothingEnabled","imageSmoothingEnabled","webkitImageSmoothingEnabled","Framebuffer","renderLoop","appendTo","getElementById","event","FullscreenUtils","toggleFullscreen","onInit","render","flipBackbuffer","requestAnimationFrame","putImageData","getImageData","element","CullFace","minWindow","maxWindow","wBuffer","cullMode","BACK","camera","bob","triangleRasterizer","FlatShadingTriangleRasterizer","texturedTriangleRasterizer","TexturedTriangleRasterizer","scaleClipBlitter","ScaleClipBlitter","texturedRenderingPipeline","lineRasterizer","LineRasterizerDda","lineRasterizerNo","LineRasterizerNoZ","tmpGlitch","lensFlareVisible","lensFlareStart","lensFlareEnd","imageData","unsignedIntArray","torus","Torus","plane","cylinder2","linerClipper","CohenSutherlandLineClipper","clipRegion","texture","Texture","ImageData","arrayBuffer","ArrayBuffer","PIXEL_SIZE_IN_BYTES","Uint8ClampedArray","Uint32Array","TexturingRenderingPipeline","Vector2f","RightClipEdge","LeftClipEdge","BottomClipEdge","TopClipEdge","setCullFace","face","setTexture","precompute","set","color","Color","BLACK","toPackedFormat","clearColorBuffer","fill","drawPixel","drawPixel4","alpha","inverseAlpha","drawPixel3","alpha2","drawPixelAntiAliased","roundedX","roundedY","percent","drawPixelAliased","drawPixelAntiAliasedSpacial","readPixel","drawRect","drawRect2","drawText","xpos","firstIndex","tx","ty","drawTextureRectFastAlpha","addReflections","interpolate","drawTextureRect2","xs","ys","xt","yt","texIndex","frIndex","drawTextureColorized","txPixel","drawTextureRectNoAlpha","c1","c2","nAlpha","nInvAlpha","drawTextureRect","pixelWidth","fbPixel","drawTextureRectAdd","pixelate","xoff","yoff","drawBox2","drawLineDDA","Vector3f","fastFramebufferCopyOffset","src","dest","fastFramebufferCopy","noise","elapsedTime","scale","rng","setSeed","getFloat","drawTexturedBillboard","xp","yp","xStep","yStep","newHeight","newWidth","yStart","xStart","xTextureStart","xx","yy","index2","textureIndex","drawParticle","alphaBlend","alphaScale","framebufferPixel","texturePixel","drawParticle2","imgNum","spritH","drawParticle2Sub","drawParticleNoDepth","drawSoftParticle","zDist","drawFog","fogScale","fogOffset","videoMemorySize","wBufferScale","drawScaledTextureClipBi","getBilinearFilteredPixel2","drawScaledTextureClipBiAdd","drawScaledTextureClipAdd","drawTexture","SCREEN_WIDTH","SCREEN_HEIGHT","framebufferIndex","textureRowOffset","framebufferRowOffset","yHeight","xWidth","drawTextureFullscreen","drawTexture3","mHeight","drawTextureNoClipAlpha","scene8","modelViewMartrix","Matrix3f","constructScaleMatrix","multiplyMatrix","constructYRotationMatrix","constructXRotationMatrix","points2","transformed","multiply","nearPlaneClipping","project","NEAR_PLANE_Z","cohenSutherlandLineClipper","ratio","t3","clearDepthBuffer","drawBox","x1","y1","wireFrameSphereClipping","STEPS2","sphereFunction2","Matrix4f","constructTranslationMatrix","multiplyHom","colred","v1","v2","v3","colLine","isTriangleCCW","det","drawBoundingSphere","sphere","matrix","getRadius","getCenter","drawPlanedeformationTunnelAnim","xdist","ydist","dist","dist2","angle","atan2","color1","cosineInterpolate","drawParticleWaves","noClear","size","drawScreenBounds","WHITE","drawLineDDANoZ","drawParticleStreams","light","drawPlaneDeformation","IMG_WIDTH","IMG_HEIGHT","torusFunction","y2","mu","mu2","fakeSphere","normal","vertex","textureCoordinate","asin","fakeSphere2","tex","drawLensFlare","screenPos","dirt","temp","theta","phi","Vector4f","seed","back","down","front","TextureUtils","setClamp","draw","mv","setFramebuffer","drawSkyBox","getRotation","rotation","sclae","textures","skyBoxSideModel","skyPoints","uv","TextureCoordinate","faces","vertices","setModelViewMatrix","position","projection","keyFrames","setKeyFrames","getViewMatrix","first","third","fraction","Utils","CubicInterpolate","look","EulerAngleCamera","blenderScene","invert","normals","n1","n2","n3","transformedNormals","transformedPoints","file","disp","coords","ComputationalGeometryUtils","computeBoundingSphere","normals2","boundingSphere","json","currentObject","normalCount","vertexCount","uvCount","normalOffset","vertexOffset","uvOffset","Mesh","Vector","parseFloat","TexCoord","Face","drawScaledTextureClip","frame","fetch","response","cameraPath","CameraPath","myFrame","CameraFrame","location","frames","CameraKeyFrame","ry","rz","constructZRotationMatrix","translation","getPosition","_start","_end","_length","isEmpty","insertStart","next","previous","insertEnd","insert","currentNode","deleteStart","deleteEnd","delete","getNode","toArray","_data","_next","_previous","input","istart","istop","ostart","ostop","srcPosition","dst","dstPosition","fade","lerp","grad","permutation","X","Y","Z","A","AA","AB","BA","BB","y3","a0","AbstractCube","AbstractScene","blurred","accumulationBuffer","renderingPipeline","GouraudShadingRenderingPipeline","BlenderLoader","mesh","generateProceduralNoise","drawBlenderScene2","texture3","model","BakedLighting","skyBox","baked","blenderObj8","SkyBox","loadWithTexture","drawBlenderScene7","drawMeshArray","BlenderCameraScene","ORANGE","texture4","modelViewMatrix","ModelViewMatrix","fpsStartTime","fpsCount","fps","meshes","light1","light2","PointLight","ambientIntensity","diffuseIntensity","specularIntensity","setLights","WavefrontLoader","CameraLoader","timeInput","currentTime","cameraAnimator","BlenderCameraAnimator","computeCameraMovement","setIdentity","trans","TransitionMethods","BlockFade","ledTexture","transitionFramebufferTo","transitionCircle","transitionWipe","c3","drawCircle","textureBackground","putpixel","radius","blockFade","transition","transitionSceneFrom","transitionSceneTo","transitionMethod","transitionValue","trunc","BLOCKFADE","CROSSFADE","crossFade","FADEIN","fadeIn","FADEOUT","fadeOut","WIPE_LEFT","crossFadeImage","CIRCLE","pixelArray","pixelArrayWidth","blockWidth","horizontalUnits","verticalUnits","fadeArray","blend","transitionImage","clamp","startColor","endColor","renderScanlines","shiftAmount","offRed","offGreen","offBlue","strips","verticalPosition","imagePixelR","imagePixelG","imagePixelB","CubeScene","cubeMesh","Cube","BACKGROUND_COLOR","renderCube","getMesh","getModelViewMatrix","renderBackground","soundManager","canvasRecorder","sceneList","nodeInstance","timelineRef","stats","SoundManager","DoublyLinkedList","initControls","allProgress","musicData","loadOgg","rocketData","prepareSync","plug","initScene","outputX","constructorName","newNode","DLNode","CanvasRecorder","initTimeline","initStats","tickerPlayRef","tickerStopRef","tickerNextRef","tickerBackRef","tickerRecordRef","tickerScreenshotRef","tickerVolumeRef","onPause","seek","classList","recording","saveVideo","onPlay","recordVideo","audio","paused","isPlaying","setAttribute","toggleSound","muted","localStorage","setItem","fileName","toTimeString","image","toDataURL","anchor","click","jump","newSeek","duration","directionToScroll","deltaY","stopPropagation","passive","promises","progressCallback","Stats","statsObj","body","updateMusic","musicProperties","sceneData","transitionType","timeMilliseconds","bass","drawStats","timeSeconds","syncDevice","connected","demoMode","innerText","canvasRecordingOptions","audioTrack","getType","createCanvasRecorder","frameRate","download","recorderOptions","mimeType","audioBitsPerSecond","videoBitsPerSecond","chunks","stream","captureStream","ctx","createMediaStreamDestination","sourceNode","createMediaElementSource","getAudioTracks","addTrack","recorder","MediaRecorder","ondataavailable","onstop","blob","Blob","createObjectURL","href","MouseEvent","dispatchEvent","setTimeout","revokeObjectURL","timeslice","dispose","sound","info","canvasObj","PlaneDeformationFloorScene","PlaneDeformationScene","MetalHeadzScene","DofBallsScene","TorusKnotTunnelScene","GearsScene","ParticleStreamsScene","HoodlumScene","TwisterScene","RazorScene","logo","SineScrollerScene","background","pizza","PlasmaScene","TorusScene","DistortedSphereScene","renderTransparent","RotoZoomerScene","VoxelBallsScene","LedPlasmaScene","heightmapSphere","createSphereDistplaced","shadingSphereEnvDisp2","createSphere","pointsA","divideSphere","point","find","findPoint","steps","vn1","vn2","vn3","newPoints","rot","norm","norm2","cross","sub2","cross2","add2","normalize2","normalMatrix","computeNormalMatrix","multiplyHomArr","vertex1","Vertex","vertex2","vertex3","vertexArray","clipConvexPolygon2","drawTriangleDDA","particleTexture2","drawParticleTorus","computeDepthBlur","nearPlane","focalPlane","farPlane","depth","spriteNum","gearsMesh","FRONT","drawBlenderScene4","factor","dampFactor","lab2","spaceLabMesh","hoodlumLogoMesh","createProceduralTexture3","drawBlenderScene9","scale2","dy","led","lineDirection","radialWaveCenter","difference","directionalWave","intensity","currtentMatrix","tempMatrix","transformation","getMatrix","setIdentityMatrix","multMatrix","mat","setTranslationMatrix","applyMat","scal","setScaleMatrix","xRotate","setXRotationMatrix","yRotate","setYRotationMatrix","multiply2","metalheadz","texture11","texture13","blenderObjMetal","lensflareScreenSpace","generateProceduralParticleTexture","radius2","effectStyle","texturePath","mLUT","createLUT","effectWidth","effectHeight","textureWidth","textureHeight","Int32Array","bright","elapsedTimeY","elapsedTimeX","pixelCount","adjustBrightness","currentPixel","drawOldPlaneDeformationFloor","drawOldPlaneDeformationStar","GRADIENTLEN","SWINGLEN","SWINGMAX","colorGrad","swingCurve","makeGradient","makeSwingCurve","drawPlasma","arrlen","maxval","halfmax","ni","cos256","amplitude","swing","gradient","swingT","swingY","swingYT","drawOldSchoolPlasma","waveSum","red","green","blue","texture10","cube","dodecahedron","pyramid","icosahedron","Dodecahedron","Pyramid","Sphere","reproduceRazorScene","distance","yDisplacement","enableLighting","setColor","DARK_GRAY","constructShadowMatrix","logoTexture","drawRotoZoomer","yStepX","yStepY","xStepX","xStepY","texYCoord","texXCoord","texYCoordInner","texXCoordInner","framebufferPos","fontTexture","charToIndex","fonts","Map","addCharInex","drawText2","xFonts","asciiCode","has","sine","xOff","textOff","startW","endW","yDisp","char","texture2","fontRenderer","fontRenderer2","FontRenderer","drawStarField","myTime","frambuffer","stars","stars2","DARK_BLUE","particleTexture","cocoon","torusKnot","TorusKnot","fog","LinearFog","setFog","generateProceduralParticleTexture2","torusTunnel","glitchScreen","glitchFactor","rng2","glIndex","torusFunction3","frame2","tangent","constructIdentityMatrix","m14","m24","m34","m11","m21","m31","m12","m22","m32","m13","m23","m33","finalMatrix","transpose","razorLogo","drawTitanEffect","shadingTorus","horizontalNum","verticalNum","backgroundTexture","x2","x3","x4","xPos","drawSpan","ypos","textureForwardDifference","hightlight","YELLOW","xSteps","xsteps","zsteps","fullscreen","exitFullscreen","setStyle","enterFullscreen","el","css","getAttribute","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen","mozCancelFullScreen","webkitExitFullscreen","inverse","buildMesh","AbstractGeometricObject","ySteps","STEPS","sphereFunction","center","xScale","yScale","zScale","vector","m41","m42","m43","m44","inverseTranslation","scale1","scale3","inverseRotation","getInverseRotation","planePoint","planeNormal","lightPosition","dot","NdotL","shadowMatrix","tz","sx","sy","sz","matrix2","multiplyHomArr2","multiplyArr","isInsidePositiveHalfSpace","getNormal","getDistance","getTran","perp","vec","reci","mult","vec1","vec2","componentWiseMul","BlenderJsonParser","getBlenderScene","convertToMeshArray","AbstractScannlineTriangleRasterizer","AbstractTriangleRasterizer","p1","p2","p3","fillLongRightTriangle","fillLongLeftTriangle","colorSlope","setup","advance","slope1","slope2","zslope1","zslope2","curz1","curz2","xPosition","xPosition2","yPosition","yDistanceLeft","yDistanceRight","spanzStep","wStart","GouraudShadingTriangleRasterizer","colorInterpolator1","ColorInterpolator","colorInterpolator2","colorInterpolator3","rowColorInterpolator","leftSlope","SlopeInterpolator","rightSlope","yDistance","shortSlope","currentX","currentZ","slope","zslope","top","bottom","TexturedAlphaBlendingTriangleRasterizer","pipeline","tslope1u","tslope2u","tslope1v","tslope2v","curu1","curv1","curu2","curv2","spanuStep","spanvStep","uStart","vStart","currentColor","color2","xDistance","wDelta","setAlpha","isInFrontOfNearPlane","isTriangleCCW2","v4","AbstractRenderingPipeline","lights","material","lighting","clipper","projectedVertices","SutherlandHodgman2DClipper","Material","ambientColor","diffuseColor","specularColor","shininess","enable","setMaterial","normal1","normal2","normal3","project2","renderConvexPolygon","computeColor","zClipTriangle","computeNearPlaneIntersection","subject","projected","late","clippedPolygon","clipConvexPolygon","triangulateConvexPolygon","vertexColor","PhongLighting","computeVertexColor","sphereMapping","setSphereMapping","arg0","enableAlphaBlending","disableAlphaBlending","zClipTriangle2","computeNearPlaneIntersection2","edge","isInside2","computeIntersection2","AbstractClipEdge","isInside","computeIntersection","textCoord","col","code1","computeRegionCode","code2","accept","done","isTrivialAccept","isTrivialReject","REGION_CODE_CENTER","tempCode","tempPoint","REGION_CODE_TOP","REGION_CODE_BOTTOM","REGION_CODE_RIGHT","REGION_CODE_LEFT","regionCode","Fog","zStart","zEnd","fogColor","finalColor","computeAmbientIntensity","computeDiffuseIntensity","computeSpecularIntensity","lightDirection","Light","emissiveColor","songLengthSeconds","Audio","JSRocket","SyncDevice","BPM","ROWS_PER_BEAT","ROW_RATE","snare","playExtendedModule","initXM","playOgg","decodeAudioData","sourceBuffer","createBufferSource","preload","autoplay","setConfig","on","onSyncReady","newRow","onSyncUpdate","getTrack","onpause","onplay","getValue","playPromise","catch","direction","sceneLength","effectJump","isMuted","jumpTo","getItem","getPixel","getBilinearFilteredPixel","x0y0","x1y0","x0y1","x1y1","col1","col2","getPixel3","interpolateComp","getPixel2","transparency","Image","onload","onerror","withAlpha","conv","merge","_len","sets","_key","xl","subexp","typeOf","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","sliceIterator","maxInt","regexPunycode","regexNonASCII","regexSeparators","stringFromCharCode","error$1","mapDomain","ucs2decode","counter","extra","digitToBasic","digit","flag","adapt","numPoints","firstTime","baseMinusTMin","decode","codePoint","inputLength","bias","basic","lastIndexOf","oldi","baseMinusT","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","qMinusT","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","_c","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","host","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","_address$toLowerCase$2","last","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","resolveComponents","tolerant","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_x","_xl","_x2","_xl2","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","handler$6","uuidComponents","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","SyncData","_track","getIndexForName","getTrackLength","createIndex","varName","track","Track","lo","hi","mi","findKeyIndex","k0","k1","interpolation","SyncDevicePlayer","_urlRequest","_syncData","_eventHandler","XMLHttpRequest","open","onreadystatechange","urlRequestHandler","send","readyState","status","xmlString","tLen","kLen","trackList","DOMParser","parseFromString","getElementsByTagName","keyList","ready","readXML","responseText","rocketXML","evt","SyncDeviceClient","_ws","WebSocket","socketURL","toInt","view","setUint8","byteLength","getInt32","onopen","binaryType","onmessage","queue","cmd","subarray","getFloat32","save","onclose","utf8Name","streamInt","_device","_previousIntRow","_connected","_config","deviceReady","deviceUpdate","devicePlay","devicePause","option","getConfig","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","toStringTag","scriptUrl","importScripts","currentScript","scripts","Application","Canvas","CANVAS_WIDTH","CANVAS_HEIGHT","DemoScene","main"],"sourceRoot":""}