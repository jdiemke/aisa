"use strict";(self.webpackChunkaisa=self.webpackChunkaisa||[]).push([[2178],{2178:(e,t,r)=>{r.r(t),r.d(t,{Scene12:()=>u});var a=r(7401),i=r(6852),s=r(9999),n=r(8931),c=r(82);class l extends s.p{blurred;particleTexture2;noise;accumulationBuffer;init(e){return this.accumulationBuffer=new Uint32Array(e.width*e.height),Promise.all([c.O.load(r(4232),!1).then((e=>this.blurred=e)),c.O.load(r(5817),!0).then((e=>this.particleTexture2=e)),c.O.generateProceduralNoise().then((e=>this.noise=e))])}render(e,t){e.drawScaledTextureClipBi(0,0,e.width,e.height,this.blurred,1),this.drawParticleTorus(e,t,this.particleTexture2,!0);const r=new n.x(this.accumulationBuffer,e.width,e.height);e.drawTexture(0,0,r,.6),e.fastFramebufferCopy(this.accumulationBuffer,e.framebuffer),e.noise(t,this.noise)}computeDepthBlur(e,t,r,a){let i;return i=a>t?(a-t)/(e-t):(a-t)/(r-t),Math.min(i,1)}drawParticleTorus(e,t,r,s=!1){s||e.clearColorBuffer(-13617080),e.clearDepthBuffer();const n=new Array;for(let e=0;e<50;e++){const r=5.2*Math.cos(e*Math.PI*2/50*3.7+.0016*t),a=.4*(e-25),s=5.2*Math.sin(e*Math.PI*2/50*3.7+.0016*t);n.push(new i.r(r,a,s))}const c=a.C.constructTranslationMatrix(0,0,-12).multiplyMatrix(a.C.constructYRotationMatrix(4e-4*t).multiplyMatrix(a.C.constructXRotationMatrix(4e-4*t))),l=new Array(n.length);n.forEach((t=>{l.push(e.project(c.multiply(t)))})),l.sort(((e,t)=>e.z-t.z)),l.forEach((t=>{const a=-846.8/t.z,i=Math.round(13*this.computeDepthBlur(0,-15,-70,t.z));e.drawParticle2Sub(t.x-a/2,t.y-a/2,a,a,r,1/t.z,1,i,128)}))}}class u{DofBallsScene;init(e){return this.DofBallsScene=new l,Promise.all([this.DofBallsScene.init(e)])}render(e,t){this.DofBallsScene.render(e,t)}}},4232:(e,t,r)=>{e.exports=r.p+"7ac69aefeb77efddca43.png"},5817:(e,t,r)=>{e.exports=r.p+"8cac1eea6b337bec7dab.png"}}]);
//# sourceMappingURL=2178.js.map